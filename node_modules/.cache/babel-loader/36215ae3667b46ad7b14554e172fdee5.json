{"ast":null,"code":"var _jsxFileName = \"/home/prakash/nftdapp-tutorial/src/App.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport Collection from \"./Collection.js\";\nimport SaleCollection from \"./SaleCollection.js\";\nimport * as fcl from \"@onflow/fcl\";\nimport * as t from \"@onflow/types\";\nimport { useState, useEffect } from 'react';\nimport { create } from 'ipfs-http-client';\nimport { mintNFT } from \"./cadence/transactions/mint_nft.js\";\nimport { setupUserTx } from \"./cadence/transactions/setup_user.js\";\nimport { listForSaleTx } from \"./cadence/transactions/list_for_sale.js\";\nimport { unlistFromSaleTx } from \"./cadence/transactions/unlist_from_sale.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst client = create('https://ipfs.infura.io:5001/api/v0');\nfcl.config().put(\"accessNode.api\", \"https://access-testnet.onflow.org\").put(\"discovery.wallet\", \"https://fcl-discovery.onflow.org/testnet/authn\");\n\nfunction App() {\n  _s();\n\n  const [user, setUser] = useState();\n  const [nameOfNFT, setNameOfNFT] = useState('');\n  const [file, setFile] = useState();\n  useEffect(() => {\n    // sets the `user` variable to the person that is logged in through Blocto\n    fcl.currentUser().subscribe(setUser);\n  }, []);\n\n  const logIn = () => {\n    // log in through Blocto\n    fcl.authenticate();\n  };\n\n  const mint = async () => {\n    try {\n      const added = await client.add(file);\n      const hash = added.path;\n      const transactionId = await fcl.send([fcl.transaction(mintNFT), fcl.args([fcl.arg(hash, t.String), fcl.arg(nameOfNFT, t.String)]), fcl.payer(fcl.authz), fcl.proposer(fcl.authz), fcl.authorizations([fcl.authz]), fcl.limit(9999)]).then(fcl.decode);\n      console.log(transactionId);\n      return fcl.tx(transactionId).onceSealed();\n    } catch (error) {\n      console.log('Error uploading file: ', error);\n    }\n  };\n\n  const unlistFromSale = async () => {\n    const transactionId = await fcl.send([fcl.transaction(unlistFromSaleTx), fcl.args([fcl.arg(parseInt(id), t.UInt64)]), fcl.payer(fcl.authz), fcl.proposer(fcl.authz), fcl.authorizations([fcl.authz]), fcl.limit(9999)]).then(fcl.decode);\n    console.log(transactionId);\n    return fcl.tx(transactionId).onceSealed();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Account address: \", user && user.addr ? user.addr : '']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => logIn(),\n      children: \"Log In\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => fcl.unauthenticate(),\n      children: \"Log Out\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setupUser(),\n      children: \"Setup User\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        onChange: e => setAddress(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setOfficialAddress(address),\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        onChange: e => setNameOfNFT(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: e => setFile(e.target.files[0])\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => mint(),\n        children: \"Mint\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        onChange: e => setID(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        onChange: e => setPrice(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => listForSale(),\n        children: \"Lift NFT for Sale\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => unlistFromSale(),\n        children: \"Unlist an NFT from Sale\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), user && user.addr && officialAddress && officialAddress !== '' ? /*#__PURE__*/_jsxDEV(Collection, {\n      address: officialAddress\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }, this) : null, user && user.addr && officialAddress && officialAddress !== '' ? /*#__PURE__*/_jsxDEV(SaleCollection, {\n      address: officialAddress\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"QiTS4l5Chmvk1+KFHEY0mJEU4tI=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/prakash/nftdapp-tutorial/src/App.js"],"names":["Collection","SaleCollection","fcl","t","useState","useEffect","create","mintNFT","setupUserTx","listForSaleTx","unlistFromSaleTx","client","config","put","App","user","setUser","nameOfNFT","setNameOfNFT","file","setFile","currentUser","subscribe","logIn","authenticate","mint","added","add","hash","path","transactionId","send","transaction","args","arg","String","payer","authz","proposer","authorizations","limit","then","decode","console","log","tx","onceSealed","error","unlistFromSale","parseInt","id","UInt64","addr","unauthenticate","setupUser","e","setAddress","target","value","setOfficialAddress","address","files","setID","setPrice","listForSale","officialAddress"],"mappings":"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","sourcesContent":["import './App.css';\n\nimport Collection from \"./Collection.js\";\nimport SaleCollection from \"./SaleCollection.js\";\n\nimport * as fcl from \"@onflow/fcl\";\nimport * as t from \"@onflow/types\";\nimport {useState, useEffect} from 'react';\nimport {create} from 'ipfs-http-client';\nimport {mintNFT} from \"./cadence/transactions/mint_nft.js\";\nimport {setupUserTx} from \"./cadence/transactions/setup_user.js\";\nimport {listForSaleTx} from \"./cadence/transactions/list_for_sale.js\";\nimport {unlistFromSaleTx} from \"./cadence/transactions/unlist_from_sale.js\";\n\nconst client = create('https://ipfs.infura.io:5001/api/v0');\n\nfcl.config()\n  .put(\"accessNode.api\", \"https://access-testnet.onflow.org\")\n  .put(\"discovery.wallet\", \"https://fcl-discovery.onflow.org/testnet/authn\")\n\nfunction App() {\n  const [user, setUser] = useState();\n  const [nameOfNFT, setNameOfNFT] = useState('');\n  const [file, setFile] = useState();\n \n\n  useEffect(() => {\n    // sets the `user` variable to the person that is logged in through Blocto\n    fcl.currentUser().subscribe(setUser);\n  }, [])\n\n  const logIn = () => {\n    // log in through Blocto\n    fcl.authenticate();\n  }\n\n  const mint = async () => {\n\n    try {\n      const added = await client.add(file)\n      const hash = added.path;\n\n      const transactionId = await fcl.send([\n        fcl.transaction(mintNFT),\n        fcl.args([\n          fcl.arg(hash, t.String),\n          fcl.arg(nameOfNFT, t.String)\n        ]),\n        fcl.payer(fcl.authz),\n        fcl.proposer(fcl.authz),\n        fcl.authorizations([fcl.authz]),\n        fcl.limit(9999)\n      ]).then(fcl.decode);\n  \n      console.log(transactionId);\n      return fcl.tx(transactionId).onceSealed();\n    } catch(error) {\n      console.log('Error uploading file: ', error);\n    }\n  }\n\n  \n\n  \n  const unlistFromSale = async () => {\n    const transactionId = await fcl.send([\n      fcl.transaction(unlistFromSaleTx),\n      fcl.args([\n        fcl.arg(parseInt(id), t.UInt64)\n      ]),\n      fcl.payer(fcl.authz),\n      fcl.proposer(fcl.authz),\n      fcl.authorizations([fcl.authz]),\n      fcl.limit(9999)\n    ]).then(fcl.decode);\n\n    console.log(transactionId);\n    return fcl.tx(transactionId).onceSealed();\n  }\n\n  return (\n    <div className=\"App\">\n      <h1>Account address: {user && user.addr ? user.addr : ''}</h1>\n      <button onClick={() => logIn()}>Log In</button>\n      <button onClick={() => fcl.unauthenticate()}>Log Out</button>\n      <button onClick={() => setupUser()}>Setup User</button>\n\n      <div>\n        <input type=\"text\" onChange={(e) => setAddress(e.target.value)} />\n        <button onClick={() => setOfficialAddress(address)}>Search</button>\n      </div>\n\n      <div>\n        <input type=\"text\" onChange={(e) => setNameOfNFT(e.target.value)} />\n        <input type=\"file\" onChange={(e) => setFile(e.target.files[0])} />\n        <button onClick={() => mint()}>Mint</button>\n      </div>\n\n      <div>\n        <input type=\"text\" onChange={(e) => setID(e.target.value)} />\n        <input type=\"text\" onChange={(e) => setPrice(e.target.value)} />\n        <button onClick={() => listForSale()}>Lift NFT for Sale</button>\n        <button onClick={() => unlistFromSale()}>Unlist an NFT from Sale</button>\n      </div>\n\n      { user && user.addr && officialAddress && officialAddress !== ''\n        ?\n        <Collection address={officialAddress}></Collection>\n        :\n        null\n      }\n\n      { user && user.addr && officialAddress && officialAddress !== ''\n        ?\n        <SaleCollection address={officialAddress}></SaleCollection>\n        :\n        null\n      }\n      \n      \n    </div>\n  );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}