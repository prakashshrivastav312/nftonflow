{"ast":null,"code":"import * as e from \"@onflow/sdk\";\nimport { config as t, account as r, send as n, getTransactionStatus as o, decode as a, resolve as i, createSignableVoucher as s, pipe as c, interaction as u, latestBlock as d, encodeMessageFromSignable as l } from \"@onflow/sdk\";\nexport { TestUtils, account, arg, args, atBlockHeight, atBlockId, authorization, authorizations, build, config, createSignableVoucher, decode, getAccount, getBlock, getBlockByHeight, getBlockById, getBlockHeader, getCollection, getEvents, getEventsAtBlockHeightRange, getEventsAtBlockIds, getLatestBlock, getTransaction, getTransactionStatus, invariant, isBad, isOk, latestBlock, limit, param, params, payer, ping, pipe, proposer, ref, script, send, transaction, validator, why } from \"@onflow/sdk\";\nimport { invariant as f } from \"@onflow/util-invariant\";\nimport * as p from \"@onflow/types\";\nimport { INIT as h, SUBSCRIBE as v, UNSUBSCRIBE as m, spawn as y, send as E, UPDATED as g, SNAPSHOT as P, subscriber as C, snapshoter as R } from \"@onflow/util-actor\";\nimport { withPrefix as S, sansPrefix as w } from \"@onflow/util-address\";\nexport { display, sansPrefix, withPrefix } from \"@onflow/util-address\";\nimport * as L from \"@onflow/rlp\";\nimport { uid as b } from \"@onflow/util-uid\";\nexport { template as cadence, template as cdc } from \"@onflow/util-template\";\n\nvar A = function (e) {\n  try {\n    return Promise.resolve(t().where(e)).then(function (t) {\n      return Object.fromEntries(Object.entries(t).map(function (t) {\n        var r = t[1];\n        return [t[0].replace(e, \"\"), r];\n      }));\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nt({\n  \"discovery.wallet.method.default\": \"IFRAME/RPC\",\n  \"fcl.storage.default\": {\n    can: !0,\n    get: function (e) {\n      try {\n        return Promise.resolve(JSON.parse(sessionStorage.getItem(e)));\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    },\n    put: function (e, t) {\n      try {\n        return Promise.resolve(sessionStorage.setItem(e, JSON.stringify(t)));\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    }\n  }\n});\n\nvar I = \"0.0.77\",\n    F = function (e) {\n  return function (t) {\n    return typeof t === e;\n  };\n},\n    O = function (e) {\n  return null != e;\n},\n    N = F(\"object\"),\n    D = F(\"string\"),\n    k = F(\"function\"),\n    j = F(\"number\");\n\nfunction T(t) {\n  return k(t) ? t(e.arg, p) : [];\n}\n\nvar _ = function (t) {\n  void 0 === t && (t = {});\n\n  try {\n    return Promise.resolve(function (t) {\n      try {\n        return f(O(t.cadence), \"query({ cadence }) -- cadence is required\"), f(D(t.cadence), \"query({ cadence }) -- cadence must be a string\"), Promise.resolve(e.config.get(\"accessNode.api\")).then(function (e) {\n          f(e, 'Required value for \"accessNode.api\" not defined in config. See: https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration');\n        });\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    }(t)).then(function () {\n      return e.send([e.script(t.cadence), e.args(T(t.args || [])), t.limit && \"number\" == typeof t.limit && e.limit(t.limit)]).then(e.decode);\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nfunction V() {\n  return (V = Object.assign || function (e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = arguments[t];\n\n      for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);\n    }\n\n    return e;\n  }).apply(this, arguments);\n}\n\nfunction x(e, t) {\n  (null == t || t > e.length) && (t = e.length);\n\n  for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];\n\n  return n;\n}\n\nfunction M(e, t) {\n  var r = \"undefined\" != typeof Symbol && e[Symbol.iterator] || e[\"@@iterator\"];\n  if (r) return (r = r.call(e)).next.bind(r);\n\n  if (Array.isArray(e) || (r = function (e, t) {\n    if (e) {\n      if (\"string\" == typeof e) return x(e, t);\n      var r = Object.prototype.toString.call(e).slice(8, -1);\n      return \"Object\" === r && e.constructor && (r = e.constructor.name), \"Map\" === r || \"Set\" === r ? Array.from(e) : \"Arguments\" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? x(e, t) : void 0;\n    }\n  }(e)) || t && e && \"number\" == typeof e.length) {\n    r && (e = r);\n    var n = 0;\n    return function () {\n      return n >= e.length ? {\n        done: !0\n      } : {\n        done: !1,\n        value: e[n++]\n      };\n    };\n  }\n\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar W = {\n  f_type: \"Service\",\n  f_vsn: \"1.0.0\"\n},\n    U = {\n  f_type: \"Identity\",\n  f_vsn: \"1.0.0\"\n},\n    z = {\n  f_type: \"USER\",\n  f_vsn: \"1.0.0\"\n},\n    H = {\n  f_type: \"PollingResponse\",\n  f_vsn: \"1.0.0\"\n},\n    Y = {\n  f_type: \"CompositeSignature\",\n  f_vsn: \"1.0.0\"\n};\n\nfunction B(e) {\n  if (null == e) return null;\n\n  switch (e.f_vsn) {\n    case \"1.0.0\":\n      return e;\n\n    default:\n      return V({\n        old: e\n      }, W, {\n        type: \"frame\",\n        endpoint: e.endpoint,\n        params: e.params || {},\n        data: e.data || {}\n      });\n  }\n}\n\nfunction J(e) {\n  if (null == e) return null;\n\n  switch (e.f_vsn) {\n    case \"1.0.0\":\n      return e;\n\n    default:\n      return V({}, W, {\n        type: \"back-channel-rpc\",\n        endpoint: e.endpoint,\n        method: e.method,\n        params: e.params || {},\n        data: e.data || {}\n      });\n  }\n}\n\nfunction q(e) {\n  if (null == e) return null;\n\n  switch (null == e.method && (e = V({}, e, {\n    type: \"local-view\",\n    method: \"VIEW/IFRAME\"\n  })), e.f_vsn) {\n    case \"1.0.0\":\n      return e;\n\n    default:\n      return V({}, W, {\n        type: e.type || \"local-view\",\n        method: e.method,\n        endpoint: e.endpoint,\n        data: e.data || {},\n        params: e.params || {}\n      });\n  }\n}\n\nvar K = {\n  \"back-channel-rpc\": J,\n  \"pre-authz\": function (e) {\n    if (null == e) return null;\n\n    switch (e.f_vsn) {\n      case \"1.0.0\":\n        return e;\n\n      default:\n        return V({}, W, {\n          type: e.type,\n          uid: e.id,\n          endpoint: e.endpoint,\n          method: e.method,\n          identity: V({}, U, {\n            address: S(e.addr),\n            keyId: e.keyId\n          }),\n          params: e.params,\n          data: e.data\n        });\n    }\n  },\n  authz: function (e) {\n    if (null == e) return null;\n\n    switch (e.f_vsn) {\n      case \"1.0.0\":\n        return e;\n\n      default:\n        return V({}, W, {\n          type: e.type,\n          uid: e.id,\n          endpoint: e.endpoint,\n          method: e.method,\n          identity: V({}, U, {\n            address: S(e.addr),\n            keyId: e.keyId\n          }),\n          params: e.params,\n          data: e.data\n        });\n    }\n  },\n  authn: function (e) {\n    if (null == e) return null;\n\n    switch (e.f_vsn) {\n      case \"1.0.0\":\n        return e;\n\n      default:\n        return V({}, W, {\n          type: e.type,\n          uid: e.id,\n          endpoint: e.authn,\n          id: e.pid,\n          provider: {\n            address: S(e.addr),\n            name: e.name,\n            icon: e.icon\n          }\n        });\n    }\n  },\n  frame: B,\n  \"open-id\": function (e) {\n    if (null == e) return null;\n\n    switch (e.f_vsn) {\n      case \"1.0.0\":\n        return e;\n\n      default:\n        return null;\n    }\n  },\n  \"user-signature\": function (e) {\n    if (null == e) return null;\n\n    switch (e.f_vsn) {\n      case \"1.0.0\":\n        return e;\n\n      default:\n        throw new Error(\"Invalid user-signature service\");\n    }\n  },\n  \"local-view\": q\n};\n\nfunction G(e) {\n  return L.encode([e.provider.address || e.provider.name || \"UNSPECIFIED\", e.id]).toString(\"hex\");\n}\n\nfunction Z(e, t) {\n  return void 0 === e && (e = []), e.find(function (e) {\n    return e.type === t;\n  });\n}\n\nfunction $(e) {\n  var t = new URL(e.endpoint);\n  if (t.searchParams.append(\"l6n\", window.location.origin), null != e.params) for (var r = 0, n = Object.entries(e.params || {}); r < n.length; r++) {\n    var o = n[r];\n    t.searchParams.append(o[0], o[1]);\n  }\n  return t;\n}\n\nfunction X(e, t) {\n  void 0 === t && (t = {});\n  var r = t.method || \"POST\",\n      n = \"GET\" === r ? void 0 : JSON.stringify(t.data || e.data || {});\n  return fetch($(e), {\n    method: r,\n    headers: V({}, e.headers || {}, t.headers || {}, {\n      \"Content-Type\": \"application/json\"\n    }),\n    body: n\n  }).then(function (e) {\n    return e.json();\n  });\n}\n\nfunction Q(e) {\n  var t;\n  if (null == e) return null;\n\n  switch ((e.addr || e.services) && (e = {\n    status: \"APPROVED\",\n    data: V({}, e)\n  }), e.f_vsn) {\n    case \"1.0.0\":\n      return e;\n\n    default:\n      return V({}, H, {\n        status: e.status,\n        reason: null != (t = e.reason) ? t : null,\n        data: e.compositeSignature || e.data || {},\n        updates: J(e.authorizationUpdates),\n        local: B((e.local || [])[0])\n      });\n  }\n}\n\nvar ee = function e(t, r) {\n  void 0 === r && (r = function () {\n    return !0;\n  });\n\n  try {\n    if (f(t, \"Missing Polling Service\", {\n      service: t\n    }), !r()) throw new Error(\"Externally Halted\");\n    return Promise.resolve(X(t, {\n      method: re(t)\n    }).then(Q)).then(function (t) {\n      switch (t.status) {\n        case \"APPROVED\":\n          return t.data;\n\n        case \"DECLINED\":\n          throw new Error(\"Declined: \" + (t.reason || \"No reason supplied.\"));\n\n        default:\n          return Promise.resolve(new Promise(function (e) {\n            return setTimeout(e, 500);\n          })).then(function () {\n            return e(t.updates, r);\n          });\n      }\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    te = {\n  \"HTTP/GET\": \"GET\",\n  \"HTTP/POST\": \"POST\"\n},\n    re = function (e) {\n  return f(te[e.method], \"Invalid Service Method for type back-channel-rpc\", {\n    service: e\n  }), te[e.method];\n},\n    ne = \"FCL_IFRAME\";\n\nfunction oe(e) {\n  f(!document.getElementById(ne), \"Attempt at triggering multiple Frames\", {\n    src: e\n  });\n  var t = document.createElement(\"iframe\");\n  return t.src = e, t.id = ne, t.allow = \"usb *; hid *\", t.frameBorder = \"0\", t.style.cssText = \"\\n  position:fixed;\\n  top: 0px;\\n  right: 0px;\\n  bottom: 0px;\\n  left: 0px;\\n  height: 100vh;\\n  width: 100vw;\\n  display:block;\\n  background:rgba(0,0,0,0.25);\\n  z-index: 2147483647;\\n  box-sizing: border-box;\\n\", document.body.append(t), [t.contentWindow, function () {\n    document.getElementById(ne) && document.getElementById(ne).remove();\n  }];\n}\n\nvar ae = null,\n    ie = null;\n\nfunction se(e, t, r, n, o) {\n  return r.open(e, t, \"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=\" + n + \", height=\" + o + \", top=\" + (r.top.outerHeight / 2 + r.top.screenY - o / 2) + \", left=\" + (r.top.outerWidth / 2 + r.top.screenX - n / 2));\n}\n\nfunction ce(e) {\n  var t;\n  null == ae || null != (t = ae) && t.closed ? ae = se(e, \"FCL_POP\", window, 640, 600) : ie !== e ? (ae = se(e, \"FCL_POP\", window, 640, 600)).focus() : ae.focus(), ie = e;\n  var r = setInterval(function () {\n    ae && ae.closed && (clearInterval(r), ae = null);\n  }, 1e3);\n  return [ae, function () {\n    ae && !ae.closed && (ae.close(), ae = null);\n  }];\n}\n\nvar ue = null,\n    de = null;\n\nfunction le(e) {\n  var t;\n  null == ue || null != (t = ue) && t.closed ? ue = window.open(e, \"_blank\") : de !== e ? (ue = window.open(e, \"_blank\")).focus() : ue.focus(), de = e;\n  var r = setInterval(function () {\n    ue && ue.closed && (clearInterval(r), ue = null);\n  }, 1e3);\n  return [ue, function () {\n    ue && !ue.closed && (ue.close(), ue = null);\n  }];\n}\n\nvar fe,\n    pe = {\n  \"VIEW/IFRAME\": oe,\n  \"VIEW/POP\": ce,\n  \"VIEW/TAB\": le\n},\n    he = function (e, t, r) {\n  try {\n    return t.data = e.data, Promise.resolve(X(e, {\n      data: t\n    }).then(Q)).then(function (t) {\n      if (\"APPROVED\" === t.status) return t.data;\n      if (\"DECLINED\" === t.status) throw new Error(\"Declined: \" + (t.reason || \"No reason supplied.\"));\n\n      if (\"PENDING\" === t.status) {\n        var r = !0;\n        return Promise.resolve(function (e, t) {\n          void 0 === t && (t = {});\n\n          try {\n            try {\n              return Promise.resolve(pe[e.method]($(e), t));\n            } catch (r) {\n              throw console.error(\"execLocal({service, opts = {}})\", r, {\n                service: e,\n                opts: t\n              }), r;\n            }\n          } catch (e) {\n            return Promise.reject(e);\n          }\n        }(q(t.local))).then(function (e) {\n          var n = e[1],\n              o = function () {\n            try {\n              n(), r = !1;\n            } catch (e) {\n              console.error(\"Frame Close Error\", e);\n            }\n          };\n\n          return ee(t.updates, function () {\n            return r;\n          }).then(function (e) {\n            return o(), e;\n          }).catch(function (e) {\n            throw console.error(e), o(), e;\n          });\n        });\n      }\n\n      throw console.error(\"Auto Decline: Invalid Response\", {\n        service: e,\n        resp: t\n      }), new Error(\"Auto Decline: Invalid Response\");\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    ve = function () {},\n    me = function (e) {\n  return \"string\" == typeof e && e.toLowerCase();\n},\n    ye = function (e, t) {\n  return console.warn(\"DEPRECATION NOTICE\", \"Received \" + e + \", please use \" + t + \" for this and future versions of FCL\");\n},\n    Ee = new Set([\"monetizationstart\", \"monetizationpending\", \"monetizationprogress\", \"monetizationstop\"]),\n    ge = function () {},\n    Pe = function (e) {\n  return \"string\" == typeof e && e.toLowerCase();\n},\n    Ce = function (e, t) {\n  return console.warn(\"DEPRECATION NOTICE\", \"Received \" + e + \", please use \" + t + \" for this and future versions of FCL\");\n},\n    Re = new Set([\"monetizationstart\", \"monetizationpending\", \"monetizationprogress\", \"monetizationstop\"]),\n    Se = function () {},\n    we = function (e) {\n  return \"string\" == typeof e && e.toLowerCase();\n},\n    Le = function (e, t) {\n  return console.warn(\"DEPRECATION NOTICE\", \"Received \" + e + \", please use \" + t + \" for this and future versions of FCL\");\n},\n    be = new Set([\"monetizationstart\", \"monetizationpending\", \"monetizationprogress\", \"monetizationstop\"]),\n    Ae = function (e) {\n  var t = e.service,\n      r = e.msg,\n      n = void 0 === r ? {} : r,\n      o = e.opts,\n      a = void 0 === o ? {} : o;\n\n  try {\n    try {\n      return Promise.resolve(Ie[t.method](t, n, a));\n    } catch (e) {\n      throw console.error(\"execService({service, msg = {}, opts = {}})\", e, {\n        service: t,\n        msg: n,\n        opts: a\n      }), e;\n    }\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    Ie = {\n  \"HTTP/RPC\": he,\n  \"HTTP/POST\": he,\n  \"IFRAME/RPC\": function (e, t, r) {\n    return new Promise(function (n, o) {\n      var a = b(),\n          i = r.includeOlderJsonRpcCall;\n      t.data = e.data, function (e, t) {\n        if (void 0 === t && (t = {}), null == e) return {\n          send: ve,\n          close: ve\n        };\n        var r = t.onClose || ve,\n            n = t.onMessage || ve,\n            o = t.onReady || ve,\n            a = t.onResponse || ve;\n        window.addEventListener(\"message\", u);\n        var i = oe($(e)),\n            s = i[0],\n            c = i[1];\n        return {\n          send: l,\n          close: d\n        };\n\n        function u(e) {\n          try {\n            if (\"object\" != typeof e.data) return;\n            if (Ee.has(e.data.type)) return;\n            me(e.data.type) === me(\"FCL:VIEW:CLOSE\") && d(), me(e.data.type) === me(\"FCL:VIEW:READY\") && o(e, {\n              send: l,\n              close: d\n            }), me(e.data.type) === me(\"FCL:VIEW:RESPONSE\") && a(e, {\n              send: l,\n              close: d\n            }), n(e, {\n              send: l,\n              close: d\n            }), me(e.data.type) === me(\"FCL:FRAME:READY\") && (ye(e.data.type, \"FCL:VIEW:READY\"), o(e, {\n              send: l,\n              close: d\n            })), me(e.data.type) === me(\"FCL:FRAME:RESPONSE\") && (ye(e.data.type, \"FCL:VIEW:RESPONSE\"), a(e, {\n              send: l,\n              close: d\n            })), me(e.data.type) === me(\"FCL:FRAME:CLOSE\") && (ye(e.data.type, \"FCL:VIEW:CLOSE\"), d()), me(e.data.type) === me(\"FCL::CHALLENGE::RESPONSE\") && (ye(e.data.type, \"FCL:VIEW:RESPONSE\"), a(e, {\n              send: l,\n              close: d\n            })), me(e.data.type) === me(\"FCL::AUTHZ_READY\") && (ye(e.data.type, \"FCL:VIEW:READY\"), o(e, {\n              send: l,\n              close: d\n            })), me(e.data.type) === me(\"FCL::CHALLENGE::CANCEL\") && (ye(e.data.type, \"FCL:VIEW:CLOSE\"), d()), me(e.data.type) === me(\"FCL::CANCEL\") && (ye(e.data.type, \"FCL:VIEW:CLOSE\"), d());\n          } catch (e) {\n            console.error(\"Frame Callback Error\", e), d();\n          }\n        }\n\n        function d() {\n          try {\n            window.removeEventListener(\"message\", u), c(), r();\n          } catch (e) {\n            console.error(\"Frame Close Error\", e);\n          }\n        }\n\n        function l(e) {\n          try {\n            s.postMessage(JSON.parse(JSON.stringify(e || {})), \"*\");\n          } catch (t) {\n            console.error(\"Frame Send Error\", e, t);\n          }\n        }\n      }(e, {\n        onReady: function (r, n) {\n          var o = n.send;\n\n          try {\n            return Promise.resolve(function (e, t) {\n              try {\n                var r = e();\n              } catch (e) {\n                return t(e);\n              }\n\n              return r && r.then ? r.then(void 0, t) : r;\n            }(function () {\n              var r = {\n                params: e.params,\n                data: e.data\n              };\n              return Promise.resolve(A(/^service\\./)).then(function (n) {\n                return Promise.resolve(A(/^app\\.detail\\./)).then(function (s) {\n                  o({\n                    type: \"FCL:VIEW:READY:RESPONSE\",\n                    body: t,\n                    service: r,\n                    config: {\n                      services: n,\n                      app: s\n                    }\n                  });\n                  var c = {\n                    params: e.params,\n                    data: e.data\n                  };\n                  return Promise.resolve(A(/^service\\./)).then(function (r) {\n                    return Promise.resolve(A(/^app\\.detail\\./)).then(function (n) {\n                      o({\n                        type: \"FCL:FRAME:READY:RESPONSE\",\n                        body: t,\n                        service: c,\n                        config: {\n                          services: r,\n                          app: n\n                        },\n                        deprecated: {\n                          message: \"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE\"\n                        }\n                      }), i && o({\n                        jsonrpc: \"2.0\",\n                        id: a,\n                        method: \"fcl:sign\",\n                        params: [t, e.params],\n                        deprecated: {\n                          message: \"jsonrpc is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE\"\n                        }\n                      });\n                    });\n                  });\n                });\n              });\n            }, function (e) {\n              throw e;\n            }));\n          } catch (e) {\n            return Promise.reject(e);\n          }\n        },\n        onResponse: function (e, t) {\n          var r = t.close;\n\n          try {\n            if (\"object\" != typeof e.data) return;\n            var a = Q(e.data);\n\n            switch (a.status) {\n              case \"APPROVED\":\n                n(a.data), r();\n                break;\n\n              case \"DECLINED\":\n                o(\"Declined: \" + (a.reason || \"No reason supplied\")), r();\n                break;\n\n              default:\n                o(\"Declined: No reason supplied\"), r();\n            }\n          } catch (e) {\n            throw console.error(\"execIframeRPC onResponse error\", e), e;\n          }\n        },\n        onMessage: function (e, t) {\n          var r = t.close;\n\n          try {\n            if (\"object\" != typeof e.data) return;\n            if (\"2.0\" !== e.data.jsonrpc) return;\n            if (e.data.id !== a) return;\n            var i = Q(e.data.result);\n\n            switch (i.status) {\n              case \"APPROVED\":\n                n(i.data), r();\n                break;\n\n              case \"DECLINED\":\n                o(\"Declined: \" + (i.reason || \"No reason supplied\")), r();\n                break;\n\n              default:\n                o(\"Declined: No reason supplied\"), r();\n            }\n          } catch (e) {\n            throw console.error(\"execIframeRPC onMessage error\", e), e;\n          }\n        },\n        onClose: function () {\n          o(\"Declined: Externally Halted\");\n        }\n      });\n    });\n  },\n  \"POP/RPC\": function (e, t, r) {\n    return new Promise(function (n, o) {\n      var a = b(),\n          i = r.includeOlderJsonRpcCall;\n      t.data = e.data, function (e, t) {\n        if (void 0 === t && (t = {}), null == e) return {\n          send: ge,\n          close: ge\n        };\n        var r = t.onClose || ge,\n            n = t.onMessage || ge,\n            o = t.onReady || ge,\n            a = t.onResponse || ge;\n        window.addEventListener(\"message\", u);\n        var i = ce($(e)),\n            s = i[0],\n            c = i[1];\n        return {\n          send: l,\n          close: d\n        };\n\n        function u(e) {\n          try {\n            if (\"object\" != typeof e.data) return;\n            if (Re.has(e.data.type)) return;\n            Pe(e.data.type) === Pe(\"FCL:VIEW:CLOSE\") && d(), Pe(e.data.type) === Pe(\"FCL:VIEW:READY\") && o(e, {\n              send: l,\n              close: d\n            }), Pe(e.data.type) === Pe(\"FCL:VIEW:RESPONSE\") && a(e, {\n              send: l,\n              close: d\n            }), n(e, {\n              send: l,\n              close: d\n            }), Pe(e.data.type) === Pe(\"FCL:FRAME:READY\") && (Ce(e.data.type, \"FCL:VIEW:READY\"), o(e, {\n              send: l,\n              close: d\n            })), Pe(e.data.type) === Pe(\"FCL:FRAME:RESPONSE\") && (Ce(e.data.type, \"FCL:VIEW:RESPONSE\"), a(e, {\n              send: l,\n              close: d\n            })), Pe(e.data.type) === Pe(\"FCL:FRAME:CLOSE\") && (Ce(e.data.type, \"FCL:VIEW:CLOSE\"), d()), Pe(e.data.type) === Pe(\"FCL::CHALLENGE::RESPONSE\") && (Ce(e.data.type, \"FCL:VIEW:RESPONSE\"), a(e, {\n              send: l,\n              close: d\n            })), Pe(e.data.type) === Pe(\"FCL::AUTHZ_READY\") && (Ce(e.data.type, \"FCL:VIEW:READY\"), o(e, {\n              send: l,\n              close: d\n            })), Pe(e.data.type) === Pe(\"FCL::CHALLENGE::CANCEL\") && (Ce(e.data.type, \"FCL:VIEW:CLOSE\"), d()), Pe(e.data.type) === Pe(\"FCL::CANCEL\") && (Ce(e.data.type, \"FCL:VIEW:CLOSE\"), d());\n          } catch (e) {\n            console.error(\"Popup Callback Error\", e), d();\n          }\n        }\n\n        function d() {\n          try {\n            window.removeEventListener(\"message\", u), c(), r();\n          } catch (e) {\n            console.error(\"Popup Close Error\", e);\n          }\n        }\n\n        function l(e) {\n          try {\n            s.postMessage(JSON.parse(JSON.stringify(e || {})), \"*\");\n          } catch (t) {\n            console.error(\"Popup Send Error\", e, t);\n          }\n        }\n      }(e, {\n        onReady: function (r, n) {\n          var o = n.send;\n\n          try {\n            return Promise.resolve(function (e, t) {\n              try {\n                var r = e();\n              } catch (e) {\n                return t(e);\n              }\n\n              return r && r.then ? r.then(void 0, t) : r;\n            }(function () {\n              var r = {\n                params: e.params,\n                data: e.data\n              };\n              return Promise.resolve(A(/^service\\./)).then(function (n) {\n                return Promise.resolve(A(/^app\\.detail\\./)).then(function (s) {\n                  o({\n                    type: \"FCL:VIEW:READY:RESPONSE\",\n                    body: t,\n                    service: r,\n                    config: {\n                      services: n,\n                      app: s\n                    }\n                  });\n                  var c = {\n                    params: e.params,\n                    data: e.data\n                  };\n                  return Promise.resolve(A(/^service\\./)).then(function (r) {\n                    return Promise.resolve(A(/^app\\.detail\\./)).then(function (n) {\n                      o({\n                        type: \"FCL:FRAME:READY:RESPONSE\",\n                        body: t,\n                        service: c,\n                        config: {\n                          services: r,\n                          app: n\n                        },\n                        deprecated: {\n                          message: \"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE\"\n                        }\n                      }), i && o({\n                        jsonrpc: \"2.0\",\n                        id: a,\n                        method: \"fcl:sign\",\n                        params: [t, e.params]\n                      });\n                    });\n                  });\n                });\n              });\n            }, function (e) {\n              throw e;\n            }));\n          } catch (e) {\n            return Promise.reject(e);\n          }\n        },\n        onResponse: function (e, t) {\n          var r = t.close;\n\n          try {\n            if (\"object\" != typeof e.data) return;\n            var a = Q(e.data);\n\n            switch (a.status) {\n              case \"APPROVED\":\n                n(a.data), r();\n                break;\n\n              case \"DECLINED\":\n                o(\"Declined: \" + (a.reason || \"No reason supplied\")), r();\n                break;\n\n              default:\n                o(\"Declined: No reason supplied\"), r();\n            }\n          } catch (e) {\n            throw console.error(\"execPopRPC onResponse error\", e), e;\n          }\n        },\n        onMessage: function (e, t) {\n          var r = t.close;\n\n          try {\n            if (\"object\" != typeof e.data) return;\n            if (\"2.0\" !== e.data.jsonrpc) return;\n            if (e.data.id !== a) return;\n            var i = Q(e.data.result);\n\n            switch (i.status) {\n              case \"APPROVED\":\n                n(i.data), r();\n                break;\n\n              case \"DECLINED\":\n                o(\"Declined: \" + (i.reason || \"No reason supplied\")), r();\n                break;\n\n              default:\n                o(\"Declined: No reason supplied\"), r();\n            }\n          } catch (e) {\n            throw console.error(\"execPopRPC onMessage error\", e), e;\n          }\n        },\n        onClose: function () {\n          o(\"Declined: Externally Halted\");\n        }\n      });\n    });\n  },\n  \"TAB/RPC\": function (e, t, r) {\n    return new Promise(function (n, o) {\n      var a = b(),\n          i = r.includeOlderJsonRpcCall;\n      t.data = e.data, function (e, t) {\n        if (void 0 === t && (t = {}), null == e) return {\n          send: Se,\n          close: Se\n        };\n        var r = t.onClose || Se,\n            n = t.onMessage || Se,\n            o = t.onReady || Se,\n            a = t.onResponse || Se;\n        window.addEventListener(\"message\", u);\n        var i = le($(e)),\n            s = i[0],\n            c = i[1];\n        return {\n          send: l,\n          close: d\n        };\n\n        function u(e) {\n          try {\n            if (\"object\" != typeof e.data) return;\n            if (be.has(e.data.type)) return;\n            we(e.data.type) === we(\"FCL:VIEW:CLOSE\") && d(), we(e.data.type) === we(\"FCL:VIEW:READY\") && o(e, {\n              send: l,\n              close: d\n            }), we(e.data.type) === we(\"FCL:VIEW:RESPONSE\") && a(e, {\n              send: l,\n              close: d\n            }), n(e, {\n              send: l,\n              close: d\n            }), we(e.data.type) === we(\"FCL:FRAME:READY\") && (Le(e.data.type, \"FCL:VIEW:READY\"), o(e, {\n              send: l,\n              close: d\n            })), we(e.data.type) === we(\"FCL:FRAME:RESPONSE\") && (Le(e.data.type, \"FCL:VIEW:RESPONSE\"), a(e, {\n              send: l,\n              close: d\n            })), we(e.data.type) === we(\"FCL:FRAME:CLOSE\") && (Le(e.data.type, \"FCL:VIEW:CLOSE\"), d()), we(e.data.type) === we(\"FCL::CHALLENGE::RESPONSE\") && (Le(e.data.type, \"FCL:VIEW:RESPONSE\"), a(e, {\n              send: l,\n              close: d\n            })), we(e.data.type) === we(\"FCL::AUTHZ_READY\") && (Le(e.data.type, \"FCL:VIEW:READY\"), o(e, {\n              send: l,\n              close: d\n            })), we(e.data.type) === we(\"FCL::CHALLENGE::CANCEL\") && (Le(e.data.type, \"FCL:VIEW:CLOSE\"), d()), we(e.data.type) === we(\"FCL::CANCEL\") && (Le(e.data.type, \"FCL:VIEW:CLOSE\"), d());\n          } catch (e) {\n            console.error(\"Tab Callback Error\", e), d();\n          }\n        }\n\n        function d() {\n          try {\n            window.removeEventListener(\"message\", u), c(), r();\n          } catch (e) {\n            console.error(\"Tab Close Error\", e);\n          }\n        }\n\n        function l(e) {\n          try {\n            s.postMessage(JSON.parse(JSON.stringify(e || {})), \"*\");\n          } catch (t) {\n            console.error(\"Tab Send Error\", e, t);\n          }\n        }\n      }(e, {\n        onReady: function (r, n) {\n          var o = n.send;\n\n          try {\n            return Promise.resolve(function (e, t) {\n              try {\n                var r = e();\n              } catch (e) {\n                return t(e);\n              }\n\n              return r && r.then ? r.then(void 0, t) : r;\n            }(function () {\n              var r = {\n                params: e.params,\n                data: e.data\n              };\n              return Promise.resolve(A(/^service\\./)).then(function (n) {\n                return Promise.resolve(A(/^app\\.detail\\./)).then(function (s) {\n                  o({\n                    type: \"FCL:VIEW:READY:RESPONSE\",\n                    body: t,\n                    service: r,\n                    config: {\n                      services: n,\n                      app: s\n                    }\n                  });\n                  var c = {\n                    params: e.params,\n                    data: e.data\n                  };\n                  return Promise.resolve(A(/^service\\./)).then(function (r) {\n                    return Promise.resolve(A(/^app\\.detail\\./)).then(function (n) {\n                      o({\n                        type: \"FCL:FRAME:READY:RESPONSE\",\n                        body: t,\n                        service: c,\n                        config: {\n                          services: r,\n                          app: n\n                        },\n                        deprecated: {\n                          message: \"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE\"\n                        }\n                      }), i && o({\n                        jsonrpc: \"2.0\",\n                        id: a,\n                        method: \"fcl:sign\",\n                        params: [t, e.params]\n                      });\n                    });\n                  });\n                });\n              });\n            }, function (e) {\n              throw e;\n            }));\n          } catch (e) {\n            return Promise.reject(e);\n          }\n        },\n        onResponse: function (e, t) {\n          var r = t.close;\n\n          try {\n            if (\"object\" != typeof e.data) return;\n            var a = Q(e.data);\n\n            switch (a.status) {\n              case \"APPROVED\":\n                n(a.data), r();\n                break;\n\n              case \"DECLINED\":\n                o(\"Declined: \" + (a.reason || \"No reason supplied\")), r();\n                break;\n\n              default:\n                o(\"Declined: No reason supplied\"), r();\n            }\n          } catch (e) {\n            throw console.error(\"execPopRPC onResponse error\", e), e;\n          }\n        },\n        onMessage: function (e, t) {\n          var r = t.close;\n\n          try {\n            if (\"object\" != typeof e.data) return;\n            if (\"2.0\" !== e.data.jsonrpc) return;\n            if (e.data.id !== a) return;\n            var i = Q(e.data.result);\n\n            switch (i.status) {\n              case \"APPROVED\":\n                n(i.data), r();\n                break;\n\n              case \"DECLINED\":\n                o(\"Declined: \" + (i.reason || \"No reason supplied\")), r();\n                break;\n\n              default:\n                o(\"Declined: No reason supplied\"), r();\n            }\n          } catch (e) {\n            throw console.error(\"execPopRPC onMessage error\", e), e;\n          }\n        },\n        onClose: function () {\n          o(\"Declined: Externally Halted\");\n        }\n      });\n    });\n  }\n},\n    Fe = function (e, t) {\n  try {\n    f(/^[0-9a-f]+$/i.test(e), \"Message must be a hex string\"), f(Array.isArray(t), \"Must include an Array of composite signatures\");\n    var n = [],\n        o = [],\n        a = [];\n    return Promise.resolve(Promise.all(t.map(function (e) {\n      try {\n        return f(\"string\" == typeof e.addr, \"addr must be a string\"), f(\"number\" == typeof e.keyId, \"keyId must be a number\"), f(\"string\" == typeof e.signature, \"signature must be a string\"), Promise.resolve(function (t, i) {\n          try {\n            var s = Promise.resolve(r(e.addr)).then(function (t) {\n              return n.push(t.keys[e.keyId].weight.toFixed(1)), o.push(t.keys[e.keyId].signAlgo), a.push(e.signature), t.keys[e.keyId].publicKey;\n            });\n          } catch (e) {\n            return i(e);\n          }\n\n          return s && s.then ? s.then(void 0, i) : s;\n        }(0, function (e) {\n          throw e;\n        }));\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    }))).then(function (t) {\n      return Promise.resolve(_({\n        cadence: \"\" + Oe,\n        args: function (r, i) {\n          return [r(e, i.String), r(t, i.Array([i.String])), r(n, i.Array(i.UFix64)), r(o, i.Array([i.UInt])), r(a, i.Array([i.String]))];\n        }\n      }));\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    Oe = \"\\nimport Crypto\\n    \\npub fun main(\\n  message: String,\\n  rawPublicKeys: [String],\\n  weights: [UFix64],\\n  signAlgos: [UInt],\\n  signatures: [String],\\n): Bool {\\n\\n  let keyList = Crypto.KeyList()\\n  \\n  var i = 0\\n  for rawPublicKey in rawPublicKeys {\\n    keyList.add(\\n      PublicKey(\\n        publicKey: rawPublicKey.decodeHex(),\\n        signatureAlgorithm: signAlgos[i] == 2 ? SignatureAlgorithm.ECDSA_P256 : SignatureAlgorithm.ECDSA_secp256k1 \\n      ),\\n      hashAlgorithm: HashAlgorithm.SHA3_256,\\n      weight: weights[i],\\n    )\\n    i = i + 1\\n  }\\n\\n  let signatureSet: [Crypto.KeyListSignature] = []\\n\\n  var j = 0\\n  for signature in signatures {\\n    signatureSet.append(\\n      Crypto.KeyListSignature(\\n        keyIndex: j,\\n        signature: signature.decodeHex()\\n      )\\n    )\\n    j = j + 1\\n  }\\n    \\n  let signedData = message.decodeHex()\\n  \\n  return keyList.verify(\\n    signatureSet: signatureSet,\\n    signedData: signedData\\n  )\\n}\\n\";\n\nfunction Ne(e) {\n  if (null == e) return null;\n\n  switch (e.f_vsn) {\n    case \"1.0.0\":\n      return e;\n\n    default:\n      return V({}, Y, {\n        addr: w(e.addr || e.address),\n        signature: e.signature || e.sig,\n        keyId: e.keyId\n      });\n  }\n}\n\nfunction De(e, t, r) {\n  if (!e.s) {\n    if (r instanceof _e) {\n      if (!r.s) return void (r.o = De.bind(null, e, t));\n      1 & t && (t = r.s), r = r.v;\n    }\n\n    if (r && r.then) return void r.then(De.bind(null, e, t), De.bind(null, e, 2));\n    e.s = t, e.v = r;\n    var n = e.o;\n    n && n(e);\n  }\n}\n\nvar ke = function (e, t) {\n  try {\n    return console.warn(\"\\n    %cFCL/SDK Deprecation Notice\\n    ============================\\n    verifyUserSignatures is no longer exported as fcl.currentUser().verifyUserSignatures\\n    and is now available as fcl.verifyUserSignatures\\n    ============================\\n    \", \"font-weight:bold;font-family:monospace;\"), Promise.resolve(Fe(e, t));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    je = function (e) {\n  try {\n    return Be(), Promise.resolve(xe()).then(function (t) {\n      var r = Z(t.services, \"user-signature\");\n      return f(r, \"Current user must have authorized a signing service.\"), Me(function () {\n        return Promise.resolve(Ae({\n          service: r,\n          msg: Xe(e)\n        })).then(function (e) {\n          return Array.isArray(e) ? e.map(function (e) {\n            return Ne(e);\n          }) : [Ne(e)];\n        });\n      }, function (e) {\n        return e;\n      });\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    Te = function (e) {\n  try {\n    return Be(), Promise.resolve(xe()).then(function (t) {\n      var r = Z(t.services, \"authz\"),\n          n = Z(t.services, \"pre-authz\");\n      return V({}, e, n ? {\n        tempId: \"CURRENT_USER\",\n        resolve: function (e, t) {\n          try {\n            return Promise.resolve(Ae({\n              service: n,\n              msg: t\n            })).then(Ke);\n          } catch (e) {\n            return Promise.reject(e);\n          }\n        }\n      } : {\n        tempId: \"CURRENT_USER\",\n        resolve: null,\n        addr: w(r.identity.address),\n        keyId: r.identity.keyId,\n        sequenceNum: null,\n        signature: null,\n        signingFunction: function (e) {\n          try {\n            return Promise.resolve(Ae({\n              service: r,\n              msg: e,\n              opts: {\n                includeOlderJsonRpcCall: !0\n              }\n            })).then(Ne);\n          } catch (e) {\n            return Promise.reject(e);\n          }\n        }\n      });\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    _e = function () {\n  function e() {}\n\n  return e.prototype.then = function (t, r) {\n    var n = new e(),\n        o = this.s;\n\n    if (o) {\n      var a = 1 & o ? t : r;\n\n      if (a) {\n        try {\n          De(n, 1, a(this.v));\n        } catch (e) {\n          De(n, 2, e);\n        }\n\n        return n;\n      }\n\n      return this;\n    }\n\n    return this.o = function (e) {\n      try {\n        var o = e.v;\n        1 & e.s ? De(n, 1, t ? t(o) : o) : r ? De(n, 1, r(o)) : De(n, 2, o);\n      } catch (e) {\n        De(n, 2, e);\n      }\n    }, n;\n  }, e;\n}();\n\nfunction Ve(e) {\n  return e instanceof _e && 1 & e.s;\n}\n\nvar xe = function () {\n  try {\n    return Promise.resolve(new Promise(function (e, r) {\n      try {\n        return Be(), Promise.resolve(Ze()).then(function (r) {\n          return r.loggedIn && Je(r) ? e(r) : Promise.resolve(t.first([\"discovery.wallet\", \"challenge.handshake\"])).then(function (r) {\n            try {\n              if (null == r) throw console.warn('Required value for \"discovery.wallet\" not defined in config. See: https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration'), new Error('Required config value \"discovery.wallet\" is not defined');\n            } catch (e) {\n              console.error(e);\n            }\n\n            return Promise.resolve(t.first([\"discovery.wallet.method\", \"discovery.wallet.method.default\"], \"IFRAME/RPC\")).then(function (t) {\n              var n = function (e, n) {\n                try {\n                  var o = Me(function () {\n                    return Promise.resolve(Ae({\n                      service: {\n                        endpoint: r,\n                        method: t\n                      }\n                    })).then(function (e) {\n                      return Promise.resolve(function (e) {\n                        try {\n                          var t = (e = function (e) {\n                            return e.addr = e.addr ? S(e.addr) : null, e.paddr = e.paddr ? S(e.paddr) : null, e;\n                          }(e)).services || [];\n\n                          return Promise.resolve(function (e, t) {\n                            try {\n                              if (null == e || null == t) return Promise.resolve([]);\n                              var r = new URL(e);\n                              return r.searchParams.append(\"code\", t), Promise.resolve(fetch(r, {\n                                method: \"GET\",\n                                headers: {\n                                  \"Content-Type\": \"application/json\"\n                                }\n                              }).then(function (e) {\n                                return e.json();\n                              })).then(function (e) {\n                                if (Array.isArray(e)) return e;\n                                var t = [];\n                                if (Array.isArray(e.authorizations)) for (var r, n = M(e.authorizations); !(r = n()).done;) t.push(V({\n                                  type: \"authz\",\n                                  keyId: e.keyId\n                                }, r.value));\n                                return null != e.provider && t.push(V({\n                                  type: \"authn\",\n                                  id: \"wallet-provider#authn\"\n                                }, e.provider)), t;\n                              });\n                            } catch (e) {\n                              return Promise.reject(e);\n                            }\n                          }(e.hks, e.code)).then(function (r) {\n                            var n,\n                                o,\n                                a = (n = t, o = r, void 0 === n && (n = []), void 0 === o && (o = []), [].concat(n, o)).map(function (t) {\n                              return function (e, t) {\n                                try {\n                                  return K[e.type](e, t);\n                                } catch (t) {\n                                  return console.error(\"Unrecognized FCL Service Type [\" + e.type + \"]\", e, t), e;\n                                }\n                              }(t, e);\n                            }),\n                                i = function (e, t) {\n                              return t.find(function (e) {\n                                return \"authn\" === e.type;\n                              });\n                            }(0, a);\n\n                            return V({}, z, {\n                              addr: S(e.addr),\n                              cid: G(i),\n                              loggedIn: !0,\n                              services: a,\n                              expiresAt: e.exp\n                            });\n                          });\n                        } catch (e) {\n                          return Promise.reject(e);\n                        }\n                      }(e)).then(function (e) {\n                        E(We, ze, e);\n                      });\n                    });\n                  }, function (e) {\n                    console.error(\"Error while authenticating\", e);\n                  });\n                } catch (e) {\n                  return n(!0, e);\n                }\n\n                return o && o.then ? o.then(n.bind(null, !1), n.bind(null, !0)) : n(!1, o);\n              }(0, function (t, r) {\n                return Promise.resolve(Ze()).then(function (n) {\n                  if (e(n), t) throw r;\n                  return r;\n                });\n              });\n\n              if (n && n.then) return n.then(function () {});\n            });\n          });\n        });\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    }));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nfunction Me(e, t) {\n  try {\n    var r = e();\n  } catch (e) {\n    return t(e);\n  }\n\n  return r && r.then ? r.then(void 0, t) : r;\n}\n\nvar We = \"CURRENT_USER\",\n    Ue = \"CURRENT_USER/UPDATED\",\n    ze = \"SET_CURRENT_USER\",\n    He = '{\\n  \"f_type\": \"User\",\\n  \"f_vsn\": \"1.0.0\",\\n  \"addr\":null,\\n  \"cid\":null,\\n  \"loggedIn\":null,\\n  \"expiresAt\":null,\\n  \"services\":[]\\n}',\n    Ye = ((fe = {})[h] = function (e) {\n  try {\n    return e.merge(JSON.parse(He)), Promise.resolve(t.first([\"fcl.storage\", \"fcl.storage.default\"])).then(function (t) {\n      var r = function () {\n        if (t.can) return Promise.resolve(function (e) {\n          try {\n            var t = JSON.parse(He);\n            return Promise.resolve(e.get(We)).then(function (r) {\n              return null != r && t.f_vsn !== r.f_vsn ? (e.removeItem(We), t) : r || t;\n            });\n          } catch (e) {\n            return Promise.reject(e);\n          }\n        }(t)).then(function (t) {\n          Je(t) && e.merge(t);\n        });\n      }();\n\n      if (r && r.then) return r.then(function () {});\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, fe[v] = function (e, t) {\n  e.subscribe(t.from), e.send(t.from, Ue, V({}, e.all()));\n}, fe[m] = function (e, t) {\n  e.unsubscribe(t.from);\n}, fe.SNAPSHOT = function (e, t) {\n  try {\n    return t.reply(V({}, e.all())), Promise.resolve();\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, fe[ze] = function (e, r, n) {\n  try {\n    return e.merge(n), Promise.resolve(t.first([\"fcl.storage\", \"fcl.storage.default\"])).then(function (t) {\n      t.can && t.put(We, e.all()), e.broadcast(Ue, V({}, e.all()));\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, fe.DEL_CURRENT_USER = function (e, r) {\n  try {\n    return e.merge(JSON.parse(He)), Promise.resolve(t.first([\"fcl.storage\", \"fcl.storage.default\"])).then(function (t) {\n      t.can && t.put(We, e.all()), e.broadcast(Ue, V({}, e.all()));\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, fe),\n    Be = function () {\n  return y(Ye, We);\n};\n\nfunction Je(e) {\n  return null == e.expiresAt || 0 === e.expiresAt || e.expiresAt > Date.now();\n}\n\nfunction qe() {\n  Be(), E(We, \"DEL_CURRENT_USER\");\n}\n\nfunction Ke(e) {\n  var t = function (e) {\n    return {\n      f_type: \"PreAuthzResponse\",\n      f_vsn: \"1.0.0\",\n      proposer: (e || {}).proposer,\n      payer: (e || {}).payer || [],\n      authorization: (e || {}).authorization || []\n    };\n  }(e),\n      r = [];\n\n  null != t.proposer && r.push([\"PROPOSER\", t.proposer]);\n\n  for (var n, o = M(t.payer || []); !(n = o()).done;) r.push([\"PAYER\", n.value]);\n\n  for (var a, i = M(t.authorization || []); !(a = i()).done;) r.push([\"AUTHORIZER\", a.value]);\n\n  return r.map(function (e) {\n    var t = e[0],\n        r = e[1];\n    return {\n      tempId: [r.identity.address, r.identity.keyId].join(\"|\"),\n      addr: r.identity.address,\n      keyId: r.identity.keyId,\n      signingFunction: function (e) {\n        return Ae({\n          service: r,\n          msg: e\n        });\n      },\n      role: {\n        proposer: \"PROPOSER\" === t,\n        payer: \"PAYER\" === t,\n        authorizer: \"AUTHORIZER\" === t\n      }\n    };\n  });\n}\n\nfunction Ge(e) {\n  Be();\n  var t = \"@EXIT\",\n      r = y(function (r) {\n    try {\n      var n;\n      return r.send(We, v), Promise.resolve(function (e, t, r) {\n        for (var n;;) {\n          var o = e();\n          if (Ve(o) && (o = o.v), !o) return a;\n\n          if (o.then) {\n            n = 0;\n            break;\n          }\n\n          var a = r();\n\n          if (a && a.then) {\n            if (!Ve(a)) {\n              n = 1;\n              break;\n            }\n\n            a = a.s;\n          }\n        }\n\n        var i = new _e(),\n            s = De.bind(null, i, 2);\n        return (0 === n ? o.then(u) : 1 === n ? a.then(c) : (void 0).then(function () {\n          (o = e()) ? o.then ? o.then(u).then(void 0, s) : u(o) : De(i, 1, a);\n        })).then(void 0, s), i;\n\n        function c(t) {\n          a = t;\n\n          do {\n            if (!(o = e()) || Ve(o) && !o.v) return void De(i, 1, a);\n            if (o.then) return void o.then(u).then(void 0, s);\n            Ve(a = r()) && (a = a.v);\n          } while (!a || !a.then);\n\n          a.then(c).then(void 0, s);\n        }\n\n        function u(e) {\n          e ? (a = r()) && a.then ? a.then(c).then(void 0, s) : c(a) : De(i, 1, a);\n        }\n      }(function () {\n        return !n && 1;\n      }, 0, function () {\n        return Promise.resolve(r.receive()).then(function (o) {\n          if (o.tag === t) return r.send(We, m), void (n = 1);\n          e(o.data);\n        });\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  });\n  return function () {\n    return E(r, t);\n  };\n}\n\nfunction Ze() {\n  return Be(), E(We, \"SNAPSHOT\", null, {\n    expectReply: !0,\n    timeout: 0\n  });\n}\n\nvar $e,\n    Xe = function (e) {\n  return f(/^[0-9a-f]+$/i.test(e), \"Message must be a hex string\"), {\n    message: e\n  };\n},\n    Qe = function () {\n  return {\n    authenticate: xe,\n    unauthenticate: qe,\n    authorization: Te,\n    signUserMessage: je,\n    verifyUserSignatures: ke,\n    subscribe: Ge,\n    snapshot: Ze\n  };\n};\n\nQe.authenticate = xe, Qe.unauthenticate = qe, Qe.authorization = Te, Qe.signUserMessage = je, Qe.verifyUserSignatures = ke, Qe.subscribe = Ge, Qe.snapshot = Ze;\n\nvar et = function (e) {\n  try {\n    return Promise.resolve(n([o(e)]).then(a));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    tt = function (e) {\n  return e.status >= 4;\n},\n    rt = function (e) {\n  return e.status >= 3;\n},\n    nt = function (e) {\n  return e.status >= 2;\n},\n    ot = (($e = {})[h] = function (e) {\n  try {\n    return Promise.resolve(et(e.self())).then(function (t) {\n      tt(t) || setTimeout(function () {\n        return e.sendSelf(\"POLL\");\n      }, 2500), e.merge(t);\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, $e[v] = function (e, t) {\n  e.subscribe(t.from), e.send(t.from, g, e.all());\n}, $e[m] = function (e, t) {\n  e.unsubscribe(t.from);\n}, $e[P] = function (e, t) {\n  try {\n    return t.reply(e.all()), Promise.resolve();\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, $e.POLL = function (e) {\n  try {\n    return Promise.resolve(et(e.self())).then(function (t) {\n      var r, n;\n      tt(t) || setTimeout(function () {\n        return e.sendSelf(\"POLL\");\n      }, 2500), r = e.all(), n = t, JSON.stringify(r) !== JSON.stringify(n) && e.broadcast(g, t), e.merge(t);\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, $e),\n    at = function (e) {\n  if (\"object\" == typeof e && (e = e.transactionId), null == e) throw new Error(\"transactionId required\");\n  return e;\n},\n    it = function (e) {\n  return y(ot, at(e));\n};\n\nfunction st(e) {\n  function t(t) {\n    return C(at(e), it, t);\n  }\n\n  function r(e) {\n    return function (r) {\n      void 0 === r && (r = {});\n      var n = r.suppress || !1;\n      return new Promise(function (r, o) {\n        var a = t(function (t) {\n          t.statusCode && !n ? (o(t.errorMessage), a()) : e(t) && (r(t), a());\n        });\n      });\n    };\n  }\n\n  return {\n    snapshot: function () {\n      return R(e, it);\n    },\n    subscribe: t,\n    onceFinalized: r(nt),\n    onceExecuted: r(rt),\n    onceSealed: r(tt)\n  };\n}\n\nst.isUnknown = function (e) {\n  return e.status >= 0;\n}, st.isPending = function (e) {\n  return e.status >= 1;\n}, st.isFinalized = nt, st.isExecuted = rt, st.isSealed = tt, st.isExpired = function (e) {\n  return 5 === e.status;\n};\n\nvar ct,\n    ut = function (t) {\n  void 0 === t && (t = {});\n\n  try {\n    return Promise.resolve(function (r, n) {\n      try {\n        var o = Promise.resolve(function (t) {\n          try {\n            return f(O(t), \"mutate(opts) -- opts is required\"), f(N(t), \"mutate(opts) -- opts must be an object\"), f(O(t.cadence), \"mutate({ cadence }) -- cadence is required\"), f(D(t.cadence), \"mutate({ cadence }) -- cadence must be a string\"), Promise.resolve(e.config.get(\"accessNode.api\")).then(function (e) {\n              f(e, 'Required value for \"accessNode.api\" not defined in config. See: https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration');\n            });\n          } catch (e) {\n            return Promise.reject(e);\n          }\n        }(t)).then(function () {\n          return Promise.resolve(e.config().get(\"fcl.authz\", Qe().authorization)).then(function (r) {\n            return e.send([e.transaction(t.cadence), e.args(T(t.args || [])), t.limit && j(t.limit) && e.limit(t.limit), e.proposer(t.proposer || t.authz || r), e.payer(t.payer || t.authz || r), e.authorizations(t.authorizations || [t.authz || r])]).then(e.decode);\n          });\n        });\n      } catch (e) {\n        return n(e);\n      }\n\n      return o && o.then ? o.then(void 0, n) : o;\n    }(0, function (e) {\n      throw e;\n    }));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    dt = function (e, r) {\n  void 0 === e && (e = []), void 0 === r && (r = {});\n\n  try {\n    return Promise.resolve(t.first([\"sdk.resolve\"], r.resolve || i)).then(function (t) {\n      function r() {\n        return Promise.resolve(t(e)).then(function (e) {\n          return JSON.stringify(s(e), null, 2);\n        });\n      }\n\n      var n = function () {\n        if (Array.isArray(e)) return Promise.resolve(c(u(), e)).then(function (t) {\n          e = t;\n        });\n      }();\n\n      return n && n.then ? n.then(r) : r();\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    lt = function (e) {\n  try {\n    var r = setTimeout;\n    return Promise.resolve(t().get(\"fcl.eventPollRate\", 1e4)).then(function (t) {\n      return r(function () {\n        return e.sendSelf(\"TICK\");\n      }, t);\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    ft = ((ct = {}).TICK = function (e) {\n  try {\n    if (!e.hasSubs()) return Promise.resolve();\n\n    var t = e.get(\"hwm\"),\n        r = function () {\n      if (null == t) {\n        var r = e.put;\n        return Promise.resolve(d()).then(function (t) {\n          r.call(e, \"hwm\", t);\n          var n = e.put;\n          return Promise.resolve(lt(e)).then(function (t) {\n            n.call(e, \"tick\", t);\n          });\n        });\n      }\n\n      return Promise.resolve(d()).then(function (r) {\n        return e.put(\"hwm\", r), Promise.resolve(n([getEvents(e.self(), t.height, r.height - 1)]).then(a)).then(function (t) {\n          for (var r, n = M(t); !(r = n()).done;) e.broadcast(\"UPDATED\", r.value.data);\n\n          var o = e.put;\n          return Promise.resolve(lt(e)).then(function (t) {\n            o.call(e, \"tick\", t);\n          });\n        });\n      });\n    }();\n\n    return Promise.resolve(r && r.then ? r.then(function () {}) : void 0);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, ct[v] = function (e, t) {\n  try {\n    var r = function () {\n      e.subscribe(t.from);\n    },\n        n = function () {\n      if (!e.hasSubs()) {\n        var t = e.put;\n        return Promise.resolve(lt(e)).then(function (r) {\n          t.call(e, \"tick\", r);\n        });\n      }\n    }();\n\n    return Promise.resolve(n && n.then ? n.then(r) : r());\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, ct[m] = function (e, t) {\n  e.unsubscribe(t.from), e.hasSubs() || (clearTimeout(e.get(\"tick\")), e.delete(\"tick\"), e.delete(\"hwm\"));\n}, ct),\n    pt = function (e) {\n  return y(ft, e);\n};\n\nfunction ht(e) {\n  return {\n    subscribe: function (t) {\n      return C(e, pt, t);\n    }\n  };\n}\n\nvar vt = function (e, t) {\n  void 0 === t && (t = {}), window.location !== window.parent.location ? window.parent.postMessage(V({}, t, {\n    type: e\n  }), \"*\") : window.opener.postMessage(V({}, t, {\n    type: e\n  }), \"*\");\n},\n    mt = {\n  __proto__: null,\n  sendMsgToFCL: vt,\n  close: function () {\n    vt(\"FCL:VIEW:CLOSE\");\n  },\n  approve: function (e) {\n    vt(\"FCL:VIEW:RESPONSE\", {\n      f_type: \"PollingResponse\",\n      f_vsn: \"1.0.0\",\n      status: \"APPROVED\",\n      reason: null,\n      data: e\n    });\n  },\n  decline: function (e) {\n    vt(\"FCL:VIEW:RESPONSE\", {\n      f_type: \"PollingResponse\",\n      f_vsn: \"1.0.0\",\n      status: \"DECLINED\",\n      reason: e,\n      data: null\n    });\n  },\n  onMessageFromFCL: function (e, t) {\n    void 0 === t && (t = function () {});\n\n    var r = function (r) {\n      var n = r.data;\n      \"object\" == typeof n && null != typeof n && n.type === e && t(function (e) {\n        var t;\n        return e.deprecated && console.warn(\"DEPRECATION NOTICE\", e.deprecated.message), null == e || null == (t = e.body) || delete t.interaction, e;\n      }(n));\n    };\n\n    return window.addEventListener(\"message\", r), function () {\n      return window.removeEventListener(\"message\", r);\n    };\n  },\n  encodeMessageFromSignable: l,\n  CompositeSignature: function (e, t, r) {\n    this.f_type = Y.f_type, this.f_vsn = Y.f_vsn, this.addr = S(e), this.keyId = Number(t), this.signature = r;\n  }\n},\n    yt = function () {\n  return Qe().authenticate();\n},\n    Et = function () {\n  return Qe().unauthenticate();\n},\n    gt = function () {\n  return Qe().unauthenticate(), Qe().authenticate();\n},\n    Pt = function () {\n  return Qe().authenticate();\n},\n    Ct = function () {\n  return Qe().authenticate();\n},\n    Rt = Qe().authorization,\n    St = p;\n\nexport { I as VERSION, mt as WalletUtils, yt as authenticate, Rt as authz, Qe as currentUser, ht as events, Ct as logIn, ut as mutate, _ as query, gt as reauthenticate, dt as serialize, Pt as signUp, St as t, st as tx, Et as unauthenticate, Fe as verifyUserSignatures };","map":{"version":3,"sources":["../src/config-utils.js","../src/default-config.js","../src/VERSION.js","../src/exec/utils/is.js","../src/exec/utils/normalize-args.js","../src/exec/query.js","../src/current-user/normalize/__vsn.js","../src/current-user/normalize/frame.js","../src/current-user/normalize/back-channel-rpc.js","../src/current-user/normalize/local-view.js","../src/current-user/normalize/service.js","../src/current-user/normalize/pre-authz.js","../src/current-user/normalize/authz.js","../src/current-user/normalize/authn.js","../src/current-user/normalize/open-id.js","../src/current-user/normalize/user-signature.js","../src/current-user/build-user.js","../src/current-user/service-of-type.js","../src/current-user/exec-service/strategies/utils/service-endpoint.js","../src/current-user/exec-service/strategies/utils/fetch-service.js","../src/current-user/normalize/polling-response.js","../src/current-user/exec-service/strategies/utils/poll.js","../src/current-user/exec-service/strategies/utils/render-frame.js","../src/current-user/exec-service/strategies/utils/render-pop.js","../src/current-user/exec-service/strategies/utils/render-tab.js","../src/current-user/exec-service/exec-local.js","../src/current-user/exec-service/strategies/http-post.js","../src/current-user/exec-service/strategies/utils/frame.js","../src/current-user/exec-service/strategies/utils/pop.js","../src/current-user/exec-service/strategies/utils/tab.js","../src/current-user/exec-service/index.js","../src/current-user/exec-service/strategies/iframe-rpc.js","../src/current-user/exec-service/strategies/pop-rpc.js","../src/current-user/exec-service/strategies/tab-rpc.js","../src/exec/verify.js","../src/current-user/normalize/composite-signature.js","../src/current-user/index.js","../src/current-user/fetch-services.js","../src/current-user/merge-services.js","../src/transaction/index.js","../src/exec/mutate.js","../src/serialize/index.js","../src/events/index.js","../src/wallet-utils/send-msg-to-fcl.js","../src/wallet-utils/on-message-from-fcl.js","../src/wallet-utils/CompositeSignature.js","../src/fcl.js"],"names":["configLens","regex","Object","fromEntries","entries","config","where","map","value","replace","can","get","key","JSON","parse","sessionStorage","getItem","put","setItem","stringify","discovery.wallet.method.default","fcl.storage.default","VERSION","is","d","type","isRequired","isObject","isString","isFunc","isNumber","normalizeArgs","ax","sdk","arg","t","query","opts","preQuery","send","script","cadence","args","limit","then","decode","invariant","SERVICE_PRAGMA","f_type","f_vsn","IDENTITY_PRAGMA","USER_PRAGMA","POLLING_RESPONSE_PRAGMA","COMPOSITE_SIGNATURE_PRAGMA","normalizeFrame","service","old","endpoint","params","data","normalizeBackChannelRpc","method","normalizeLocalView","resp","serviceNormalizers","back-channel-rpc","pre-authz","authz","authn","frame","open-id","user-signature","local-view","error","console","uid","id","identity","address","withPrefix","addr","keyId","pid","provider","name","icon","Error","deriveCompositeId","rlp","encode","toString","paddr","services","find","normalizeData","fetchServices","hks","code","normalizeService","findService","cid","loggedIn","expiresAt","exp","serviceOfType","serviceEndpoint","url","URL","searchParams","append","window","location","origin","fetchService","body","undefined","fetch","headers","Content-Type","json","normalizePollingResponse","status","reason","compositeSignature","updates","authorizationUpdates","local","OPTIONS","HTTP/GET","HTTP/POST","serviceMethod","poll","canContinue","Promise","setTimeout","r","FRAME","renderFrame","src","document","getElementById","$frame","createElement","allow","frameBorder","style","cssText","remove","contentWindow","popup","previousUrl","popupWindow","windowName","win","w","h","top","outerHeight","screenY","outerWidth","screenX","open","renderPop","closed","focus","timer","setInterval","clearInterval","close","tab","renderTab","VIEWS","VIEW/IFRAME","VIEW/POP","VIEW/TAB","execHttpPost","signable","unmount","execLocal","serviceResponse","noop","_","e","toLowerCase","deprecate","was","want","warn","IGNORE","Set","onClose","onMessage","onReady","onResponse","addEventListener","internal","has","removeEventListener","msg","postMessage","$pop","$tab","STRATEGIES","HTTP/RPC","IFRAME/RPC","POP/RPC","TAB/RPC","execService","resolve","reject","includeOlderJsonRpcCall","app","deprecated","message","jsonrpc","result","recover","pop","verifyUserSignatures","compSigs","test","Array","isArray","weights","signAlgos","signatures","rawPubKeys","all","cs","signature","account","push","keys","weight","toFixed","signAlgo","publicKey","err","VERIFY_SIG_SCRIPT","String","UFix64","UInt","normalizeCompositeSignature","sansPrefix","sig","_Pact","prototype","onFulfilled","onRejected","state","this","s","callback","_settle","v","UPDATED","SET_CURRENT_USER","DATA","o","_this","storage","fallback","stored","NAME","removeItem","HANDLERS","INIT","ctx","merge","pact","first","user","getStoredUser","notExpired","SUBSCRIBE","letter","subscribe","from","bind","UNSUBSCRIBE","unsubscribe","reply","observer","broadcast","_isSettledPact","thenable","spawnCurrentUser","spawn","Date","now","authenticate","snapshot","discoveryWallet","response","buildUser","unauthenticate","proposer","payer","authorization","resolvePreAuthz","normalizePreAuthzResponse","axs","role","az","tempId","join","signingFunction","authorizer","preAuthz","preSignable","sequenceNum","EXIT","self","receive","tag","_exit2","expectReply","timeout","makeSignable","signUserMessage","signingService","update","stage","shouldContinue","verify","currentUser","updateValue","_resumeAfterTest","_resumeAfterBody","_catch","finalizer","servicesURL","authorizations","sx1","sx2","fetchTxStatus","transactionId","fclSend","getTransactionStatus","tx","isSealed","isExecuted","isFinalized","cur","next","sendSelf","SNAPSHOT","scoped","spawnTransaction","transaction","snapshoter","subscriber","once","predicate","suppress","unsub","txStatus","statusCode","errorMessage","onceFinalized","onceExecuted","onceSealed","isUnknown","isPending","isExpired","mutate","prepMutation","serialize","resolveFunction","defaultResolve","pipe","interaction","createSignableVoucher","scheduleTick","hasSubs","hwm","latestBlock","getEvents","height","clearTimeout","spawnEvents","events","sendMsgToFCL","parent","opener","messageType","cb","buildData","Number","reauthenticate","signUp","logIn","types"],"mappings":";;;;;;;;;;;;IAEsBA,CAAAA,GAAAA,UAAWC,CAAXD,EAAWC;AAAAA,MAAAA;AAAAA,WAAAA,OAAAA,CAAAA,OAAAA,CAERI,CAAAA,GAASC,KAATD,CAAeJ,CAAfI,CAFQJ,EAEOA,IAFPA,CAEOA,UAAAA,CAAAA,EAAAA;AADtC,aAAOC,MAAAA,CAAOC,WAAPD,CACLA,MAAAA,CAAOE,OAAPF,CAAOE,CAAPF,EAA4CK,GAA5CL,CAAgD,UAAA,CAAA,EAAA;AAAA,YAAOM,CAAAA,GAAAA,CAAAA,CAAAA,CAAAA,CAAP;AAAOA,eAAW,CAAA,CAAA,CAAA,CAAA,CAAA,CAC5DC,OAD4D,CACpDR,CADoD,EAC7C,EAD6C,CAAA,EAEhEO,CAFgE,CAAXA;AAErDA,OAFFN,CADKA,CAAP;AAGIM,KAJ2BP,CAAAA;AAAjC,GAAiCA,CAAjC,OAAA,CAAA,EAAA;AAAA,WAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA,C;;ACCAI,CAAAA,CAAO;AACLe,qCAAmC,YAD9B;AAELC,yBDM6B;AAC7BX,IAAAA,GAAAA,EAAAA,CAAK,CADwB;AAE7BC,IAAAA,GAAAA,EAAAA,UAAWC,CAAXD,EAAWC;AAAAA,UAAAA;AAAAA,eAAAA,OAAAA,CAAAA,OAAAA,CAAOC,IAAAA,CAAKC,KAALD,CAAWE,cAAAA,CAAeC,OAAfD,CAAuBH,CAAvBG,CAAXF,CAAPD,CAAAA;AAAyCA,OAAzCA,CAAyCA,OAAAA,CAAAA,EAAAA;AAAAA,eAAAA,OAAAA,CAAAA,MAAAA,CAAAA,CAAAA,CAAAA;AAAAA;AAAAA,KAFvB;AAG7BK,IAAAA,GAAAA,EAAAA,UAAYL,CAAZK,EAAiBT,CAAjBS,EAAiBT;AAAAA,UAAAA;AAAAA,eAAAA,OAAAA,CAAAA,OAAAA,CAAUO,cAAAA,CAAeG,OAAfH,CAAuBH,CAAvBG,EAA4BF,IAAAA,CAAKM,SAALN,CAAeL,CAAfK,CAA5BE,CAAVP,CAAAA;AAAqDA,OAArDA,CAAqDA,OAAAA,CAAAA,EAAAA;AAAAA,eAAAA,OAAAA,CAAAA,MAAAA,CAAAA,CAAAA,CAAAA;AAAAA;AAAAA;AAHzC;ACRxB,CAAPH,CAAAA;;ACHaiB,IAAAA,CAAAA,GAAU,QAAVA;AAAAA,ICAPC,CAAAA,GAAK,UAAA,CAAA,EAAA;AAAA,SAAA,UAAQC,CAAR,EAAQA;AAAAA,WAAAA,OAAYA,CAAZA,KAAkBC,CAAlBD;AAAkBC,GAA1B;AAA0BA,CDAxBH;AAAAA,ICEAI,CAAAA,GAAa,UAAA,CAAA,EAAA;AAAA,SAAU,QAALF,CAAL;AAAKA,CDFlBF;AAAAA,ICGAK,CAAAA,GAAWJ,CAAAA,CAAG,QAAHA,CDHXD;AAAAA,ICIAM,CAAAA,GAAWL,CAAAA,CAAG,QAAHA,CDJXD;AAAAA,ICKAO,CAAAA,GAASN,CAAAA,CAAG,UAAHA,CDLTD;AAAAA,ICMAQ,CAAAA,GAAWP,CAAAA,CAAG,QAAHA,CDNXD;;ACMc,SCFXS,CDEW,CCFGC,CDEH,ECFGA;AAC5B,SAAIH,CAAAA,CAAOG,CAAPH,CAAAA,GAAmBG,CAAAA,CAAGC,CAAAA,CAAIC,GAAPF,EAAYG,CAAZH,CAAnBH,GACG,EADP;AACO;;AAAA,ICoCaO,CAAAA,GAAAA,UAAMC,CAAND,EAAMC;AAAAA,OAAAA,CAAAA,KAAAA,CAAAA,KAAAA,CAAAA,GAAO,EAAPA;;AAAO,MAAA;AAAA,WAAA,OAAA,CAAA,OAAA,CAAA,UAWXA,CAXW,EAWXA;AAAAA,UAAAA;AAAM,eAC5BS,CAAAA,CACEpB,CAAAA,CAAWW,CAAAA,CAAKI,OAAhBf,CADFoB,EAEE,2CAFFA,CAAAA,EAKAA,CAAAA,CACElB,CAAAA,CAASS,CAAAA,CAAKI,OAAdb,CADFkB,EAEE,gDAFFA,CALAA,EAOE,OAAA,CAAA,OAAA,CAIMb,CAAAA,CAAI5B,MAAJ4B,CAAWtB,GAAXsB,CAAe,gBAAfA,CAJN,EAIqB,IAJrB,CAIqB,UAAA,CAAA,EAAA;AADvBa,UAAAA,CAAAA,CAAAA,CAAAA,EAAAA,gKAAAA,CAAAA;AAAAA,SAHE,CAR0B;AAW5BA,OAXsBT,CAWtBS,OAAAA,CAAAA,EAAAA;AAAAA,eAAAA,OAAAA,CAAAA,MAAAA,CAAAA,CAAAA,CAAAA;AAAAA;AArBMR,KAD2B,CAClBD,CADkB,CAAA,EAClBA,IADkB,CAClBA,YAAAA;AAGf,aAAOJ,CAAAA,CAAIM,IAAJN,CAAS,CACdA,CAAAA,CAAIO,MAAJP,CAAWI,CAAAA,CAAKI,OAAhBR,CADc,EAEdA,CAAAA,CAAIS,IAAJT,CAASF,CAAAA,CAAcM,CAAAA,CAAKK,IAALL,IAAa,EAA3BN,CAATE,CAFc,EAGdI,CAAAA,CAAKM,KAALN,IAAoC,YAAA,OAAfA,CAAAA,CAAKM,KAA1BN,IAAgDJ,CAAAA,CAAIU,KAAJV,CAAUI,CAAAA,CAAKM,KAAfV,CAHlC,CAATA,EAIJW,IAJIX,CAICA,CAAAA,CAAIY,MAJLZ,CAAP;AAIYY,KARqB,CAAA;AAAnC,GAAmC,CAAnC,OAAA,CAAA,EAAA;AAAA,WAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA,CDpCS;;ACoCT,SAAA,CAAA,GAAA;AAAA,SAAA,CAAA,CAAA,GAAA,MAAA,CAAA,MAAA,IAAA,UAAA,CAAA,EAAA;AAAA,SAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,SAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AAAA,UAAA,CAAA,GAAA,SAAA,CAAA,CAAA,CAAA;;AAAA,WAAA,IAAA,CAAA,IAAA,CAAA,EAAA,MAAA,CAAA,SAAA,CAAA,cAAA,CAAA,IAAA,CAAA,CAAA,EAAA,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA,GAAA,CAAA,CAAA,CAAA,CAAA;AAAA;;AAAA,WAAA,CAAA;AAAA,GAAA,EAAA,KAAA,CAAA,IAAA,EAAA,SAAA,CAAA;AAAA;;AAAA,SAAA,CAAA,CAAA,CAAA,EAAA,CAAA,EAAA;AAAA,GAAA,QAAA,CAAA,IAAA,CAAA,GAAA,CAAA,CAAA,MAAA,MAAA,CAAA,GAAA,CAAA,CAAA,MAAA;;AAAA,OAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,IAAA,KAAA,CAAA,CAAA,CAAA,EAAA,CAAA,GAAA,CAAA,EAAA,CAAA,EAAA,EAAA,CAAA,CAAA,CAAA,CAAA,GAAA,CAAA,CAAA,CAAA,CAAA;;AAAA,SAAA,CAAA;AAAA;;AAAA,SAAA,CAAA,CAAA,CAAA,EAAA,CAAA,EAAA;AAAA,MAAA,CAAA,GAAA,eAAA,OAAA,MAAA,IAAA,CAAA,CAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,CAAA,YAAA,CAAA;AAAA,MAAA,CAAA,EAAA,OAAA,CAAA,CAAA,GAAA,CAAA,CAAA,IAAA,CAAA,CAAA,CAAA,EAAA,IAAA,CAAA,IAAA,CAAA,CAAA,CAAA;;AAAA,MAAA,KAAA,CAAA,OAAA,CAAA,CAAA,MAAA,CAAA,GAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AAAA,QAAA,CAAA,EAAA;AAAA,UAAA,YAAA,OAAA,CAAA,EAAA,OAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AAAA,UAAA,CAAA,GAAA,MAAA,CAAA,SAAA,CAAA,QAAA,CAAA,IAAA,CAAA,CAAA,EAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AAAA,aAAA,aAAA,CAAA,IAAA,CAAA,CAAA,WAAA,KAAA,CAAA,GAAA,CAAA,CAAA,WAAA,CAAA,IAAA,GAAA,UAAA,CAAA,IAAA,UAAA,CAAA,GAAA,KAAA,CAAA,IAAA,CAAA,CAAA,CAAA,GAAA,gBAAA,CAAA,IAAA,2CAAA,IAAA,CAAA,CAAA,CAAA,GAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA,GAAA,KAAA,CAAA;AAAA;AAAA,GAAA,CAAA,CAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA,YAAA,OAAA,CAAA,CAAA,MAAA,EAAA;AAAA,IAAA,CAAA,KAAA,CAAA,GAAA,CAAA,CAAA;AAAA,QAAA,CAAA,GAAA,CAAA;AAAA,WAAA,YAAA;AAAA,aAAA,CAAA,IAAA,CAAA,CAAA,MAAA,GAAA;AAAA,QAAA,IAAA,EAAA,CAAA;AAAA,OAAA,GAAA;AAAA,QAAA,IAAA,EAAA,CAAA,CAAA;AAAA,QAAA,KAAA,EAAA,CAAA,CAAA,CAAA,EAAA;AAAA,OAAA;AAAA,KAAA;AAAA;;AAAA,QAAA,IAAA,SAAA,CAAA,uIAAA,CAAA;AAAA;;AAAA,IC1CaE,CAAAA,GAAiB;AAC5BC,EAAAA,MAAAA,EAAQ,SADoB;AAE5BC,EAAAA,KAAAA,EAAO;AAFqB,CD0C9B;AAAA,ICrCaC,CAAAA,GAAkB;AAC7BF,EAAAA,MAAAA,EAAQ,UADqB;AAE7BC,EAAAA,KAAAA,EAAO;AAFsB,CDqC/B;AAAA,IC3BaE,CAAAA,GAAc;AACzBH,EAAAA,MAAAA,EAAQ,MADiB;AAEzBC,EAAAA,KAAAA,EAAO;AAFkB,CD2B3B;AAAA,ICtBaG,CAAAA,GAA0B;AACrCJ,EAAAA,MAAAA,EAAQ,iBAD6B;AAErCC,EAAAA,KAAAA,EAAO;AAF8B,CDsBvC;AAAA,ICjBaI,CAAAA,GAA6B;AACxCL,EAAAA,MAAAA,EAAQ,oBADgC;AAExCC,EAAAA,KAAAA,EAAO;AAFiC,CDiB1C;;ACfS,SCjBOK,CDiBP,CCjBsBC,CDiBtB,ECjBsBA;AAC7B,MAAe,QAAXA,CAAJ,EAAqB,OAAA,IAAA;;AAErB,UAAQA,CAAAA,CAAO,KAAf;AACE,SAAK,OAAL;AACE,aAAOA,CAAP;;AAEF;AACE,aAAA,CAAA,CAAA;AACEC,QAAAA,GAAAA,EAAKD;AADP,OAAA,EAEKR,CAFL,EAEKA;AACHtB,QAAAA,IAAAA,EAAM,OADHsB;AAEHU,QAAAA,QAAAA,EAAUF,CAAAA,CAAQE,QAFfV;AAGHW,QAAAA,MAAAA,EAAQH,CAAAA,CAAQG,MAARH,IAAkB,EAHvBR;AAIHY,QAAAA,IAAAA,EAAMJ,CAAAA,CAAQI,IAARJ,IAAgB;AAJnBR,OAFL,CAAA;AALJ;AAW4B;;AAAA,SCbda,CDac,CCbUL,CDaV,ECbUA;AACtC,MAAe,QAAXA,CAAJ,EAAqB,OAAA,IAAA;;AAErB,UAAQA,CAAAA,CAAO,KAAf;AACE,SAAK,OAAL;AACE,aAAOA,CAAP;;AAEF;AACE,aAAA,CAAA,CAAA,EAAA,EACKR,CADL,EACKA;AACHtB,QAAAA,IAAAA,EAAM,kBADHsB;AAEHU,QAAAA,QAAAA,EAAUF,CAAAA,CAAQE,QAFfV;AAGHc,QAAAA,MAAAA,EAAQN,CAAAA,CAAQM,MAHbd;AAIHW,QAAAA,MAAAA,EAAQH,CAAAA,CAAQG,MAARH,IAAkB,EAJvBR;AAKHY,QAAAA,IAAAA,EAAMJ,CAAAA,CAAQI,IAARJ,IAAgB;AALnBR,OADL,CAAA;AALJ;AAW4B;;AAAA,SCdde,CDcc,CCdKC,CDcL,ECdKA;AACjC,MAAY,QAARA,CAAJ,EAAkB,OAAA,IAAA;;AAKlB,UAJmB,QAAfA,CAAAA,CAAKF,MAAU,KACjBE,CAAAA,GAAAA,CAAAA,CAAAA,EAAAA,EAAWA,CAAXA,EAAWA;AAAMtC,IAAAA,IAAAA,EAAM,YAAZsC;AAA0BF,IAAAA,MAAAA,EAAQ;AAAlCE,GAAXA,CADiB,GAIXA,CAAAA,CAAI,KAAZ;AACE,SAAK,OAAL;AACE,aAAOA,CAAP;;AAEF;AACE,aAAA,CAAA,CAAA,EAAA,EACKhB,CADL,EACKA;AACHtB,QAAAA,IAAAA,EAAMsC,CAAAA,CAAKtC,IAALsC,IAAa,YADhBhB;AAEHc,QAAAA,MAAAA,EAAQE,CAAAA,CAAKF,MAFVd;AAGHU,QAAAA,QAAAA,EAAUM,CAAAA,CAAKN,QAHZV;AAIHY,QAAAA,IAAAA,EAAMI,CAAAA,CAAKJ,IAALI,IAAa,EAJhBhB;AAKHW,QAAAA,MAAAA,EAAQK,CAAAA,CAAKL,MAALK,IAAe;AALpBhB,OADL,CAAA;AALJ;ACJF;;AAAA,IAAMiB,CAAAA,GAAqB;AACzBC,sBAAoBL,CADK;AAEzBM,eAAAA,UCEgCX,CDFhCW,ECEgCX;AAChC,QAAe,QAAXA,CAAJ,EAAqB,OAAA,IAAA;;AAErB,YAAQA,CAAAA,CAAO,KAAf;AACE,WAAK,OAAL;AACE,eAAOA,CAAP;;AAEF;AACE,eAAA,CAAA,CAAA,EAAA,EACKR,CADL,EACKA;AACHtB,UAAAA,IAAAA,EAAM8B,CAAAA,CAAQ9B,IADXsB;AAEH4B,UAAAA,GAAAA,EAAKpB,CAAAA,CAAQqB,EAFV7B;AAGHU,UAAAA,QAAAA,EAAUF,CAAAA,CAAQE,QAHfV;AAIHc,UAAAA,MAAAA,EAAQN,CAAAA,CAAQM,MAJbd;AAKH8B,UAAAA,QAAAA,EAAAA,CAAAA,CAAAA,EAAAA,EACK3B,CADL2B,EACK3B;AACH4B,YAAAA,OAAAA,EAASC,CAAAA,CAAWxB,CAAAA,CAAQyB,IAAnBD,CADN7B;AAEH+B,YAAAA,KAAAA,EAAO1B,CAAAA,CAAQ0B;AAFZ/B,WADL2B,CALG9B;AAUHW,UAAAA,MAAAA,EAAQH,CAAAA,CAAQG,MAVbX;AAWHY,UAAAA,IAAAA,EAAMJ,CAAAA,CAAQI;AAXXZ,SADL,CAAA;AALJ;AAiBoBY,GDxBK;AAGzBQ,EAAAA,KAAAA,EAAAA,UEC6BZ,CFD7BY,EEC6BZ;AAC7B,QAAe,QAAXA,CAAJ,EAAqB,OAAA,IAAA;;AAErB,YAAQA,CAAAA,CAAO,KAAf;AACE,WAAK,OAAL;AACE,eAAOA,CAAP;;AAEF;AACE,eAAA,CAAA,CAAA,EAAA,EACKR,CADL,EACKA;AACHtB,UAAAA,IAAAA,EAAM8B,CAAAA,CAAQ9B,IADXsB;AAEH4B,UAAAA,GAAAA,EAAKpB,CAAAA,CAAQqB,EAFV7B;AAGHU,UAAAA,QAAAA,EAAUF,CAAAA,CAAQE,QAHfV;AAIHc,UAAAA,MAAAA,EAAQN,CAAAA,CAAQM,MAJbd;AAKH8B,UAAAA,QAAAA,EAAAA,CAAAA,CAAAA,EAAAA,EACK3B,CADL2B,EACK3B;AACH4B,YAAAA,OAAAA,EAASC,CAAAA,CAAWxB,CAAAA,CAAQyB,IAAnBD,CADN7B;AAEH+B,YAAAA,KAAAA,EAAO1B,CAAAA,CAAQ0B;AAFZ/B,WADL2B,CALG9B;AAUHW,UAAAA,MAAAA,EAAQH,CAAAA,CAAQG,MAVbX;AAWHY,UAAAA,IAAAA,EAAMJ,CAAAA,CAAQI;AAXXZ,SADL,CAAA;AALJ;AAiBoBY,GFxBK;AAIzBS,EAAAA,KAAAA,EAAAA,UGG6Bb,CHH7Ba,EGG6Bb;AAC7B,QAAe,QAAXA,CAAJ,EAAqB,OAAA,IAAA;;AAErB,YAAQA,CAAAA,CAAO,KAAf;AACE,WAAK,OAAL;AACE,eAAOA,CAAP;;AAEF;AACE,eAAA,CAAA,CAAA,EAAA,EACKR,CADL,EACKA;AACHtB,UAAAA,IAAAA,EAAM8B,CAAAA,CAAQ9B,IADXsB;AAEH4B,UAAAA,GAAAA,EAAKpB,CAAAA,CAAQqB,EAFV7B;AAGHU,UAAAA,QAAAA,EAAUF,CAAAA,CAAQa,KAHfrB;AAIH6B,UAAAA,EAAAA,EAAIrB,CAAAA,CAAQ2B,GAJTnC;AAKHoC,UAAAA,QAAAA,EAAU;AACRL,YAAAA,OAAAA,EAASC,CAAAA,CAAWxB,CAAAA,CAAQyB,IAAnBD,CADD;AAERK,YAAAA,IAAAA,EAAM7B,CAAAA,CAAQ6B,IAFN;AAGRC,YAAAA,IAAAA,EAAM9B,CAAAA,CAAQ8B;AAHN;AALPtC,SADL,CAAA;AALJ;AAcsBsC,GHxBG;AAKzBhB,EAAAA,KAAAA,EAAOf,CALkB;AAMzBgB,aAAAA,UIsB8Bf,CJtB9Be,EIsB8Bf;AAC9B,QAAe,QAAXA,CAAJ,EAAqB,OAAA,IAAA;;AAErB,YAAQA,CAAAA,CAAO,KAAf;AACE,WAAK,OAAL;AACE,eAAOA,CAAP;;AAEF;AACE,eAAA,IAAA;AALJ;AAKI,GJpCqB;AAOzBgB,oBAAAA,UKTqChB,CLSrCgB,EKTqChB;AACrC,QAAe,QAAXA,CAAJ,EAAqB,OAAA,IAAA;;AAErB,YAAQA,CAAAA,CAAO,KAAf;AACE,WAAK,OAAL;AACE,eAAOA,CAAP;;AAEF;AACE,cAAA,IAAU+B,KAAV,CAAgB,gCAAhB,CAAA;AALJ;AAKoB,GLNK;AAQzBd,gBAAcV;AARW,CAA3B;;AMNA,SAASyB,CAAT,CAA2BnB,CAA3B,EAA2BA;AACzB,SAAOoB,CAAAA,CACJC,MADID,CACG,CACNpB,CAAAA,CAAMe,QAANf,CAAeU,OAAfV,IAA0BA,CAAAA,CAAMe,QAANf,CAAegB,IAAzChB,IAAiD,aAD3C,EAENA,CAAAA,CAAMQ,EAFA,CADHY,EAKJE,QALIF,CAKK,KALLA,CAAP;AAKY;;AAAA,SCbEgB,CDaF,CCbgBZ,CDahB,ECb+BnE,CDa/B,ECb+BA;AAC3C,SAAA,KAAA,CAAA,KAD4BmE,CAC5B,KAD4BA,CAAAA,GAAW,EACvC,GAAOA,CAAAA,CAASC,IAATD,CAAc,UAAA,CAAA,EAAA;AAAA,WAAWrC,CAAAA,CAAQ9B,IAAR8B,KAAiB9B,CAA5B;AAA4BA,GAA1CmE,CAAP;AAAiDnE;;AAAAA,SCDnCgF,CDCmChF,CCDnB8B,CDCmB9B,ECDnB8B;AAC9B,MAAMmD,CAAAA,GAAM,IAAIC,GAAJ,CAAQpD,CAAAA,CAAQE,QAAhB,CAAZ;AAEA,MADAiD,CAAAA,CAAIE,YAAJF,CAAiBG,MAAjBH,CAAwB,KAAxBA,EAA+BI,MAAAA,CAAOC,QAAPD,CAAgBE,MAA/CN,GACsB,QAAlBnD,CAAAA,CAAQG,MAAZ,EACE,KAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAyBxD,MAAAA,CAAOE,OAAPF,CAAeqD,CAAAA,CAAQG,MAARH,IAAkB,EAAjCrD,CAAzB,EAA0D,CAAA,GAAA,CAAA,CAAA,MAA1D,EAA0D,CAAA,EAA1D,EAA+D;AAA1D,QAAA,CAAA,GAAA,CAAA,CAAA,CAAA,CAAA;AACHwG,IAAAA,CAAAA,CAAIE,YAAJF,CAAiBG,MAAjBH,CAAiBG,CAAAA,CAAAA,CAAAA,CAAjBH,EAAiBG,CAAAA,CAAAA,CAAAA,CAAjBH;AAGJ;AAAA,SAAOA,CAAP;AAAOA;;AAAAA,SCNOO,CDMPP,CCNoBnD,CDMpBmD,ECN6BrE,CDM7BqE,ECN6BrE;AAAAA,OAAAA,CAAAA,KAAAA,CAAAA,KAAAA,CAAAA,GAAO,EAAPA;AACpC,MAAMwB,CAAAA,GAASxB,CAAAA,CAAKwB,MAALxB,IAAe,MAA9B;AAAA,MACM6E,CAAAA,GACO,UAAXrD,CAAW,GAAXA,KACIsD,CADO,GAEPtG,IAAAA,CAAKM,SAALN,CAAewB,CAAAA,CAAKsB,IAALtB,IAAakB,CAAAA,CAAQI,IAArBtB,IAA6B,EAA5CxB,CAJN;AAMA,SAAOuG,KAAAA,CAAMX,CAAAA,CAAgBlD,CAAhBkD,CAANW,EAAgC;AACrCvD,IAAAA,MAAAA,EAAQA,CAD6B;AAErCwD,IAAAA,OAAAA,EAAAA,CAAAA,CAAAA,EAAAA,EACM9D,CAAAA,CAAQ8D,OAAR9D,IAAmB,EADzB8D,EAEMhF,CAAAA,CAAKgF,OAALhF,IAAgB,EAFtBgF,EAEsB;AACpBC,sBAAgB;AADI,KAFtBD,CAFqC;AAOrCH,IAAAA,IAAAA,EAAMA;AAP+B,GAAhCE,CAAAA,CAQJxE,IARIwE,CAQC,UAAC5F,CAAD,EAACA;AAAAA,WAAMA,CAAAA,CAAE+F,IAAF/F,EAANA;AAAQ+F,GARVH,CAAP;AAQiBG;;AAAAA,SCJHC,CDIGD,CCJsBxD,CDItBwD,ECJsBxD;AAAAA,MAAAA,CAAAA;AACvC,MAAY,QAARA,CAAJ,EAAkB,OAAA,IAAA;;AAKlB,UAAA,CAJMA,CAAAA,CAAKiB,IAALjB,IAAeA,CAAAA,CAAK6B,QAI1B,MAHE7B,CAAAA,GAAO;AAAC0D,IAAAA,MAAAA,EAAQ,UAAT;AAAqB9D,IAAAA,IAAAA,EAAAA,CAAAA,CAAAA,EAAAA,EAAUI,CAAVJ;AAArB,GAGT,GAAQI,CAAAA,CAAI,KAAZ;AACE,SAAK,OAAL;AACE,aAAOA,CAAP;;AAEF;AACE,aAAA,CAAA,CAAA,EAAA,EACKX,CADL,EACKA;AACHqE,QAAAA,MAAAA,EAAQ1D,CAAAA,CAAK0D,MADVrE;AAEHsE,QAAAA,MAAAA,EAAAA,SAAAA,CAAAA,GAAQ3D,CAAAA,CAAK2D,MAAbA,IAAaA,CAAbA,GAAuB,IAFpBtE;AAGHO,QAAAA,IAAAA,EAAMI,CAAAA,CAAK4D,kBAAL5D,IAA2BA,CAAAA,CAAKJ,IAAhCI,IAAwC,EAH3CX;AAIHwE,QAAAA,OAAAA,EAAShE,CAAAA,CAAwBG,CAAAA,CAAK8D,oBAA7BjE,CAJNR;AAKH0E,QAAAA,KAAAA,EAAOxE,CAAAA,CAAAA,CAAgBS,CAAAA,CAAK+D,KAAL/D,IAAc,EAA9BT,EAAkC,CAAlCA,CAAAA;AALJF,OADL,CAAA;AALJ;AAW+C;;AAAA,ICJ3B+E,EAAAA,GAAAA,SAAAA,CAAAA,CAAK5E,CAAL4E,EAAcC,CAAdD,EAAcC;AAAAA,OAAAA,CAAAA,KAAAA,CAAAA,KAAAA,CAAAA,GAAc,YAAA;AAAA,WAAA,CAAA,CAAA;AAAA,GAAdA;;AAAc,MAAA;AAEhD,QADAtF,CAAAA,CAAUS,CAAVT,EAAmB,yBAAnBA,EAA8C;AAACS,MAAAA,OAAAA,EAAAA;AAAD,KAA9CT,CAAAA,EAA+CS,CAC1C6E,CAAAA,EAAL,EAAoB,MAAA,IAAU9C,KAAV,CAAgB,mBAAhB,CAAA;AAFwC,WAAA,OAAA,CAAA,OAAA,CAIzC2B,CAAAA,CAAa1D,CAAb0D,EAAsB;AACvCpD,MAAAA,MAAAA,EAAQqE,EAAAA,CAAc3E,CAAd2E;AAD+B,KAAtBjB,CAAAA,CAEhBrE,IAFgBqE,CAEXO,CAFWP,CAJyC,EAMpDO,IANoD,CAMpDA,UAFFzD,CAEEyD,EAFFzD;AAIN,cAAQA,CAAAA,CAAK0D,MAAb;AACE,aAAK,UAAL;AACE,iBAAO1D,CAAAA,CAAKJ,IAAZ;;AACF,aAAK,UAAL;AACE,gBAAA,IAAU2B,KAAV,CAAUA,gBAAmBvB,CAAAA,CAAK2D,MAAL3D,IAAe,qBAAlCuB,CAAV,CAAA;;AACF;AAAA,iBAAA,OAAA,CAAA,OAAA,CACQ,IAAI+C,OAAJ,CAAY,UAAA,CAAA,EAAA;AAAA,mBAAKC,UAAAA,CAAWC,CAAXD,EAAc,GAAdA,CAAL;AAAmB,WAA/B,CADR,EACuC,IADvC,CACuC,YAAA;AACrC,mBAAOH,CAAAA,CAAKpE,CAAAA,CAAK6D,OAAVO,EAAmBC,CAAnBD,CAAP;AAA0BC,WAF5B,CAAA;AALF;AAO8BA,KAf8B,CAAA;AAA9D,GAAkD,CAAlD,OAAA,CAAA,EAAA;AAAA,WAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA,CDIiD;AAAA,ICzB3CL,EAAAA,GAAU;AACdC,cAAY,KADE;AAEdC,eAAa;AAFC,CDyBiC;AAAA,ICpB3CC,EAAAA,GAAgB,UAAA,CAAA,EAAA;AAMpB,SALApF,CAAAA,CACEiF,EAAAA,CAAQxE,CAAAA,CAAQM,MAAhBkE,CADFjF,EAEE,kDAFFA,EAGE;AAACS,IAAAA,OAAAA,EAAAA;AAAD,GAHFT,CAAAA,EAKOiF,EAAAA,CAAQxE,CAAAA,CAAQM,MAAhBkE,CAAP;AAAuBlE,CDcwB;AAAA,IE5B3C2E,EAAAA,GAAQ,YF4BmC;;AE5BnC,SAgBEC,EAhBF,CAgBcC,CAhBd,EAgBcA;AAC1B5F,EAAAA,CAAAA,CAAAA,CACG6F,QAAAA,CAASC,cAATD,CAAwBH,EAAxBG,CADH7F,EAEE,uCAFFA,EAGE;AAAC4F,IAAAA,GAAAA,EAAAA;AAAD,GAHF5F,CAAAA;AAMA,MAAM+F,CAAAA,GAASF,QAAAA,CAASG,aAATH,CAAuB,QAAvBA,CAAf;AAcA,SAbAE,CAAAA,CAAOH,GAAPG,GAAaH,CAAbG,EACAA,CAAAA,CAAOjE,EAAPiE,GAAYL,EADZK,EAEAA,CAAAA,CAAOE,KAAPF,GAAe,cAFfA,EAGAA,CAAAA,CAAOG,WAAPH,GAAqB,GAHrBA,EAIAA,CAAAA,CAAOI,KAAPJ,CAAaK,OAAbL,GAAaK,yNAJbL,EAKAF,QAAAA,CAASzB,IAATyB,CAAc9B,MAAd8B,CAAqBE,CAArBF,CALAE,EAaO,CAACA,CAAAA,CAAOO,aAAR,EANS,YAAA;AACVT,IAAAA,QAAAA,CAASC,cAATD,CAAwBH,EAAxBG,KACFA,QAAAA,CAASC,cAATD,CAAwBH,EAAxBG,EAA+BQ,MAA/BR,EADEA;AAC6BQ,GAI5B,CAAP;ACvCF;;AAAA,IAEIE,EAAAA,GAAQ,IAFZ;AAAA,IAGIC,EAAAA,GAAc,IAHlB;;AAKA,SAASC,EAAT,CAAqB7C,CAArB,EAA0B8C,CAA1B,EAAsCC,CAAtC,EAA2CC,CAA3C,EAA8CC,CAA9C,EAA8CA;AAG5C,SAAOF,CAAAA,CAAIQ,IAAJR,CACL/C,CADK+C,EAELD,CAFKC,EAELD,wHACsHE,CADtHF,GACsHE,WADtHF,GACmIG,CADnIH,GACmIG,QADnIH,IAJQC,CAAAA,CAAIG,GAAJH,CAAQI,WAARJ,GAAsB,CAAtBA,GAA0BA,CAAAA,CAAIG,GAAJH,CAAQK,OAAlCL,GAA4CE,CAAAA,GAAI,CAIxDH,IAJwD,SAIxDA,IAHQC,CAAAA,CAAIG,GAAJH,CAAQM,UAARN,GAAqB,CAArBA,GAAyBA,CAAAA,CAAIG,GAAJH,CAAQO,OAAjCP,GAA2CC,CAAAA,GAAI,CAGvDF,CAFKC,CAAP;AADyD;;AAAA,SAQ3CS,EAR2C,CAQjCxB,CARiC,EAQjCA;AAAAA,MAAAA,CAAAA;AACX,UAATW,EAAS,IAATA,SAAAA,CAAAA,GAAiBA,EAAjBA,KAAiBA,CAAAA,CAAOc,MAAf,GACXd,EAAAA,GAAQE,EAAAA,CAAYb,CAAZa,EAjBA,SAiBAA,EAAsBzC,MAAtByC,EAA8B,GAA9BA,EAAmC,GAAnCA,CADG,GAEFD,EAAAA,KAAgBZ,CAAhBY,GAAgBZ,CACzBW,EAAAA,GAAQE,EAAAA,CAAYb,CAAZa,EAnBA,SAmBAA,EAAsBzC,MAAtByC,EAA8B,GAA9BA,EAAmC,GAAnCA,CADiBb,EAEnB0B,KAFmB1B,EAAhBY,GAITD,EAAAA,CAAMe,KAANf,EANW,EASbC,EAAAA,GAAcZ,CATD;AAWb,MAAI2B,CAAAA,GAAQC,WAAAA,CAAY,YAAA;AAClBjB,IAAAA,EAAAA,IAASA,EAAAA,CAAMc,MAAfd,KACFkB,aAAAA,CAAcF,CAAdE,CAAAA,EACAlB,EAAAA,GAAQ,IAFNA;AAEM,GAHAiB,EAKT,GALSA,CAAZ;AAcA,SAAO,CAACjB,EAAD,EAPS,YAAA;AACVA,IAAAA,EAAAA,IAAAA,CAAUA,EAAAA,CAAMc,MAAhBd,KACFA,EAAAA,CAAMmB,KAANnB,IACAA,EAAAA,GAAQ,IAFNA;AAEM,GAIL,CAAP;ACvCF;;AAAA,IAAIoB,EAAAA,GAAM,IAAV;AAAA,IACInB,EAAAA,GAAc,IADlB;;AACkB,SAEFoB,EAFE,CAEQhC,CAFR,EAEQA;AAAAA,MAAAA,CAAAA;AACb,UAAP+B,EAAO,IAAPA,SAAAA,CAAAA,GAAeA,EAAfA,KAAeA,CAAAA,CAAKN,MAAb,GACTM,EAAAA,GAAM3D,MAAAA,CAAOmD,IAAPnD,CAAY4B,CAAZ5B,EAAiB,QAAjBA,CADG,GAEAwC,EAAAA,KAAgBZ,CAAhBY,GAAgBZ,CACzB+B,EAAAA,GAAM3D,MAAAA,CAAOmD,IAAPnD,CAAY4B,CAAZ5B,EAAiB,QAAjBA,CADmB4B,EAErB0B,KAFqB1B,EAAhBY,GAITmB,EAAAA,CAAIL,KAAJK,EANS,EASXnB,EAAAA,GAAcZ,CATH;AAWX,MAAI2B,CAAAA,GAAQC,WAAAA,CAAY,YAAA;AAClBG,IAAAA,EAAAA,IAAOA,EAAAA,CAAIN,MAAXM,KACFF,aAAAA,CAAcF,CAAdE,CAAAA,EACAE,EAAAA,GAAM,IAFJA;AAEI,GAHEH,EAKT,GALSA,CAAZ;AAcA,SAAO,CAACG,EAAD,EAPS,YAAA;AACVA,IAAAA,EAAAA,IAAAA,CAAQA,EAAAA,CAAIN,MAAZM,KACFA,EAAAA,CAAID,KAAJC,IACAA,EAAAA,GAAM,IAFJA;AAEI,GAIH,CAAP;AAJU;;AAAA,IAAA,EAAA;AAAA,ICtBNE,EAAAA,GAAQ;AACZC,iBAAenC,EADH;AAEZoC,cAAYX,EAFA;AAGZY,cAAYJ;AAHA,CDsBF;AAAA,IErBUK,EAAAA,GAAAA,UAAaxH,CAAbwH,EAAsBC,CAAtBD,EAAgC1I,CAAhC0I,EAAgC1I;AAAAA,MAAAA;AAAW,WAC/D2I,CAAAA,CAASrH,IAATqH,GAAgBzH,CAAAA,CAAQI,IAAxBqH,EAAwBrH,OAAAA,CAAAA,OAAAA,CACLsD,CAAAA,CAAa1D,CAAb0D,EAAsB;AACvCtD,MAAAA,IAAAA,EAAMqH;AADiC,KAAtB/D,CAAAA,CAEhBrE,IAFgBqE,CAEXO,CAFWP,CADKtD,EAGhB6D,IAHgB7D,CAGhB6D,UAFFzD,CAEEyD,EAFFzD;AAAAA,UAIc,eAAhBA,CAAAA,CAAK0D,MAJH1D,EAKJ,OAAOA,CAAAA,CAAKJ,IAAZ;AAAYA,UACa,eAAhBI,CAAAA,CAAK0D,MADF9D,EAEZ,MAAA,IAAU2B,KAAV,CAAUA,gBAAmBvB,CAAAA,CAAK2D,MAAL3D,IAAe,qBAAlCuB,CAAV,CAAA;;AAA4C,UACnB,cAAhBvB,CAAAA,CAAK0D,MAD8B,EACR;AACpC,YAAIW,CAAAA,GAAAA,CAAc,CAAlB;AADoC,eAAA,OAAA,CAAA,OAAA,CAAA,UDLR7E,CCKQ,EDLClB,CCKD,EDLCA;AAAAA,eAAAA,CAAAA,KAAAA,CAAAA,KAAAA,CAAAA,GAAO,EAAPA;;AAAO,cAAA;AAC9C,gBAAA;AACE,qBAAA,OAAA,CAAA,OAAA,CAAOsI,EAAAA,CAAMpH,CAAAA,CAAQM,MAAd8G,CAAAA,CAAsBlE,CAAAA,CAAgBlD,CAAhBkD,CAAtBkE,EAAgDtI,CAAhDsI,CAAP,CAAA;AACA,aAFF,CAEE,OAAOlG,CAAP,EAAOA;AAEP,oBADAC,OAAAA,CAAQD,KAARC,CAAc,iCAAdA,EAAiDD,CAAjDC,EAAwD;AAACnB,gBAAAA,OAAAA,EAAAA,CAAD;AAAUlB,gBAAAA,IAAAA,EAAAA;AAAV,eAAxDqC,GACMD,CAAN;AAAMA;AALV,WAAgD,CAAhD,OAAA,CAAA,EAAA;AAAA,mBAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;ACO+ByG,SAFS,CAECpH,CAAAA,CAAmBC,CAAAA,CAAK+D,KAAxBhE,CAFD,CAAA,EAEyBgE,IAFzB,CAEyBA,UAAAA,CAAAA,EAAAA;AAAAA,cAAnDmD,CAAAA,GAAAA,CAAAA,CAAAA,CAAAA,CAAmDnD;AAAAA,cAEvD0C,CAAAA,GAAQ,YAAA;AACZ,gBAAA;AACES,cAAAA,CAAAA,IACA7C,CAAAA,GAAAA,CAAc,CADd6C;AAEA,aAHF,CAGE,OAAOxG,CAAP,EAAOA;AACPC,cAAAA,OAAAA,CAAQD,KAARC,CAAc,mBAAdA,EAAmCD,CAAnCC;AAAmCD;AAAAA,WAPsBqD;;AAW7D,iBAAOK,EAAAA,CAAKpE,CAAAA,CAAK6D,OAAVO,EAAmB,YAAA;AAAA,mBAAMC,CAAN;AAAMA,WAAzBD,CAAAA,CACJvF,IADIuF,CACC,UAAA,CAAA,EAAA;AAEJ,mBADAqC,CAAAA,IACOW,CAAP;AAAOA,WAHJhD,EAGIgD,KAHJhD,CAKE,UAAA,CAAA,EAAA;AAGL,kBAFAzD,OAAAA,CAAQD,KAARC,CAAcD,CAAdC,GACA8F,CAAAA,EADA9F,EAEMD,CAAN;AAAMA,WARH0D,CAAP;AAQU1D,SArB0B,CAAA;AAyBpC;;AAAA,YADAC,OAAAA,CAAQD,KAARC,CAAQD,gCAARC,EAAgD;AAACnB,QAAAA,OAAAA,EAAAA,CAAD;AAAUQ,QAAAA,IAAAA,EAAAA;AAAV,OAAhDW,GAA0DX,IAChDuB,KADgDvB,CAChDuB,gCADgDvB,CAC1D;AAAUuB,KAlCY3B,CADuC;AAAjE,GAAsDtB,CAAtD,OAAA,CAAA,EAAA;AAAA,WAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA,CFqBY;AAAA,IGpBN+I,EAAAA,GAAO,YAAA,CAAA,CHoBD;AAAA,IGnBNC,EAAAA,GAAI,UAAA,CAAA,EAAA;AAAA,SAAkB,YAAA,OAANC,CAAM,IAAYA,CAAAA,CAAEC,WAAFD,EAA9B;AAAgCC,CHmB9B;AAAA,IGlBNC,EAAAA,GAAY,UAACC,CAAD,EAAMC,CAAN,EAAMA;AAAAA,SACtBhH,OAAAA,CAAQiH,IAARjH,CACE,oBADFA,EACE,cACY+G,CADZ,GACYA,eADZ,GAC+BC,CAD/B,GAC+BA,sCAFjChH,CADsBgH;AAGWA,CHevB;AAAA,IGZNE,EAAAA,GAAS,IAAIC,GAAJ,CAAQ,CACrB,mBADqB,EAErB,qBAFqB,EAGrB,sBAHqB,EAIrB,kBAJqB,CAAR,CHYH;AAAA,IIpBNT,EAAAA,GAAO,YAAA,CAAA,CJoBD;AAAA,IInBNC,EAAAA,GAAI,UAAA,CAAA,EAAA;AAAA,SAAkB,YAAA,OAANC,CAAM,IAAYA,CAAAA,CAAEC,WAAFD,EAA9B;AAAgCC,CJmB9B;AAAA,IIlBNC,EAAAA,GAAY,UAACC,CAAD,EAAMC,CAAN,EAAMA;AAAAA,SACtBhH,OAAAA,CAAQiH,IAARjH,CACE,oBADFA,EACE,cACY+G,CADZ,GACYA,eADZ,GAC+BC,CAD/B,GAC+BA,sCAFjChH,CADsBgH;AAGWA,CJevB;AAAA,IIZNE,EAAAA,GAAS,IAAIC,GAAJ,CAAQ,CACrB,mBADqB,EAErB,qBAFqB,EAGrB,sBAHqB,EAIrB,kBAJqB,CAAR,CJYH;AAAA,IKpBNT,EAAAA,GAAO,YAAA,CAAA,CLoBD;AAAA,IKnBNC,EAAAA,GAAI,UAAA,CAAA,EAAA;AAAA,SAAkB,YAAA,OAANC,CAAM,IAAYA,CAAAA,CAAEC,WAAFD,EAA9B;AAAgCC,CLmB9B;AAAA,IKlBNC,EAAAA,GAAY,UAACC,CAAD,EAAMC,CAAN,EAAMA;AAAAA,SACtBhH,OAAAA,CAAQiH,IAARjH,CACE,oBADFA,EACE,cACY+G,CADZ,GACYA,eADZ,GAC+BC,CAD/B,GAC+BA,sCAFjChH,CADsBgH;AAGWA,CLevB;AAAA,IKZNE,EAAAA,GAAS,IAAIC,GAAJ,CAAQ,CACrB,mBADqB,EAErB,qBAFqB,EAGrB,sBAHqB,EAIrB,kBAJqB,CAAR,CLYH;AAAA,IMdUkB,EAAAA,GAAAA,UAAAA,CAAAA,EAAAA;AAAAA,MAAaxJ,CAAAA,GAAAA,CAAAA,CAAAA,OAAbwJ;AAAAA,MAAaxJ,CAAAA,GAAAA,CAAAA,CAAS+I,GAAtBS;AAAAA,MAAsBT,CAAAA,GAAAA,KAAAA,CAAAA,KAAAA,CAAAA,GAAM,EAANA,GAAM,CAA5BS;AAAAA,MAA4B,CAAA,GAAA,CAAA,CAAI1K,IAAhC0K;AAAAA,MAAgC1K,CAAAA,GAAAA,KAAAA,CAAAA,KAAAA,CAAAA,GAAO,EAAPA,GAAO,CAAvC0K;;AAAuC,MAAA;AAC3D,QAAA;AACE,aAAA,OAAA,CAAA,OAAA,CAAOL,EAAAA,CAAWnJ,CAAAA,CAAQM,MAAnB6I,CAAAA,CAA2BnJ,CAA3BmJ,EAAoCJ,CAApCI,EAAyCrK,CAAzCqK,CAAP,CAAA;AACA,KAFF,CAEE,OAAOjI,CAAP,EAAOA;AAEP,YADAC,OAAAA,CAAQD,KAARC,CAAc,6CAAdA,EAA6DD,CAA7DC,EAAoE;AAACnB,QAAAA,OAAAA,EAAAA,CAAD;AAAU+I,QAAAA,GAAAA,EAAAA,CAAV;AAAejK,QAAAA,IAAAA,EAAAA;AAAf,OAApEqC,GACMD,CAAN;AAAMA;AALV,GAA6D,CAA7D,OAAA,CAAA,EAAA;AAAA,WAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA,CNcY;AAAA,IMtBNiI,EAAAA,GAAa;AACjBC,cAAY5B,EADK;AAEjB9C,eAAa8C,EAFI;AAGjB6B,gBAAAA,UCH4BrJ,CDG5BqJ,ECHqC1F,CDGrC0F,ECH2CvK,CDG3CuK,ECH2CvK;AAC3C,WAAA,IAAWgG,OAAX,CAAmB,UAAC2E,CAAD,EAAUC,CAAV,EAAUA;AAC3B,UAAMrI,CAAAA,GAAKD,CAAAA,EAAX;AAAA,UACMuI,CAAAA,GAA0B7K,CAAAA,CAAK6K,uBADrC;AAGAhG,MAAAA,CAAAA,CAAKvD,IAALuD,GAAY3D,CAAAA,CAAQI,IAApBuD,EAAoBvD,UJYFJ,CIZEI,EJYOtB,CIZPsB,EJYOtB;AAC7B,YAAA,KAAA,CAAA,KAD6BA,CAC7B,KAD6BA,CAAAA,GAAO,EACpC,GAAe,QAAXkB,CAAJ,EAAqB,OAAO;AAAChB,UAAAA,IAAAA,EAAM6I,EAAP;AAAaZ,UAAAA,KAAAA,EAAOY;AAApB,SAAP;AAErB,YACMU,CAAAA,GAAUzJ,CAAAA,CAAKyJ,OAALzJ,IAAgB+I,EADhC;AAAA,YAEMW,CAAAA,GAAY1J,CAAAA,CAAK0J,SAAL1J,IAAkB+I,EAFpC;AAAA,YAGMY,CAAAA,GAAU3J,CAAAA,CAAK2J,OAAL3J,IAAgB+I,EAHhC;AAAA,YAIMa,CAAAA,GAAa5J,CAAAA,CAAK4J,UAAL5J,IAAmB+I,EAJtC;AAMAtE,QAAAA,MAAAA,CAAOoF,gBAAPpF,CAAwB,SAAxBA,EAAmCqF,CAAnCrF;AACA,YAAA,CAAA,GAA0B2B,EAAAA,CAAYhC,CAAAA,CAAgBlD,CAAhBkD,CAAZgC,CAA1B;AAAA,YAAOI,CAAAA,GAAAA,CAAAA,CAAAA,CAAAA,CAAP;AAAA,YAAeoC,CAAAA,GAAAA,CAAAA,CAAAA,CAAAA,CAAf;AACA,eAAO;AAAC1I,UAAAA,IAAAA,EAAAA,CAAD;AAAOiI,UAAAA,KAAAA,EAAAA;AAAP,SAAP;;AAEA,iBAAS2B,CAAT,CAAkBb,CAAlB,EAAkBA;AAChB,cAAA;AACE,gBAAsB,YAAA,OAAXA,CAAAA,CAAE3H,IAAb,EAAgC;AAChC,gBAAIiI,EAAAA,CAAOQ,GAAPR,CAAWN,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAlBmK,CAAJ,EAA6B;AACzBP,YAAAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CApCT,gBAoCSA,CAAnBA,IAAmCb,CAAAA,EAAnCa,EACAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CApCT,gBAoCSA,CAAnBA,IAAmCW,CAAAA,CAAQV,CAARU,EAAW;AAACzJ,cAAAA,IAAAA,EAAAA,CAAD;AAAOiI,cAAAA,KAAAA,EAAAA;AAAP,aAAXwB,CADnCX,EAEAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CApCN,mBAoCMA,CAAnBA,IAAsCY,CAAAA,CAAWX,CAAXW,EAAc;AAAC1J,cAAAA,IAAAA,EAAAA,CAAD;AAAOiI,cAAAA,KAAAA,EAAAA;AAAP,aAAdyB,CAFtCZ,EAGJU,CAAAA,CAAUT,CAAVS,EAAa;AAACxJ,cAAAA,IAAAA,EAAAA,CAAD;AAAOiI,cAAAA,KAAAA,EAAAA;AAAP,aAAbuB,CAHIV,EAMAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CAAE,iBAAFA,CAAnBA,KACFG,EAAAA,CAAUF,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAjB+J,EA1CY,gBA0CZA,CAAAA,EACAQ,CAAAA,CAAQV,CAARU,EAAW;AAACzJ,cAAAA,IAAAA,EAAAA,CAAD;AAAOiI,cAAAA,KAAAA,EAAAA;AAAP,aAAXwB,CAFEX,CANAA,EAUAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CAAE,oBAAFA,CAAnBA,KACFG,EAAAA,CAAUF,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAjB+J,EA7Ce,mBA6CfA,CAAAA,EACAS,CAAAA,CAAWX,CAAXW,EAAc;AAAC1J,cAAAA,IAAAA,EAAAA,CAAD;AAAOiI,cAAAA,KAAAA,EAAAA;AAAP,aAAdyB,CAFEZ,CAVAA,EAcAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CAAE,iBAAFA,CAAnBA,KACFG,EAAAA,CAAUF,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAjB+J,EAnDY,gBAmDZA,CAAAA,EACAhB,CAAAA,EAFEa,CAdAA,EAmBAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CAAE,0BAAFA,CAAnBA,KACFG,EAAAA,CAAUF,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAjB+J,EAtDe,mBAsDfA,CAAAA,EACAS,CAAAA,CAAWX,CAAXW,EAAc;AAAC1J,cAAAA,IAAAA,EAAAA,CAAD;AAAOiI,cAAAA,KAAAA,EAAAA;AAAP,aAAdyB,CAFEZ,CAnBAA,EAuBAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CAAE,kBAAFA,CAAnBA,KACFG,EAAAA,CAAUF,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAjB+J,EA3DY,gBA2DZA,CAAAA,EACAQ,CAAAA,CAAQV,CAARU,EAAW;AAACzJ,cAAAA,IAAAA,EAAAA,CAAD;AAAOiI,cAAAA,KAAAA,EAAAA;AAAP,aAAXwB,CAFEX,CAvBAA,EA2BAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CAAE,wBAAFA,CAAnBA,KACFG,EAAAA,CAAUF,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAjB+J,EAhEY,gBAgEZA,CAAAA,EACAhB,CAAAA,EAFEa,CA3BAA,EA+BAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CAAE,aAAFA,CAAnBA,KACFG,EAAAA,CAAUF,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAjB+J,EApEY,gBAoEZA,CAAAA,EACAhB,CAAAA,EAFEa,CA/BAA;AAmCJ,WAtCF,CAsCE,OAAO5G,CAAP,EAAOA;AACPC,YAAAA,OAAAA,CAAQD,KAARC,CAAc,sBAAdA,EAAsCD,CAAtCC,GACA8F,CAAAA,EADA9F;AACA8F;AAIJ;;AAAA,iBAASA,CAAT,GAASA;AACP,cAAA;AACE1D,YAAAA,MAAAA,CAAOuF,mBAAPvF,CAA2B,SAA3BA,EAAsCqF,CAAtCrF,GAEAmE,CAAAA,EAFAnE,EAGAgF,CAAAA,EAHAhF;AAIA,WALF,CAKE,OAAOrC,CAAP,EAAOA;AACPC,YAAAA,OAAAA,CAAQD,KAARC,CAAc,mBAAdA,EAAmCD,CAAnCC;AAAmCD;AAIvC;;AAAA,iBAASlC,CAAT,CAAc+J,CAAd,EAAcA;AACZ,cAAA;AACEzD,YAAAA,CAAAA,CAAO0D,WAAP1D,CAAmBhI,IAAAA,CAAKC,KAALD,CAAWA,IAAAA,CAAKM,SAALN,CAAeyL,CAAAA,IAAO,EAAtBzL,CAAXA,CAAnBgI,EAA0D,GAA1DA;AACA,WAFF,CAEE,OAAOpE,CAAP,EAAOA;AACPC,YAAAA,OAAAA,CAAQD,KAARC,CAAc,kBAAdA,EAAkC4H,CAAlC5H,EAAuCD,CAAvCC;AAAuCD;AAAAA;AInFzCJ,OAFoBV,CAEdJ,CAFcI,EAEL;AACPqI,QAAAA,OAAAA,EAAAA,UAAQX,CAARW,EAAQX,CAARW,EAAQX;AAAAA,cAAI9I,CAAAA,GAAAA,CAAAA,CAAAA,IAAJ8I;;AAAI9I,cAAAA;AAAAA,mBAAAA,OAAAA,CAAAA,OAAAA,CAqiBjB,UAAgB2E,CAAhB,EAAsBsG,CAAtB,EAAsBA;AAC5B,kBAAA;AACC,oBAAID,CAAAA,GAASrG,CAAAA,EAAb;AACC,eAFF,CAEE,OAAMoE,CAAN,EAAMA;AACP,uBAAOkC,CAAAA,CAAQlC,CAARkC,CAAP;AAED;;AAAA,qBAAID,CAAAA,IAAUA,CAAAA,CAAO3K,IAAjB2K,GACIA,CAAAA,CAAO3K,IAAP2K,CAAO3K,KAAK,CAAZ2K,EAAoBC,CAApBD,CADJA,GAGGA,CAHP;AAGOA,aATD,CASCA,YAAAA;AAAAA,kBAAAA,CAAAA,GAziBa;AACP7J,gBAAAA,MAAAA,EAAQH,CAAAA,CAAQG,MADT;AAEPC,gBAAAA,IAAAA,EAAMJ,CAAAA,CAAQI;AAFP,eAyiBb4J;AAviBoB5J,qBAAAA,OAAAA,CAAAA,OAAAA,CAGE3D,CAAAA,CAAW,YAAXA,CAHF2D,EAGa,IAHbA,CAGa,UAAA,CAAA,EAAA;AAAA,uBAAA,OAAA,CAAA,OAAA,CAChB3D,CAAAA,CAAW,gBAAXA,CADgB,EACL,IADK,CACL,UAAA,CAAA,EAAA;AAT1BuC,kBAAAA,CAAAA,CAAK;AACHd,oBAAAA,IAAAA,EAAM,yBADH;AAEHyF,oBAAAA,IAAAA,EAAAA,CAFG;AAGH3D,oBAAAA,OAAAA,EAAAA,CAHG;AAOHlD,oBAAAA,MAAAA,EAAQ;AACNuF,sBAAAA,QAAAA,EAAAA,CADM;AAENuH,sBAAAA,GAAAA,EAAAA;AAFM;AAPL,mBAAL5K,CAAAA;AADE,sBAAA,CAAA,GAgBS;AACPmB,oBAAAA,MAAAA,EAAQH,CAAAA,CAAQG,MADT;AAEPC,oBAAAA,IAAAA,EAAMJ,CAAAA,CAAQI;AAFP,mBAhBT;AAkBgBA,yBAAAA,OAAAA,CAAAA,OAAAA,CAGE3D,CAAAA,CAAW,YAAXA,CAHF2D,EAGa,IAHbA,CAGa,UAAA,CAAA,EAAA;AAAA,2BAAA,OAAA,CAAA,OAAA,CAChB3D,CAAAA,CAAW,gBAAXA,CADgB,EACL,IADK,CACL,UAAA,CAAA,EAAA;AAT1BuC,sBAAAA,CAAAA,CAAK;AACHd,wBAAAA,IAAAA,EAAM,0BADH;AAEHyF,wBAAAA,IAAAA,EAAAA,CAFG;AAGH3D,wBAAAA,OAAAA,EAAAA,CAHG;AAOHlD,wBAAAA,MAAAA,EAAQ;AACNuF,0BAAAA,QAAAA,EAAAA,CADM;AAENuH,0BAAAA,GAAAA,EAAAA;AAFM,yBAPL;AAWHC,wBAAAA,UAAAA,EAAY;AACVC,0BAAAA,OAAAA,EACE;AAFQ;AAXT,uBAAL9K,CAAAA,EAgBI2K,CAAAA,IACF3K,CAAAA,CAAK;AACH+K,wBAAAA,OAAAA,EAAS,KADN;AAEH1I,wBAAAA,EAAAA,EAAIA,CAFD;AAGHf,wBAAAA,MAAAA,EAAQ,UAHL;AAIHH,wBAAAA,MAAAA,EAAQ,CAACwD,CAAD,EAAO3D,CAAAA,CAAQG,MAAf,CAJL;AAKH0J,wBAAAA,UAAAA,EAAY;AACVC,0BAAAA,OAAAA,EACE;AAFQ;AALT,uBAAL9K,CAjBFA;AAwBQ,qBAhBuB,CAAA;AAgBvB,mBAnBUoB,CAAAA;AAmBV,iBA5BuB,CAAA;AA4BvB,eA/BUA,CAAAA;AA+BV,aA+fX,EA/fW,UAIDc,CAJC,EAIDA;AACP,oBAAMA,CAAN;AAAMA,aA0fT,CAriBiBlC,CAAAA;AADL,WACKA,CADL,OAAA,CAAA,EAAA;AAAA,mBAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA,SAAA;AAgDb0J,QAAAA,UAAAA,EAAAA,UAAWX,CAAXW,EAAWX,CAAXW,EAAWX;AAAAA,cAAId,CAAAA,GAAAA,CAAAA,CAAAA,KAAJc;;AACT,cAAA;AACE,gBAAsB,YAAA,OAAXA,CAAAA,CAAE3H,IAAb,EAAgC;AAChC,gBAAMI,CAAAA,GAAOyD,CAAAA,CAAyB8D,CAAAA,CAAE3H,IAA3B6D,CAAb;;AAEA,oBAAQzD,CAAAA,CAAK0D,MAAb;AACE,mBAAK,UAAL;AACEuF,gBAAAA,CAAAA,CAAQjJ,CAAAA,CAAKJ,IAAbqJ,CAAAA,EACAxC,CAAAA,EADAwC;AAEA;;AAEF,mBAAK,UAAL;AACEC,gBAAAA,CAAAA,CAAAA,gBAAoBlJ,CAAAA,CAAK2D,MAAL3D,IAAe,oBAAnCkJ,CAAAA,CAAAA,EACAzC,CAAAA,EADAyC;AAEA;;AAEF;AACEA,gBAAAA,CAAAA,CAAAA,8BAAAA,CAAAA,EACAzC,CAAAA,EADAyC;AAZJ;AAgBA,WApBF,CAoBE,OAAOxI,CAAP,EAAOA;AAEP,kBADAC,OAAAA,CAAQD,KAARC,CAAc,gCAAdA,EAAgDD,CAAhDC,GACMD,CAAN;AAAMA;AAAAA,SAvEG;AA2EbsH,QAAAA,SAAAA,EAAAA,UAAUT,CAAVS,EAAUT,CAAVS,EAAUT;AAAAA,cAAId,CAAAA,GAAAA,CAAAA,CAAAA,KAAJc;;AACR,cAAA;AACE,gBAAsB,YAAA,OAAXA,CAAAA,CAAE3H,IAAb,EAAgC;AAChC,gBAAuB,UAAnB2H,CAAAA,CAAE3H,IAAF2H,CAAOgC,OAAX,EAA8B;AAC9B,gBAAIhC,CAAAA,CAAE3H,IAAF2H,CAAO1G,EAAP0G,KAAc1G,CAAlB,EAAsB;AACtB,gBAAMb,CAAAA,GAAOyD,CAAAA,CAAyB8D,CAAAA,CAAE3H,IAAF2H,CAAOiC,MAAhC/F,CAAb;;AAEA,oBAAQzD,CAAAA,CAAK0D,MAAb;AACE,mBAAK,UAAL;AACEuF,gBAAAA,CAAAA,CAAQjJ,CAAAA,CAAKJ,IAAbqJ,CAAAA,EACAxC,CAAAA,EADAwC;AAEA;;AAEF,mBAAK,UAAL;AACEC,gBAAAA,CAAAA,CAAAA,gBAAoBlJ,CAAAA,CAAK2D,MAAL3D,IAAe,oBAAnCkJ,CAAAA,CAAAA,EACAzC,CAAAA,EADAyC;AAEA;;AAEF;AACEA,gBAAAA,CAAAA,CAAAA,8BAAAA,CAAAA,EACAzC,CAAAA,EADAyC;AAZJ;AAgBA,WAtBF,CAsBE,OAAOxI,CAAP,EAAOA;AAEP,kBADAC,OAAAA,CAAQD,KAARC,CAAc,+BAAdA,EAA+CD,CAA/CC,GACMD,CAAN;AAAMA;AAAAA,SApGG;AAwGbqH,QAAAA,OAAAA,EAAAA,YAAAA;AACEmB,UAAAA,CAAAA,CAAAA,6BAAAA,CAAAA;AAAAA;AAzGW,OAFKtJ,CAApBuD;AA2GI+F,KA/GN,CAAA;AA+GMA,GDhHW;AAIjBJ,aAAAA,UEJyBtJ,CFIzBsJ,EEJkC3F,CFIlC2F,EEJwCxK,CFIxCwK,EEJwCxK;AACxC,WAAA,IAAWgG,OAAX,CAAmB,UAAC2E,CAAD,EAAUC,CAAV,EAAUA;AAC3B,UAAMrI,CAAAA,GAAKD,CAAAA,EAAX;AAAA,UACMuI,CAAAA,GAA0B7K,CAAAA,CAAK6K,uBADrC;AAGAhG,MAAAA,CAAAA,CAAKvD,IAALuD,GAAY3D,CAAAA,CAAQI,IAApBuD,EAAoBvD,UJYJJ,CIZII,EJYKtB,CIZLsB,EJYKtB;AAC3B,YAAA,KAAA,CAAA,KAD2BA,CAC3B,KAD2BA,CAAAA,GAAO,EAClC,GAAe,QAAXkB,CAAJ,EAAqB,OAAO;AAAChB,UAAAA,IAAAA,EAAM6I,EAAP;AAAaZ,UAAAA,KAAAA,EAAOY;AAApB,SAAP;AAErB,YACMU,CAAAA,GAAUzJ,CAAAA,CAAKyJ,OAALzJ,IAAgB+I,EADhC;AAAA,YAEMW,CAAAA,GAAY1J,CAAAA,CAAK0J,SAAL1J,IAAkB+I,EAFpC;AAAA,YAGMY,CAAAA,GAAU3J,CAAAA,CAAK2J,OAAL3J,IAAgB+I,EAHhC;AAAA,YAIMa,CAAAA,GAAa5J,CAAAA,CAAK4J,UAAL5J,IAAmB+I,EAJtC;AAMAtE,QAAAA,MAAAA,CAAOoF,gBAAPpF,CAAwB,SAAxBA,EAAmCqF,CAAnCrF;AACA,YAAA,CAAA,GAAwBoD,EAAAA,CAAUzD,CAAAA,CAAgBlD,CAAhBkD,CAAVyD,CAAxB;AAAA,YAAOsC,CAAAA,GAAAA,CAAAA,CAAAA,CAAAA,CAAP;AAAA,YAAavB,CAAAA,GAAAA,CAAAA,CAAAA,CAAAA,CAAb;AACA,eAAO;AAAC1I,UAAAA,IAAAA,EAAAA,CAAD;AAAOiI,UAAAA,KAAAA,EAAAA;AAAP,SAAP;;AAEA,iBAAS2B,CAAT,CAAkBb,CAAlB,EAAkBA;AAChB,cAAA;AACE,gBAAsB,YAAA,OAAXA,CAAAA,CAAE3H,IAAb,EAAgC;AAChC,gBAAIiI,EAAAA,CAAOQ,GAAPR,CAAWN,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAlBmK,CAAJ,EAA6B;AACzBP,YAAAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CApCT,gBAoCSA,CAAnBA,IAAmCb,CAAAA,EAAnCa,EACAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CApCT,gBAoCSA,CAAnBA,IAAmCW,CAAAA,CAAQV,CAARU,EAAW;AAACzJ,cAAAA,IAAAA,EAAAA,CAAD;AAAOiI,cAAAA,KAAAA,EAAAA;AAAP,aAAXwB,CADnCX,EAEAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CApCN,mBAoCMA,CAAnBA,IAAsCY,CAAAA,CAAWX,CAAXW,EAAc;AAAC1J,cAAAA,IAAAA,EAAAA,CAAD;AAAOiI,cAAAA,KAAAA,EAAAA;AAAP,aAAdyB,CAFtCZ,EAGJU,CAAAA,CAAUT,CAAVS,EAAa;AAACxJ,cAAAA,IAAAA,EAAAA,CAAD;AAAOiI,cAAAA,KAAAA,EAAAA;AAAP,aAAbuB,CAHIV,EAMAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CAAE,iBAAFA,CAAnBA,KACFG,EAAAA,CAAUF,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAjB+J,EA1CY,gBA0CZA,CAAAA,EACAQ,CAAAA,CAAQV,CAARU,EAAW;AAACzJ,cAAAA,IAAAA,EAAAA,CAAD;AAAOiI,cAAAA,KAAAA,EAAAA;AAAP,aAAXwB,CAFEX,CANAA,EAUAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CAAE,oBAAFA,CAAnBA,KACFG,EAAAA,CAAUF,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAjB+J,EA7Ce,mBA6CfA,CAAAA,EACAS,CAAAA,CAAWX,CAAXW,EAAc;AAAC1J,cAAAA,IAAAA,EAAAA,CAAD;AAAOiI,cAAAA,KAAAA,EAAAA;AAAP,aAAdyB,CAFEZ,CAVAA,EAcAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CAAE,iBAAFA,CAAnBA,KACFG,EAAAA,CAAUF,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAjB+J,EAnDY,gBAmDZA,CAAAA,EACAhB,CAAAA,EAFEa,CAdAA,EAmBAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CAAE,0BAAFA,CAAnBA,KACFG,EAAAA,CAAUF,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAjB+J,EAtDe,mBAsDfA,CAAAA,EACAS,CAAAA,CAAWX,CAAXW,EAAc;AAAC1J,cAAAA,IAAAA,EAAAA,CAAD;AAAOiI,cAAAA,KAAAA,EAAAA;AAAP,aAAdyB,CAFEZ,CAnBAA,EAuBAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CAAE,kBAAFA,CAAnBA,KACFG,EAAAA,CAAUF,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAjB+J,EA3DY,gBA2DZA,CAAAA,EACAQ,CAAAA,CAAQV,CAARU,EAAW;AAACzJ,cAAAA,IAAAA,EAAAA,CAAD;AAAOiI,cAAAA,KAAAA,EAAAA;AAAP,aAAXwB,CAFEX,CAvBAA,EA2BAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CAAE,wBAAFA,CAAnBA,KACFG,EAAAA,CAAUF,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAjB+J,EAhEY,gBAgEZA,CAAAA,EACAhB,CAAAA,EAFEa,CA3BAA,EA+BAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CAAE,aAAFA,CAAnBA,KACFG,EAAAA,CAAUF,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAjB+J,EApEY,gBAoEZA,CAAAA,EACAhB,CAAAA,EAFEa,CA/BAA;AAmCJ,WAtCF,CAsCE,OAAO5G,CAAP,EAAOA;AACPC,YAAAA,OAAAA,CAAQD,KAARC,CAAc,sBAAdA,EAAsCD,CAAtCC,GACA8F,CAAAA,EADA9F;AACA8F;AAIJ;;AAAA,iBAASA,CAAT,GAASA;AACP,cAAA;AACE1D,YAAAA,MAAAA,CAAOuF,mBAAPvF,CAA2B,SAA3BA,EAAsCqF,CAAtCrF,GAEAmE,CAAAA,EAFAnE,EAGAgF,CAAAA,EAHAhF;AAIA,WALF,CAKE,OAAOrC,CAAP,EAAOA;AACPC,YAAAA,OAAAA,CAAQD,KAARC,CAAc,mBAAdA,EAAmCD,CAAnCC;AAAmCD;AAIvC;;AAAA,iBAASlC,CAAT,CAAc+J,CAAd,EAAcA;AACZ,cAAA;AACEE,YAAAA,CAAAA,CAAKD,WAALC,CAAiB3L,IAAAA,CAAKC,KAALD,CAAWA,IAAAA,CAAKM,SAALN,CAAeyL,CAAAA,IAAO,EAAtBzL,CAAXA,CAAjB2L,EAAwD,GAAxDA;AACA,WAFF,CAEE,OAAO/H,CAAP,EAAOA;AACPC,YAAAA,OAAAA,CAAQD,KAARC,CAAc,kBAAdA,EAAkC4H,CAAlC5H,EAAuCD,CAAvCC;AAAuCD;AAAAA;AInFzCgJ,OAFoB9J,CAEhBJ,CAFgBI,EAEP;AACLqI,QAAAA,OAAAA,EAAAA,UAAQX,CAARW,EAAQX,CAARW,EAAQX;AAAAA,cAAI9I,CAAAA,GAAAA,CAAAA,CAAAA,IAAJ8I;;AAAI9I,cAAAA;AAAAA,mBAAAA,OAAAA,CAAAA,OAAAA,CAqiBjB,UAAgB2E,CAAhB,EAAsBsG,CAAtB,EAAsBA;AAC5B,kBAAA;AACC,oBAAID,CAAAA,GAASrG,CAAAA,EAAb;AACC,eAFF,CAEE,OAAMoE,CAAN,EAAMA;AACP,uBAAOkC,CAAAA,CAAQlC,CAARkC,CAAP;AAED;;AAAA,qBAAID,CAAAA,IAAUA,CAAAA,CAAO3K,IAAjB2K,GACIA,CAAAA,CAAO3K,IAAP2K,CAAO3K,KAAK,CAAZ2K,EAAoBC,CAApBD,CADJA,GAGGA,CAHP;AAGOA,aATD,CASCA,YAAAA;AAAAA,kBAAAA,CAAAA,GAziBa;AACP7J,gBAAAA,MAAAA,EAAQH,CAAAA,CAAQG,MADT;AAEPC,gBAAAA,IAAAA,EAAMJ,CAAAA,CAAQI;AAFP,eAyiBb4J;AAviBoB5J,qBAAAA,OAAAA,CAAAA,OAAAA,CAGE3D,CAAAA,CAAW,YAAXA,CAHF2D,EAGa,IAHbA,CAGa,UAAA,CAAA,EAAA;AAAA,uBAAA,OAAA,CAAA,OAAA,CAChB3D,CAAAA,CAAW,gBAAXA,CADgB,EACL,IADK,CACL,UAAA,CAAA,EAAA;AAT1BuC,kBAAAA,CAAAA,CAAK;AACHd,oBAAAA,IAAAA,EAAM,yBADH;AAEHyF,oBAAAA,IAAAA,EAAAA,CAFG;AAGH3D,oBAAAA,OAAAA,EAAAA,CAHG;AAOHlD,oBAAAA,MAAAA,EAAQ;AACNuF,sBAAAA,QAAAA,EAAAA,CADM;AAENuH,sBAAAA,GAAAA,EAAAA;AAFM;AAPL,mBAAL5K,CAAAA;AADE,sBAAA,CAAA,GAgBS;AACPmB,oBAAAA,MAAAA,EAAQH,CAAAA,CAAQG,MADT;AAEPC,oBAAAA,IAAAA,EAAMJ,CAAAA,CAAQI;AAFP,mBAhBT;AAkBgBA,yBAAAA,OAAAA,CAAAA,OAAAA,CAGE3D,CAAAA,CAAW,YAAXA,CAHF2D,EAGa,IAHbA,CAGa,UAAA,CAAA,EAAA;AAAA,2BAAA,OAAA,CAAA,OAAA,CAChB3D,CAAAA,CAAW,gBAAXA,CADgB,EACL,IADK,CACL,UAAA,CAAA,EAAA;AAT1BuC,sBAAAA,CAAAA,CAAK;AACHd,wBAAAA,IAAAA,EAAM,0BADH;AAEHyF,wBAAAA,IAAAA,EAAAA,CAFG;AAGH3D,wBAAAA,OAAAA,EAAAA,CAHG;AAOHlD,wBAAAA,MAAAA,EAAQ;AACNuF,0BAAAA,QAAAA,EAAAA,CADM;AAENuH,0BAAAA,GAAAA,EAAAA;AAFM,yBAPL;AAWHC,wBAAAA,UAAAA,EAAY;AACVC,0BAAAA,OAAAA,EACE;AAFQ;AAXT,uBAAL9K,CAAAA,EAgBI2K,CAAAA,IACF3K,CAAAA,CAAK;AACH+K,wBAAAA,OAAAA,EAAS,KADN;AAEH1I,wBAAAA,EAAAA,EAAIA,CAFD;AAGHf,wBAAAA,MAAAA,EAAQ,UAHL;AAIHH,wBAAAA,MAAAA,EAAQ,CAACwD,CAAD,EAAO3D,CAAAA,CAAQG,MAAf;AAJL,uBAALnB,CAjBFA;AAqB2BmB,qBAbI,CAAA;AAaJA,mBAhBTC,CAAAA;AAgBSD,iBAzBI,CAAA;AAyBJA,eA5BTC,CAAAA;AA4BSD,aAkgB9B,EAlgB8BA,UAGpBe,CAHoBf,EAGpBe;AACP,oBAAMA,CAAN;AAAMA,aA8fT,CAriBiBlC,CAAAA;AADP,WACOA,CADP,OAAA,CAAA,EAAA;AAAA,mBAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA,SAAA;AA4CX0J,QAAAA,UAAAA,EAAAA,UAAWX,CAAXW,EAAWX,CAAXW,EAAWX;AAAAA,cAAId,CAAAA,GAAAA,CAAAA,CAAAA,KAAJc;;AACT,cAAA;AACE,gBAAsB,YAAA,OAAXA,CAAAA,CAAE3H,IAAb,EAAgC;AAChC,gBAAMI,CAAAA,GAAOyD,CAAAA,CAAyB8D,CAAAA,CAAE3H,IAA3B6D,CAAb;;AAEA,oBAAQzD,CAAAA,CAAK0D,MAAb;AACE,mBAAK,UAAL;AACEuF,gBAAAA,CAAAA,CAAQjJ,CAAAA,CAAKJ,IAAbqJ,CAAAA,EACAxC,CAAAA,EADAwC;AAEA;;AAEF,mBAAK,UAAL;AACEC,gBAAAA,CAAAA,CAAAA,gBAAoBlJ,CAAAA,CAAK2D,MAAL3D,IAAe,oBAAnCkJ,CAAAA,CAAAA,EACAzC,CAAAA,EADAyC;AAEA;;AAEF;AACEA,gBAAAA,CAAAA,CAAAA,8BAAAA,CAAAA,EACAzC,CAAAA,EADAyC;AAZJ;AAgBA,WApBF,CAoBE,OAAOxI,CAAP,EAAOA;AAEP,kBADAC,OAAAA,CAAQD,KAARC,CAAc,6BAAdA,EAA6CD,CAA7CC,GACMD,CAAN;AAAMA;AAAAA,SAnEC;AAuEXsH,QAAAA,SAAAA,EAAAA,UAAUT,CAAVS,EAAUT,CAAVS,EAAUT;AAAAA,cAAId,CAAAA,GAAAA,CAAAA,CAAAA,KAAJc;;AACR,cAAA;AACE,gBAAsB,YAAA,OAAXA,CAAAA,CAAE3H,IAAb,EAAgC;AAChC,gBAAuB,UAAnB2H,CAAAA,CAAE3H,IAAF2H,CAAOgC,OAAX,EAA8B;AAC9B,gBAAIhC,CAAAA,CAAE3H,IAAF2H,CAAO1G,EAAP0G,KAAc1G,CAAlB,EAAsB;AACtB,gBAAMb,CAAAA,GAAOyD,CAAAA,CAAyB8D,CAAAA,CAAE3H,IAAF2H,CAAOiC,MAAhC/F,CAAb;;AAEA,oBAAQzD,CAAAA,CAAK0D,MAAb;AACE,mBAAK,UAAL;AACEuF,gBAAAA,CAAAA,CAAQjJ,CAAAA,CAAKJ,IAAbqJ,CAAAA,EACAxC,CAAAA,EADAwC;AAEA;;AAEF,mBAAK,UAAL;AACEC,gBAAAA,CAAAA,CAAAA,gBAAoBlJ,CAAAA,CAAK2D,MAAL3D,IAAe,oBAAnCkJ,CAAAA,CAAAA,EACAzC,CAAAA,EADAyC;AAEA;;AAEF;AACEA,gBAAAA,CAAAA,CAAAA,8BAAAA,CAAAA,EACAzC,CAAAA,EADAyC;AAZJ;AAgBA,WAtBF,CAsBE,OAAOxI,CAAP,EAAOA;AAEP,kBADAC,OAAAA,CAAQD,KAARC,CAAc,4BAAdA,EAA4CD,CAA5CC,GACMD,CAAN;AAAMA;AAAAA,SAhGC;AAoGXqH,QAAAA,OAAAA,EAAAA,YAAAA;AACEmB,UAAAA,CAAAA,CAAAA,6BAAAA,CAAAA;AAAAA;AArGS,OAFOtJ,CAApBuD;AAuGI+F,KA3GN,CAAA;AA2GMA,GF5GW;AAKjBH,aAAAA,UGLyBvJ,CHKzBuJ,EGLkC5F,CHKlC4F,EGLwCzK,CHKxCyK,EGLwCzK;AACxC,WAAA,IAAWgG,OAAX,CAAmB,UAAC2E,CAAD,EAAUC,CAAV,EAAUA;AAC3B,UAAMrI,CAAAA,GAAKD,CAAAA,EAAX;AAAA,UACMuI,CAAAA,GAA0B7K,CAAAA,CAAK6K,uBADrC;AAGAhG,MAAAA,CAAAA,CAAKvD,IAALuD,GAAY3D,CAAAA,CAAQI,IAApBuD,EAAoBvD,UJYJJ,CIZII,EJYKtB,CIZLsB,EJYKtB;AAC3B,YAAA,KAAA,CAAA,KAD2BA,CAC3B,KAD2BA,CAAAA,GAAO,EAClC,GAAe,QAAXkB,CAAJ,EAAqB,OAAO;AAAChB,UAAAA,IAAAA,EAAM6I,EAAP;AAAaZ,UAAAA,KAAAA,EAAOY;AAApB,SAAP;AAErB,YACMU,CAAAA,GAAUzJ,CAAAA,CAAKyJ,OAALzJ,IAAgB+I,EADhC;AAAA,YAEMW,CAAAA,GAAY1J,CAAAA,CAAK0J,SAAL1J,IAAkB+I,EAFpC;AAAA,YAGMY,CAAAA,GAAU3J,CAAAA,CAAK2J,OAAL3J,IAAgB+I,EAHhC;AAAA,YAIMa,CAAAA,GAAa5J,CAAAA,CAAK4J,UAAL5J,IAAmB+I,EAJtC;AAMAtE,QAAAA,MAAAA,CAAOoF,gBAAPpF,CAAwB,SAAxBA,EAAmCqF,CAAnCrF;AACA,YAAA,CAAA,GAAwB4D,EAAAA,CAAUjE,CAAAA,CAAgBlD,CAAhBkD,CAAViE,CAAxB;AAAA,YAAO+B,CAAAA,GAAAA,CAAAA,CAAAA,CAAAA,CAAP;AAAA,YAAaxB,CAAAA,GAAAA,CAAAA,CAAAA,CAAAA,CAAb;AACA,eAAO;AAAC1I,UAAAA,IAAAA,EAAAA,CAAD;AAAOiI,UAAAA,KAAAA,EAAAA;AAAP,SAAP;;AAEA,iBAAS2B,CAAT,CAAkBb,CAAlB,EAAkBA;AAChB,cAAA;AACE,gBAAsB,YAAA,OAAXA,CAAAA,CAAE3H,IAAb,EAAgC;AAChC,gBAAIiI,EAAAA,CAAOQ,GAAPR,CAAWN,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAlBmK,CAAJ,EAA6B;AACzBP,YAAAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CApCT,gBAoCSA,CAAnBA,IAAmCb,CAAAA,EAAnCa,EACAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CApCT,gBAoCSA,CAAnBA,IAAmCW,CAAAA,CAAQV,CAARU,EAAW;AAACzJ,cAAAA,IAAAA,EAAAA,CAAD;AAAOiI,cAAAA,KAAAA,EAAAA;AAAP,aAAXwB,CADnCX,EAEAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CApCN,mBAoCMA,CAAnBA,IAAsCY,CAAAA,CAAWX,CAAXW,EAAc;AAAC1J,cAAAA,IAAAA,EAAAA,CAAD;AAAOiI,cAAAA,KAAAA,EAAAA;AAAP,aAAdyB,CAFtCZ,EAGJU,CAAAA,CAAUT,CAAVS,EAAa;AAACxJ,cAAAA,IAAAA,EAAAA,CAAD;AAAOiI,cAAAA,KAAAA,EAAAA;AAAP,aAAbuB,CAHIV,EAMAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CAAE,iBAAFA,CAAnBA,KACFG,EAAAA,CAAUF,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAjB+J,EA1CY,gBA0CZA,CAAAA,EACAQ,CAAAA,CAAQV,CAARU,EAAW;AAACzJ,cAAAA,IAAAA,EAAAA,CAAD;AAAOiI,cAAAA,KAAAA,EAAAA;AAAP,aAAXwB,CAFEX,CANAA,EAUAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CAAE,oBAAFA,CAAnBA,KACFG,EAAAA,CAAUF,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAjB+J,EA7Ce,mBA6CfA,CAAAA,EACAS,CAAAA,CAAWX,CAAXW,EAAc;AAAC1J,cAAAA,IAAAA,EAAAA,CAAD;AAAOiI,cAAAA,KAAAA,EAAAA;AAAP,aAAdyB,CAFEZ,CAVAA,EAcAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CAAE,iBAAFA,CAAnBA,KACFG,EAAAA,CAAUF,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAjB+J,EAnDY,gBAmDZA,CAAAA,EACAhB,CAAAA,EAFEa,CAdAA,EAmBAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CAAE,0BAAFA,CAAnBA,KACFG,EAAAA,CAAUF,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAjB+J,EAtDe,mBAsDfA,CAAAA,EACAS,CAAAA,CAAWX,CAAXW,EAAc;AAAC1J,cAAAA,IAAAA,EAAAA,CAAD;AAAOiI,cAAAA,KAAAA,EAAAA;AAAP,aAAdyB,CAFEZ,CAnBAA,EAuBAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CAAE,kBAAFA,CAAnBA,KACFG,EAAAA,CAAUF,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAjB+J,EA3DY,gBA2DZA,CAAAA,EACAQ,CAAAA,CAAQV,CAARU,EAAW;AAACzJ,cAAAA,IAAAA,EAAAA,CAAD;AAAOiI,cAAAA,KAAAA,EAAAA;AAAP,aAAXwB,CAFEX,CAvBAA,EA2BAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CAAE,wBAAFA,CAAnBA,KACFG,EAAAA,CAAUF,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAjB+J,EAhEY,gBAgEZA,CAAAA,EACAhB,CAAAA,EAFEa,CA3BAA,EA+BAA,EAAAA,CAAEC,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAT4J,CAAAA,KAAmBA,EAAAA,CAAE,aAAFA,CAAnBA,KACFG,EAAAA,CAAUF,CAAAA,CAAE3H,IAAF2H,CAAO7J,IAAjB+J,EApEY,gBAoEZA,CAAAA,EACAhB,CAAAA,EAFEa,CA/BAA;AAmCJ,WAtCF,CAsCE,OAAO5G,CAAP,EAAOA;AACPC,YAAAA,OAAAA,CAAQD,KAARC,CAAc,oBAAdA,EAAoCD,CAApCC,GACA8F,CAAAA,EADA9F;AACA8F;AAIJ;;AAAA,iBAASA,CAAT,GAASA;AACP,cAAA;AACE1D,YAAAA,MAAAA,CAAOuF,mBAAPvF,CAA2B,SAA3BA,EAAsCqF,CAAtCrF,GAEAmE,CAAAA,EAFAnE,EAGAgF,CAAAA,EAHAhF;AAIA,WALF,CAKE,OAAOrC,CAAP,EAAOA;AACPC,YAAAA,OAAAA,CAAQD,KAARC,CAAc,iBAAdA,EAAiCD,CAAjCC;AAAiCD;AAIrC;;AAAA,iBAASlC,CAAT,CAAc+J,CAAd,EAAcA;AACZ,cAAA;AACEG,YAAAA,CAAAA,CAAKF,WAALE,CAAiB5L,IAAAA,CAAKC,KAALD,CAAWA,IAAAA,CAAKM,SAALN,CAAeyL,CAAAA,IAAO,EAAtBzL,CAAXA,CAAjB4L,EAAwD,GAAxDA;AACA,WAFF,CAEE,OAAOhI,CAAP,EAAOA;AACPC,YAAAA,OAAAA,CAAQD,KAARC,CAAc,gBAAdA,EAAgC4H,CAAhC5H,EAAqCD,CAArCC;AAAqCD;AAAAA;AInFvCgG,OAFoB9G,CAEhBJ,CAFgBI,EAEP;AACLqI,QAAAA,OAAAA,EAAAA,UAAQX,CAARW,EAAQX,CAARW,EAAQX;AAAAA,cAAI9I,CAAAA,GAAAA,CAAAA,CAAAA,IAAJ8I;;AAAI9I,cAAAA;AAAAA,mBAAAA,OAAAA,CAAAA,OAAAA,CAqiBjB,UAAgB2E,CAAhB,EAAsBsG,CAAtB,EAAsBA;AAC5B,kBAAA;AACC,oBAAID,CAAAA,GAASrG,CAAAA,EAAb;AACC,eAFF,CAEE,OAAMoE,CAAN,EAAMA;AACP,uBAAOkC,CAAAA,CAAQlC,CAARkC,CAAP;AAED;;AAAA,qBAAID,CAAAA,IAAUA,CAAAA,CAAO3K,IAAjB2K,GACIA,CAAAA,CAAO3K,IAAP2K,CAAO3K,KAAK,CAAZ2K,EAAoBC,CAApBD,CADJA,GAGGA,CAHP;AAGOA,aATD,CASCA,YAAAA;AAAAA,kBAAAA,CAAAA,GAziBa;AACP7J,gBAAAA,MAAAA,EAAQH,CAAAA,CAAQG,MADT;AAEPC,gBAAAA,IAAAA,EAAMJ,CAAAA,CAAQI;AAFP,eAyiBb4J;AAviBoB5J,qBAAAA,OAAAA,CAAAA,OAAAA,CAGE3D,CAAAA,CAAW,YAAXA,CAHF2D,EAGa,IAHbA,CAGa,UAAA,CAAA,EAAA;AAAA,uBAAA,OAAA,CAAA,OAAA,CAChB3D,CAAAA,CAAW,gBAAXA,CADgB,EACL,IADK,CACL,UAAA,CAAA,EAAA;AAT1BuC,kBAAAA,CAAAA,CAAK;AACHd,oBAAAA,IAAAA,EAAM,yBADH;AAEHyF,oBAAAA,IAAAA,EAAAA,CAFG;AAGH3D,oBAAAA,OAAAA,EAAAA,CAHG;AAOHlD,oBAAAA,MAAAA,EAAQ;AACNuF,sBAAAA,QAAAA,EAAAA,CADM;AAENuH,sBAAAA,GAAAA,EAAAA;AAFM;AAPL,mBAAL5K,CAAAA;AADE,sBAAA,CAAA,GAgBS;AACPmB,oBAAAA,MAAAA,EAAQH,CAAAA,CAAQG,MADT;AAEPC,oBAAAA,IAAAA,EAAMJ,CAAAA,CAAQI;AAFP,mBAhBT;AAkBgBA,yBAAAA,OAAAA,CAAAA,OAAAA,CAGE3D,CAAAA,CAAW,YAAXA,CAHF2D,EAGa,IAHbA,CAGa,UAAA,CAAA,EAAA;AAAA,2BAAA,OAAA,CAAA,OAAA,CAChB3D,CAAAA,CAAW,gBAAXA,CADgB,EACL,IADK,CACL,UAAA,CAAA,EAAA;AAT1BuC,sBAAAA,CAAAA,CAAK;AACHd,wBAAAA,IAAAA,EAAM,0BADH;AAEHyF,wBAAAA,IAAAA,EAAAA,CAFG;AAGH3D,wBAAAA,OAAAA,EAAAA,CAHG;AAOHlD,wBAAAA,MAAAA,EAAQ;AACNuF,0BAAAA,QAAAA,EAAAA,CADM;AAENuH,0BAAAA,GAAAA,EAAAA;AAFM,yBAPL;AAWHC,wBAAAA,UAAAA,EAAY;AACVC,0BAAAA,OAAAA,EACE;AAFQ;AAXT,uBAAL9K,CAAAA,EAgBI2K,CAAAA,IACF3K,CAAAA,CAAK;AACH+K,wBAAAA,OAAAA,EAAS,KADN;AAEH1I,wBAAAA,EAAAA,EAAIA,CAFD;AAGHf,wBAAAA,MAAAA,EAAQ,UAHL;AAIHH,wBAAAA,MAAAA,EAAQ,CAACwD,CAAD,EAAO3D,CAAAA,CAAQG,MAAf;AAJL,uBAALnB,CAjBFA;AAqB2BmB,qBAbI,CAAA;AAaJA,mBAhBTC,CAAAA;AAgBSD,iBAzBI,CAAA;AAyBJA,eA5BTC,CAAAA;AA4BSD,aAkgB9B,EAlgB8BA,UAGpBe,CAHoBf,EAGpBe;AACP,oBAAMA,CAAN;AAAMA,aA8fT,CAriBiBlC,CAAAA;AADP,WACOA,CADP,OAAA,CAAA,EAAA;AAAA,mBAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA,SAAA;AA4CX0J,QAAAA,UAAAA,EAAAA,UAAWX,CAAXW,EAAWX,CAAXW,EAAWX;AAAAA,cAAId,CAAAA,GAAAA,CAAAA,CAAAA,KAAJc;;AACT,cAAA;AACE,gBAAsB,YAAA,OAAXA,CAAAA,CAAE3H,IAAb,EAAgC;AAChC,gBAAMI,CAAAA,GAAOyD,CAAAA,CAAyB8D,CAAAA,CAAE3H,IAA3B6D,CAAb;;AAEA,oBAAQzD,CAAAA,CAAK0D,MAAb;AACE,mBAAK,UAAL;AACEuF,gBAAAA,CAAAA,CAAQjJ,CAAAA,CAAKJ,IAAbqJ,CAAAA,EACAxC,CAAAA,EADAwC;AAEA;;AAEF,mBAAK,UAAL;AACEC,gBAAAA,CAAAA,CAAAA,gBAAoBlJ,CAAAA,CAAK2D,MAAL3D,IAAe,oBAAnCkJ,CAAAA,CAAAA,EACAzC,CAAAA,EADAyC;AAEA;;AAEF;AACEA,gBAAAA,CAAAA,CAAAA,8BAAAA,CAAAA,EACAzC,CAAAA,EADAyC;AAZJ;AAgBA,WApBF,CAoBE,OAAOxI,CAAP,EAAOA;AAEP,kBADAC,OAAAA,CAAQD,KAARC,CAAc,6BAAdA,EAA6CD,CAA7CC,GACMD,CAAN;AAAMA;AAAAA,SAnEC;AAuEXsH,QAAAA,SAAAA,EAAAA,UAAUT,CAAVS,EAAUT,CAAVS,EAAUT;AAAAA,cAAId,CAAAA,GAAAA,CAAAA,CAAAA,KAAJc;;AACR,cAAA;AACE,gBAAsB,YAAA,OAAXA,CAAAA,CAAE3H,IAAb,EAAgC;AAChC,gBAAuB,UAAnB2H,CAAAA,CAAE3H,IAAF2H,CAAOgC,OAAX,EAA8B;AAC9B,gBAAIhC,CAAAA,CAAE3H,IAAF2H,CAAO1G,EAAP0G,KAAc1G,CAAlB,EAAsB;AACtB,gBAAMb,CAAAA,GAAOyD,CAAAA,CAAyB8D,CAAAA,CAAE3H,IAAF2H,CAAOiC,MAAhC/F,CAAb;;AAEA,oBAAQzD,CAAAA,CAAK0D,MAAb;AACE,mBAAK,UAAL;AACEuF,gBAAAA,CAAAA,CAAQjJ,CAAAA,CAAKJ,IAAbqJ,CAAAA,EACAxC,CAAAA,EADAwC;AAEA;;AAEF,mBAAK,UAAL;AACEC,gBAAAA,CAAAA,CAAAA,gBAAoBlJ,CAAAA,CAAK2D,MAAL3D,IAAe,oBAAnCkJ,CAAAA,CAAAA,EACAzC,CAAAA,EADAyC;AAEA;;AAEF;AACEA,gBAAAA,CAAAA,CAAAA,8BAAAA,CAAAA,EACAzC,CAAAA,EADAyC;AAZJ;AAgBA,WAtBF,CAsBE,OAAOxI,CAAP,EAAOA;AAEP,kBADAC,OAAAA,CAAQD,KAARC,CAAc,4BAAdA,EAA4CD,CAA5CC,GACMD,CAAN;AAAMA;AAAAA,SAhGC;AAoGXqH,QAAAA,OAAAA,EAAAA,YAAAA;AACEmB,UAAAA,CAAAA,CAAAA,6BAAAA,CAAAA;AAAAA;AArGS,OAFOtJ,CAApBuD;AAuGI+F,KA3GN,CAAA;AA2GMA;AH5GW,CNsBP;AAAA,IUvBUS,EAAAA,GAAAA,UAAqBpB,CAArBoB,EAA0BC,CAA1BD,EAA0BC;AAAAA,MAAAA;AAC9C7K,IAAAA,CAAAA,CAAU,eAAe8K,IAAf,CAAoBtB,CAApB,CAAVxJ,EAAoC,8BAApCA,CAAAA,EACAA,CAAAA,CACE+K,KAAAA,CAAMC,OAAND,CAAcF,CAAdE,CADF/K,EAEE,+CAFFA,CADAA;AAMA,QAAIiL,CAAAA,GAAU,EAAd;AAAA,QACIC,CAAAA,GAAY,EADhB;AAAA,QAEIC,CAAAA,GAAa,EAFjB;AAPwD,WAAA,OAAA,CAAA,OAAA,CAU/B5F,OAAAA,CAAQ8F,GAAR9F,CACvBsF,CAAAA,CAASpN,GAAToN,CAASpN,UAAU6N,CAAV7N,EAAU6N;AAAAA,UAAAA;AAAM,eACvBtL,CAAAA,CAA6B,YAAA,OAAZsL,CAAAA,CAAGpJ,IAApBlC,EAAuC,uBAAvCA,CAAAA,EACAA,CAAAA,CAA8B,YAAA,OAAbsL,CAAAA,CAAGnJ,KAApBnC,EAAwC,wBAAxCA,CADAA,EAEAA,CAAAA,CAAkC,YAAA,OAAjBsL,CAAAA,CAAGC,SAApBvL,EAA4C,4BAA5CA,CAFAA,EAE4C,OAAA,CAAA,OAAA,CAgiB3C,UAAgBoE,CAAhB,EAAsBsG,CAAtB,EAAsBA;AAC5B,cAAA;AACC,gBAAID,CAAAA,GAAAA,OAAAA,CAAAA,OAAAA,CA/hBwBe,CAAAA,CAAQF,CAAAA,CAAGpJ,IAAXsJ,CA+hBxBf,EA/hBmCvI,IA+hBnCuI,CA/hBmCvI,UAA3BsJ,CAA2BtJ,EAA3BsJ;AAIN,qBAHAP,CAAAA,CAAQQ,IAARR,CAAaO,CAAAA,CAAQE,IAARF,CAAaF,CAAAA,CAAGnJ,KAAhBqJ,EAAuBG,MAAvBH,CAA8BI,OAA9BJ,CAAsC,CAAtCA,CAAbP,GACAC,CAAAA,CAAUO,IAAVP,CAAeM,CAAAA,CAAQE,IAARF,CAAaF,CAAAA,CAAGnJ,KAAhBqJ,EAAuBK,QAAtCX,CADAD,EAEAE,CAAAA,CAAWM,IAAXN,CAAgBG,CAAAA,CAAGC,SAAnBJ,CAFAF,EAGOO,CAAAA,CAAQE,IAARF,CAAaF,CAAAA,CAAGnJ,KAAhBqJ,EAAuBM,SAA9B;AAA8BA,aA2hBhCrB,CAAJ;AACC,WAFF,CAEE,OAAMjC,CAAN,EAAMA;AACP,mBAAOkC,CAAAA,CAAQlC,CAARkC,CAAP;AAED;;AAAA,iBAAID,CAAAA,IAAUA,CAAAA,CAAO3K,IAAjB2K,GACIA,CAAAA,CAAO3K,IAAP2K,CAAO3K,KAAK,CAAZ2K,EAAoBC,CAApBD,CADJA,GAGGA,CAHP;AAGOA,SATD,CASCA,CATD,EASCA,UAjiBOsB,CAiiBPtB,EAjiBOsB;AACP,gBAAMA,CAAN;AAAMA,SAuhBP,CAhiB2C,CAHrB;AAAzBlB,OAAmBS,CAAnBT,OAAAA,CAAAA,EAAAA;AAAAA,eAAAA,OAAAA,CAAAA,MAAAA,CAAAA,CAAAA,CAAAA;AAAAA;AAAAA,KAAAA,CADuBtF,CAV+B,EAWtDsF,IAXsD,CAWtDA,UADIO,CACJP,EADIO;AAAAA,aAAAA,OAAAA,CAAAA,OAAAA,CAkBO9L,CAAAA,CAAM;AACjBK,QAAAA,OAAAA,EAAAA,KAAYqM,EADK;AAEjBpM,QAAAA,IAAAA,EAAM,UAACR,CAAD,EAAMC,CAAN,EAAMA;AAAAA,iBAAM,CAChBD,CAAAA,CAAIoK,CAAJpK,EAASC,CAAAA,CAAE4M,MAAX7M,CADgB,EAEhBA,CAAAA,CAAIgM,CAAJhM,EAAgBC,CAAAA,CAAE0L,KAAF1L,CAAQ,CAACA,CAAAA,CAAE4M,MAAH,CAAR5M,CAAhBD,CAFgB,EAGhBA,CAAAA,CAAI6L,CAAJ7L,EAAaC,CAAAA,CAAE0L,KAAF1L,CAAQA,CAAAA,CAAE6M,MAAV7M,CAAbD,CAHgB,EAIhBA,CAAAA,CAAI8L,CAAJ9L,EAAeC,CAAAA,CAAE0L,KAAF1L,CAAQ,CAACA,CAAAA,CAAE8M,IAAH,CAAR9M,CAAfD,CAJgB,EAKhBA,CAAAA,CAAI+L,CAAJ/L,EAAgBC,CAAAA,CAAE0L,KAAF1L,CAAQ,CAACA,CAAAA,CAAE4M,MAAH,CAAR5M,CAAhBD,CALgB,CAANC;AAKiB4M;AAPZ,OAAN3M,CAlBP8L,CAAAA;AAyByBa,KAnCyB,CAAA;AAA1D,GAAgDpB,CAAhD,OAAA,CAAA,EAAA;AAAA,WAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA,CVuBY;AAAA,IUiBNmB,EAAAA,GAAAA,88BVjBM;;AUiBNA,SClCUI,EDkCVJ,CClCsC/K,CDkCtC+K,EClCsC/K;AAC1C,MAAY,QAARA,CAAJ,EAAkB,OAAA,IAAA;;AAElB,UAAQA,CAAAA,CAAI,KAAZ;AACE,SAAK,OAAL;AACE,aAAOA,CAAP;;AAEF;AACE,aAAA,CAAA,CAAA,EAAA,EACKV,CADL,EACKA;AACH2B,QAAAA,IAAAA,EAAMmK,CAAAA,CAAWpL,CAAAA,CAAKiB,IAALjB,IAAaA,CAAAA,CAAKe,OAA7BqK,CADH9L;AAEHgL,QAAAA,SAAAA,EAAWtK,CAAAA,CAAKsK,SAALtK,IAAkBA,CAAAA,CAAKqL,GAF/B/L;AAGH4B,QAAAA,KAAAA,EAAOlB,CAAAA,CAAKkB;AAHT5B,OADL,CAAA;AALJ;AC0BK;;AAAA,SAAA,EAAA,CAAiBwN,CAAjB,EAAuBpB,CAAvB,EAA8BjP,CAA9B,EAA8BA;AACpC,MAAA,CAAKqQ,CAAAA,CAAKlB,CAAV,EAAa;AACZ,QAAInP,CAAAA,YAAAA,EAAJ,EAA4B;AAC3B,UAAA,CAAIA,CAAAA,CAAMmP,CAAV,EAOC,OAAA,MADAnP,CAAAA,CAAM0P,CAAN1P,GAAUqP,EAAAA,CAAQyB,IAARzB,CAAa,IAAbA,EAAmBgB,CAAnBhB,EAAyBJ,CAAzBI,CACV,CAAA;AANY,UAARJ,CAAQ,KACXA,CAAAA,GAAQjP,CAAAA,CAAMmP,CADH,GAGZnP,CAAAA,GAAQA,CAAAA,CAAMsP,CAHF;AASd;;AAAA,QAAItP,CAAAA,IAASA,CAAAA,CAAMoC,IAAnB,EAEC,OAAA,KADApC,CAAAA,CAAMoC,IAANpC,CAAWqP,EAAAA,CAAQyB,IAARzB,CAAa,IAAbA,EAAmBgB,CAAnBhB,EAAyBJ,CAAzBI,CAAXrP,EAA4CqP,EAAAA,CAAQyB,IAARzB,CAAa,IAAbA,EAAmBgB,CAAnBhB,EAAyB,CAAzBA,CAA5CrP,CACA;AAEDqQ,IAAAA,CAAAA,CAAKlB,CAALkB,GAASpB,CAAToB,EACAA,CAAAA,CAAKf,CAALe,GAASrQ,CADTqQ;AAEA,QAAMa,CAAAA,GAAWb,CAAAA,CAAKX,CAAtB;AACIwB,IAAAA,CAAAA,IACHA,CAAAA,CAASb,CAATa,CADGA;AACMb;AAAAA;;AAAAA,IA6MGnD,EAAAA,GAAAA,UAAqBpB,CAArBoB,EAA0BC,CAA1BD,EAA0BC;AAAAA,MAAAA;AAWvC,WAVAjJ,OAAAA,CAAQiH,IAARjH,CAAQiH,8PAARjH,EAQE,yCARFA,GAQE,OAAA,CAAA,OAAA,CAEK0P,EAAAA,CAAO9H,CAAP8H,EAAYzG,CAAZyG,CAFL,CAEF;AAAmBzG,GAXoBA,CAWpBA,OAAAA,CAAAA,EAAAA;AAAAA,WAAAA,OAAAA,CAAAA,MAAAA,CAAAA,CAAAA,CAAAA;AAAAA;AAAAA,CAxNTkD;AAAAA,IAmLGkD,EAAAA,GAAAA,UAAgBzH,CAAhByH,EAAgBzH;AAAAA,MAAAA;AAAK,WAClCwF,EAAAA,IAAAA,OAAAA,CAAAA,OAAAA,CACmBI,EAAAA,EADnBJ,EACmBI,IADnBJ,CACmBI,UAAbnB,CAAamB,EAAbnB;AACN,UAAMiD,CAAAA,GAAiBxN,CAAAA,CAAcuK,CAAAA,CAAKnL,QAAnBY,EAA6B,gBAA7BA,CAAvB;AAHkC,aAKlC1D,CAAAA,CACEkR,CADFlR,EAEE,sDAFFA,CAAAA,EAEE,EAAA,CAAA,YAAA;AAAA,eAAA,OAAA,CAAA,OAAA,CAIuBiK,EAAAA,CAAY;AACjCxJ,UAAAA,OAAAA,EAASyQ,CADwB;AAEjC1H,UAAAA,GAAAA,EAAKwH,EAAAA,CAAaxH,CAAbwH;AAF4B,SAAZ/G,CAJvB,EAMoBT,IANpB,CAMoBA,UAFd+F,CAEc/F,EAFd+F;AAAAA,iBAIFxE,KAAAA,CAAMC,OAAND,CAAcwE,CAAdxE,IACKwE,CAAAA,CAAS9R,GAAT8R,CAAa,UAAA,CAAA,EAAA;AAAA,mBAAYnD,EAAAA,CAA4BvB,CAA5BuB,CAAZ;AAAwCvB,WAArD0E,CADLxE,GAGK,CAACqB,EAAAA,CAA4BmD,CAA5BnD,CAAD,CAPHmD;AAOgCA,SAXtC,CAAA;AAWsCA,OAXtC,EAWsCA,UAE/B5N,CAF+B4N,EAE/B5N;AACP,eAAOA,CAAP;AAAOA,OAdP,CAPgC;AAqBzBA,KApBTqN,CADkC;AAqBzBrN,GArBoB6H,CAqBpB7H,OAAAA,CAAAA,EAAAA;AAAAA,WAAAA,OAAAA,CAAAA,MAAAA,CAAAA,CAAAA,CAAAA;AAAAA;AAAAA,CAxMCoM;AAAAA,IAsGG6B,EAAAA,GAAAA,UAAcpE,CAAdoE,EAAcpE;AAAAA,MAAAA;AAAS,WACpCwD,EAAAA,IAAAA,OAAAA,CAAAA,OAAAA,CACmBI,EAAAA,EADnBJ,EACmBI,IADnBJ,CACmBI,UAAbnB,CAAamB,EAAbnB;AACN,UAAM5M,CAAAA,GAAQqC,CAAAA,CAAcuK,CAAAA,CAAKnL,QAAnBY,EAA6B,OAA7BA,CAAd;AAAA,UAEM4M,CAAAA,GAAW5M,CAAAA,CAAcuK,CAAAA,CAAKnL,QAAnBY,EAA6B,WAA7BA,CAFjB;AAHoC,aAAA,CAAA,CAAA,EAAA,EAQ7B8H,CAR6B,EAMhC8E,CAAAA,GAAAA;AAGAJ,QAAAA,MAAAA,EAAQ,cAHRI;AAIMpG,QAAAA,OAAAA,EAAAA,UAAQsB,CAARtB,EAAiBqG,CAAjBrG,EAAiBqG;AAAAA,cAAAA;AAAAA,mBAAAA,OAAAA,CAAAA,OAAAA,CAEbtG,EAAAA,CAAY;AAACxJ,cAAAA,OAAAA,EAAS6P,CAAV;AAAoB9G,cAAAA,GAAAA,EAAK+G;AAAzB,aAAZtG,CAFasG,EAEwBA,IAFxBA,CACdV,EADcU,CAAAA;AAVS,WAUTA,CAVS,OAAA,CAAA,EAAA;AAAA,mBAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA;AAMhCD,OAAAA,GANgC;AAoBlCJ,QAAAA,MAAAA,EAAQ,cApB0B;AAqBlChG,QAAAA,OAAAA,EAAS,IArByB;AAsBlChI,QAAAA,IAAAA,EAAMmK,CAAAA,CAAWhL,CAAAA,CAAMU,QAANV,CAAeW,OAA1BqK,CAtB4B;AAuBlClK,QAAAA,KAAAA,EAAOd,CAAAA,CAAMU,QAANV,CAAec,KAvBY;AAwBlCqO,QAAAA,WAAAA,EAAa,IAxBqB;AAyBlCjF,QAAAA,SAAAA,EAAW,IAzBuB;AA0B5B6E,QAAAA,eAAAA,EAAAA,UAAgBlI,CAAhBkI,EAAgBlI;AAAAA,cAAAA;AAAAA,mBAAAA,OAAAA,CAAAA,OAAAA,CAEZ+B,EAAAA,CAAY;AAChBxJ,cAAAA,OAAAA,EAASY,CADO;AAEhBmI,cAAAA,GAAAA,EAAKtB,CAFW;AAGhB3I,cAAAA,IAAAA,EAAM;AACJ6K,gBAAAA,uBAAAA,EAAAA,CAAyB;AADrB;AAHU,aAAZH,CAFY/B,EAMW,IANXA,CACbkE,EADalE,CAAAA;AA1BY,WA0BZA,CA1BY,OAAA,CAAA,EAAA;AAAA,mBAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA;AAAA,OAAA,CAAA;AAAA,KACpC8G,CADoC;AAAA,GAATxD,CAAS,OAAA,CAAA,EAAA;AAAA,WAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA,CAtG1BuC;AAAAA,IAsG0B,EAAA,GAjKH,YAAA;AAClC,WAAA,CAAA,GAAA,CAiCA;;AAAA,SAhCAxB,CAAAA,CAAMC,SAAND,CAAgBzM,IAAhByM,GAAuB,UAASE,CAAT,EAAsBC,CAAtB,EAAsBA;AAC5C,QAAMjC,CAAAA,GAAS,IAAA,CAAA,EAAf;AAAA,QACMkC,CAAAA,GAAQC,KAAKC,CADnB;;AAEA,QAAIF,CAAJ,EAAW;AACV,UAAMG,CAAAA,GAAmB,IAARH,CAAQ,GAAIF,CAAJ,GAAkBC,CAA3C;;AACA,UAAII,CAAJ,EAAc;AACb,YAAA;AACCC,UAAAA,EAAAA,CAAQtC,CAARsC,EAAgB,CAAhBA,EAAmBD,CAAAA,CAASF,KAAKI,CAAdF,CAAnBC,CAAAA;AACC,SAFF,CAEE,OAAOvE,CAAP,EAAOA;AACRuE,UAAAA,EAAAA,CAAQtC,CAARsC,EAAgB,CAAhBA,EAAmBvE,CAAnBuE,CAAAA;AAED;;AAAA,eAAOtC,CAAP;AAEA;;AAAA,aAAA,IAAA;AAiBF;;AAAA,WAdAmC,KAAKQ,CAALR,GAAS,UAASS,CAAT,EAASA;AACjB,UAAA;AACC,YAAM3P,CAAAA,GAAQ2P,CAAAA,CAAML,CAApB;AACc,YAAVK,CAAAA,CAAMR,CAAI,GACbE,EAAAA,CAAQtC,CAARsC,EAAgB,CAAhBA,EAAmBN,CAAAA,GAAcA,CAAAA,CAAY/O,CAAZ+O,CAAdA,GAAmC/O,CAAtDqP,CADa,GAEHL,CAAAA,GACVK,EAAAA,CAAQtC,CAARsC,EAAgB,CAAhBA,EAAmBL,CAAAA,CAAWhP,CAAXgP,CAAnBK,CADUL,GAGVK,EAAAA,CAAQtC,CAARsC,EAAgB,CAAhBA,EAAmBrP,CAAnBqP,CALa;AAOb,OATF,CASE,OAAOvE,CAAP,EAAOA;AACRuE,QAAAA,EAAAA,CAAQtC,CAARsC,EAAgB,CAAhBA,EAAmBvE,CAAnBuE,CAAAA;AAAmBvE;AAAAA,KAXrBoE,EAcOnC,CAAP;AAAOA,GA9BR8B,EA8BQ9B,CAER;AAlCkC,CAAA,EA2DvBsD;;AAKL,SAASe,EAAT,CAAwBC,CAAxB,EAAwBA;AAC9B,SAAOA,CAAAA,YAAoBxC,EAApBwC,IAA0C,IAAbA,CAAAA,CAASlC,CAA7C;AAA6CA;;AAAAA,IAc/BuC,EAAAA,GAAAA,YAAAA;AAAAA,MAAAA;AACb,WAAA,OAAA,CAAA,OAAA,CAAO,IAAI7J,OAAJ,CAAIA,UAAe2E,CAAf3E,EAAwB4E,CAAxB5E,EAAwB4E;AAAAA,UAAAA;AAAW,eAC5C6E,EAAAA,IAAAA,OAAAA,CAAAA,OAAAA,CACmBK,EAAAA,EADnBL,EACmBK,IADnBL,CACmBK,UAAbpB,CAAaoB,EAAbpB;AAAAA,iBACFA,CAAAA,CAAK1K,QAAL0K,IAAiBE,EAAAA,CAAWF,CAAXE,CAAjBF,GAA0C/D,CAAAA,CAAQ+D,CAAR/D,CAA1C+D,GAAkDA,OAAAA,CAAAA,OAAAA,CAExB1Q,CAAAA,CAAOyQ,KAAPzQ,CAAa,CACzC,kBADyC,EAEzC,qBAFyC,CAAbA,CAFwB0Q,EAIpD,IAJoDA,CAIpD,UAFIqB,CAEJ,EAFIA;AAKN,gBAAA;AACE,kBAAuB,QAAnBA,CAAJ,EAIE,MAHA1N,OAAAA,CAAQiH,IAARjH,CAAQiH,kKAARjH,GAAQiH,IAGErG,KAHFqG,CAGErG,yDAHFqG,CAGR;AAIF,aATF,CASE,OAAOlH,CAAP,EAAOA;AACPC,cAAAA,OAAAA,CAAQD,KAARC,CAAcD,CAAdC;AApB0C;;AAAA,mBAAA,OAAA,CAAA,OAAA,CAuBvBrE,CAAAA,CAAOyQ,KAAPzQ,CACnB,CAAC,yBAAD,EAA4B,iCAA5B,CADmBA,EAEnB,YAFmBA,CAvBuB,EAyB1C,IAzB0C,CAyB1C,UAFIwD,CAEJ,EAFIA;AAAAA,kBAAAA,CAAAA,GAudH,UAA0BqD,CAA1B,EAAgCwN,CAAhC,EAAgCA;AACtC,oBAAA;AACC,sBAAInH,CAAAA,GAAAA,EAAAA,CAAAA,YAAAA;AAAAA,2BAAAA,OAAAA,CAAAA,OAAAA,CAnduBR,EAAAA,CAAY;AACjCxJ,sBAAAA,OAAAA,EAAS;AACPE,wBAAAA,QAAAA,EAAU2O,CADH;AAEPvO,wBAAAA,MAAAA,EAAQA;AAFD;AADwB,qBAAZkJ,CAmdvBQ,EAhdY1J,IAgdZ0J,CAhdY1J,UAHNwO,CAGMxO,EAHNwO;AAAAA,6BAAAA,OAAAA,CAAAA,OAAAA,CAAAA,UpBpFoB1O,CoBoFpB0O,EpBpFoB1O;AAAAA,4BAAAA;AAAM,8BAAA,CAAA,GAAA,CACpCA,CAAAA,GAXF,UAAuBA,CAAvB,EAAuBA;AAGrB,mCAFAA,CAAAA,CAAKqB,IAALrB,GAAYA,CAAAA,CAAKqB,IAALrB,GAAYoB,CAAAA,CAAWpB,CAAAA,CAAKqB,IAAhBD,CAAZpB,GAAoC,IAAhDA,EACAA,CAAAA,CAAKgC,KAALhC,GAAaA,CAAAA,CAAKgC,KAALhC,GAAaoB,CAAAA,CAAWpB,CAAAA,CAAKgC,KAAhBZ,CAAbpB,GAAsC,IADnDA,EAEOA,CAAP;AAQOmC,2BAXT,CAWuBnC,CAXvB,CAUsC,EAI7BiC,QAJ6B,IAIjB,EAJiB;;AAIjB,iCAAA,OAAA,CAAA,OAAA,CAAA,UqB9Be+O,CrB8Bf,EqB9B4B1O,CrB8B5B,EqB9B4BA;AAAAA,gCAAAA;AAC/C,kCAAmB,QAAf0O,CAAe,IAAgB,QAAR1O,CAA3B,EAAyC,OAAA,OAAA,CAAA,OAAA,CAAO,EAAP,CAAA;AAEzC,kCAAMS,CAAAA,GAAM,IAAIC,GAAJ,CAAQgO,CAAR,CAAZ;AAHqD,qCAIrDjO,CAAAA,CAAIE,YAAJF,CAAiBG,MAAjBH,CAAwB,MAAxBA,EAAgCT,CAAhCS,GAAgCT,OAAAA,CAAAA,OAAAA,CAEbmB,KAAAA,CAAMV,CAANU,EAAW;AAC5BvD,gCAAAA,MAAAA,EAAQ,KADoB;AAE5BwD,gCAAAA,OAAAA,EAAS;AACPC,kDAAgB;AADT;AAFmB,+BAAXF,CAAAA,CAKhBxE,IALgBwE,CAKX,UAAA,CAAA,EAAA;AAAA,uCAAK5F,CAAAA,CAAE+F,IAAF/F,EAAL;AAAO+F,+BALIH,CAFanB,EAOjBsB,IAPiBtB,CAOjBsB,UALTxD,CAKSwD,EALTxD;AAON,oCAAI8J,KAAAA,CAAMC,OAAND,CAAc9J,CAAd8J,CAAJ,EAAyB,OAAO9J,CAAP;AAGzB,oCAAM6B,CAAAA,GAAW,EAAjB;AAGA,oCAAIiI,KAAAA,CAAMC,OAAND,CAAc9J,CAAAA,CAAK6Q,cAAnB/G,CAAJ,EACE,KAAA,IAAA,CAAA,EAAA,CAAA,GAAA,CAAA,CAAoB9J,CAAAA,CAAK6Q,cAAzB,CAAA,EAAyBA,CAAAA,CAAAA,CAAAA,GAAAA,CAAAA,EAAAA,EAAAA,IAAzB,GACEhP,CAAAA,CAAS2I,IAAT3I,CAAS2I,CAAAA,CAAAA;AACP9M,kCAAAA,IAAAA,EAAM,OADC8M;AAEPtJ,kCAAAA,KAAAA,EAAOlB,CAAAA,CAAKkB;AAFLsJ,iCAAAA,EAEKtJ,CAAAA,CAAAA,KAFLsJ,CAAT3I;AAiBJ,uCARqB,QAAjB7B,CAAAA,CAAKoB,QAAY,IACnBS,CAAAA,CAAS2I,IAAT3I,CAAS2I,CAAAA,CAAAA;AACP9M,kCAAAA,IAAAA,EAAM,OADC8M;AAEP3J,kCAAAA,EAAAA,EAAI;AAFG2J,iCAAAA,EAGJxK,CAAAA,CAAKoB,QAHDoJ,CAAT3I,CADmB,EAQdA,CAAP;AAAOA,+BAlCyBK,CAJqB;AAAvD,6BAAiDA,CAAjD,OAAA,CAAA,EAAA;AAAA,qCAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;ArB+BUF,2BADW,CACGpC,CAAAA,CAAKqC,GADR,EACarC,CAAAA,CAAKsC,IADlB,CAAA,EACkBA,IADlB,CACkBA,UAAAA,CAAAA,EAAAA;AAFrC,gCsB3B4B4O,CtB2B5B;AAAA,gCsB3BsCC,CtB2BtC;AAAA,gCAAIlP,CAAAA,GAAAA,CsB3BwBiP,CAAAA,GAAAA,CAAAA,EAAUC,CAAAA,GAAAA,CAAVD,EAAUC,KAAAA,CAAAA,KAAVD,CAAUC,KAAVD,CAAAA,GAAM,EAAIC,CAAVD,EAAM,KAAA,CAAA,KAAIC,CAAJ,KAAIA,CAAAA,GAAM,EAAV,CAAND,EAAgB,GAAA,MAAA,CAEjCA,CAFiC,EAEzBC,CAFyB,CtB2BxClP,EAGFrF,GAHEqF,CAGE,UAAA,CAAA,EAAA;AAAA,qCAAA,UNRyBrC,CMQzB,ENRkCI,CMQlC,ENRkCA;AACxC,oCAAA;AAEE,yCADiBK,CAAAA,CAAmBT,CAAAA,CAAQ9B,IAA3BuC,CAAAA,CAAiCT,CAAjCS,EAA0CL,CAA1CK,CACjB;AACA,iCAHF,CAGE,OAAOS,CAAP,EAAOA;AAMP,yCALAC,OAAAA,CAAQD,KAARC,CAAQD,oCAC4BlB,CAAAA,CAAQ9B,IADpCgD,GACoChD,GAD5CiD,EAEEnB,CAFFmB,EAGED,CAHFC,GAKOnB,CAAP;AAAOA;AMFQ2C,+BAAX,CAA4B3C,CAA5B,EAAqCI,CAArC,CAAA;AAAqCA,6BAHvCiC,CAAJ;AAAA,gCAKMxB,CAAAA,GAZR,UAAqB3C,CAArB,EAA2BmE,CAA3B,EAA2BA;AACzB,qCAAOA,CAAAA,CAASC,IAATD,CAAc,UAAA,CAAA,EAAA;AAAA,uCAWK,YAXApE,CAAAA,CAAEC,IAAP;AAAOA,+BAArBmE,CAAP;AAWcO,6BAZhB,CAY4B,CAZ5B,EAYqCP,CAZrC,CAOE;;AAOA,mCAAA,CAAA,CAAA,EAAA,EACKzC,CADL,EACKA;AACH6B,8BAAAA,IAAAA,EAAMD,CAAAA,CAAWpB,CAAAA,CAAKqB,IAAhBD,CADH5B;AAEHiD,8BAAAA,GAAAA,EAAKb,CAAAA,CAAkBnB,CAAlBmB,CAFFpC;AAGHkD,8BAAAA,QAAAA,EAAAA,CAAU,CAHPlD;AAIHyC,8BAAAA,QAAAA,EAAUA,CAJPzC;AAKHmD,8BAAAA,SAAAA,EAAW3C,CAAAA,CAAK4C;AALbpD,6BADL,CAAA;AAMkBoD,2BAZC,CAAA;AAJrB,yBAAgC5C,CAAhC,OAAA,CAAA,EAAA;AAAA,iCAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AoB0FyC2O,uBAN7BD,CAMuCA,CANvCA,CAAAA,EAMuCA,IANvCA,CAMuCA,UAAAA,CAAAA,EAAAA;AAA7C9P,wBAAAA,CAAAA,CAAKgO,EAALhO,EAAWyN,EAAXzN,EAAWyN,CAAXzN,CAAAA;AAAWyN,uBANLqC,CAAAA;AAMKrC,qBA6cXzC,CAAAA;AA7cWyC,mBA6cXzC,EA7cWyC,UACJ1E,CADI0E,EACJ1E;AACP5G,oBAAAA,OAAAA,CAAQD,KAARC,CAAc,4BAAdA,EAA4C4G,CAA5C5G;AAA4C4G,mBA2c5CiC,CAAJ;AACC,iBAFF,CAEE,OAAOjC,CAAP,EAAOA;AACR,yBAAOoJ,CAAAA,CAAAA,CAAU,CAAVA,EAAgBpJ,CAAhBoJ,CAAP;AAED;;AAAA,uBAAInH,CAAAA,IAAUA,CAAAA,CAAO3K,IAAjB2K,GACIA,CAAAA,CAAO3K,IAAP2K,CAAYmH,CAAAA,CAAUpD,IAAVoD,CAAe,IAAfA,EAAe,CAAM,CAArBA,CAAZnH,EAAyCmH,CAAAA,CAAUpD,IAAVoD,CAAe,IAAfA,EAAe,CAAM,CAArBA,CAAzCnH,CADJA,GAGGmH,CAAAA,CAAAA,CAAU,CAAVA,EAAiBnH,CAAjBmH,CAHP;AAGwBnH,eATlB,CASkBA,CATlB,EASkBA,UAAAA,CAAAA,EAAAA,CAAAA,EAAAA;AAAAA,uBAAAA,OAAAA,CAAAA,OAAAA,CAhdL4E,EAAAA,EAgdK5E,EAhdL4E,IAgdK5E,CAhdL4E,UAAAA,CAAAA,EAAAA;AAvC4B,sBAuC1CnF,CAAAA,CAAAA,CAAAA,CAAAA,EAAAA,CAvC0C,EAuC1CA,MAAAA,CAAAA;AAAAA,yBAAAA,CAAAA;AAAAA,iBAgdmBO,CAAAA;AAhdnBP,eAucC,CAvdGnJ;;AAgBJmJ,kBAAAA,CAAAA,IAAAA,CAAAA,CAAAA,IAAAA,EAAAA,OAAAA,CAAAA,CAAAA,IAAAA,CAAAA,YAAAA,CAAAA,CAAAA,CAAAA;AAAAA,aAvC0C,CAAA;AAuC1CA,WApCoD+D,CADhDA;AAqCJ/D,SAtCF8E,CAD4C;AAAvC,OAA4B7E,CAA5B,OAAA,CAAA,EAAA;AAAA,eAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA,KAAA,CAAP,CAAA;AAAO,GADMiF,CACN,OAAA,CAAA,EAAA;AAAA,WAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA,CAfqCvC;;AAgfvC,SAAS8E,EAAT,CAAgBvN,CAAhB,EAAsBsG,CAAtB,EAAsBA;AAC5B,MAAA;AACC,QAAID,CAAAA,GAASrG,CAAAA,EAAb;AACC,GAFF,CAEE,OAAMoE,CAAN,EAAMA;AACP,WAAOkC,CAAAA,CAAQlC,CAARkC,CAAP;AAED;;AAAA,SAAID,CAAAA,IAAUA,CAAAA,CAAO3K,IAAjB2K,GACIA,CAAAA,CAAO3K,IAAP2K,CAAO3K,KAAK,CAAZ2K,EAAoBC,CAApBD,CADJA,GAGGA,CAHP;AA7iBD;;AAAA,IAAM,EAAA,GAAOjC,cAAb;AAAA,IACMyE,EAAAA,GAAU,sBADhB;AAAA,IAGMC,EAAAA,GAAmB,kBAHzB;AAAA,IAMMC,EAAAA,GAAAA,yIANN;AAAA,IA0BMQ,EAAAA,IAAAA,CAAAA,EAAAA,GAAAA,EAAAA,EACHC,CADGD,IACHC,UAAaC,CAAbD,EAAaC;AAAAA,MAAAA;AAAO,WACnBA,CAAAA,CAAIC,KAAJD,CAAU9P,IAAAA,CAAKC,KAALD,CAAWoP,EAAXpP,CAAV8P,GAAqBV,OAAAA,CAAAA,OAAAA,CACC5P,CAAAA,CAAOyQ,KAAPzQ,CAAa,CAAC,aAAD,EAAgB,qBAAhB,CAAbA,CADD4P,EAC8B,IAD9BA,CAC8B,UAA7CG,CAA6C,EAA7CA;AAAAA,UAAAA,CAAAA,GAAAA,YAAAA;AAAAA,YACFA,CAAAA,CAAQ1P,GADN0P,EACM1P,OAAAA,OAAAA,CAAAA,OAAAA,CAAAA,UAdY0P,CAcZ1P,EAdY0P;AAAAA,cAAAA;AAC1B,gBAAMC,CAAAA,GAAWxP,IAAAA,CAAKC,KAALD,CAAWoP,EAAXpP,CAAjB;AADqC,mBAAA,OAAA,CAAA,OAAA,CAEhBuP,CAAAA,CAAQzP,GAARyP,CAAYG,EAAZH,CAFgB,EAEJG,IAFI,CAEJA,UAA3BD,CAA2BC,EAA3BD;AACN,qBAAc,QAAVA,CAAU,IAAQD,CAAAA,CAAQ,KAARA,KAAsBC,CAAAA,CAAM,KAApC,IACZF,CAAAA,CAAQI,UAARJ,CAAmBG,EAAnBH,GACOC,CAFK,IAIPC,CAAAA,IAAUD,CAJjB;AAIiBA,aAPoB,CAAA;AAApB,WAASD,CAAT,OAAA,CAAA,EAAA;AAAA,mBAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAeMY,SADTtQ,CACuB0P,CADvB1P,CAAAA,EACuB0P,IADvB1P,CACuB0P,UAA3BW,CAA2BX,EAA3BW;AACFE,UAAAA,EAAAA,CAAWF,CAAXE,CAAAA,IAAkBN,CAAAA,CAAIC,KAAJD,CAAUI,CAAVJ,CAAlBM;AAA4BF,SAFtBrQ,CAAAA;AAEsBqQ,OAH5BX,EAAAA;;AAG4BW,UAAAA,CAAAA,IAAAA,CAAAA,CAAAA,IAAAA,EAAAA,OAAAA,CAAAA,CAAAA,IAAAA,CAAAA,YAAAA,CAAAA,CAAAA,CAAAA;AAAAA,KAJbd,CADF;AADT,GACEU,CADF,OAAA,CAAA,EAAA;AAAA,WAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA,CAARF,EAAQ,EAAA,CASXS,CATW,CAAA,GASC,UAACP,CAAD,EAAMQ,CAAN,EAAMA;AACjBR,EAAAA,CAAAA,CAAIS,SAAJT,CAAcQ,CAAAA,CAAOE,IAArBV,GACAnQ,CAAAA,CAAI+B,IAAJ/B,CAAS2Q,CAAAA,CAAOE,IAAhB7Q,EAAsBuP,EAAtBvP,EAAsBuP,CAAAA,CAAAA,EAAAA,EAAaN,CAAAA,CAAItB,GAAJsB,EAAbM,CAAtBvP,CADAmQ;AACuCxC,CAXrCsC,EAWqCtC,EAAAA,CAExCoD,CAFwCpD,CAAAA,GAE1B,UAACwC,CAAD,EAAMQ,CAAN,EAAMA;AACnBR,EAAAA,CAAAA,CAAIa,WAAJb,CAAgBQ,CAAAA,CAAOE,IAAvBV;AAAuBU,CAdrBZ,EAcqBY,EAAAA,CAdb,QAcaA,GAdb,UAgBOV,CAhBP,EAgBYQ,CAhBZ,EAgBYA;AAAAA,MAAAA;AAAW,WACjCA,CAAAA,CAAOM,KAAPN,CAAOM,CAAAA,CAAAA,EAAAA,EAAUd,CAAAA,CAAIxC,GAAJwC,EAAVc,CAAPN,GAAqBhD,OAAAA,CAAAA,OAAAA,EADY;AAhBvB,GAgBYgD,CAhBZ,OAAA,CAAA,EAAA;AAAA,WAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA,CAARV,EAAQ,EAAA,CAmBXT,EAnBW,CAAA,GAmBXA,UAA0BW,CAA1BX,EAA+BmB,CAA/BnB,EAAuCrM,CAAvCqM,EAAuCrM;AAAAA,MAAAA;AAAS,WAC/CgN,CAAAA,CAAIC,KAAJD,CAAUhN,CAAVgN,GAAUhN,OAAAA,CAAAA,OAAAA,CACYtD,CAAAA,CAAOyQ,KAAPzQ,CAAa,CAAC,aAAD,EAAgB,qBAAhB,CAAbA,CADZsD,EACyC,IADzCA,CACyC,UAA7CyM,CAA6C,EAA7CA;AACFA,MAAAA,CAAAA,CAAQ1P,GAAR0P,IAAaA,CAAAA,CAAQnP,GAARmP,CAAYG,EAAZH,EAAkBO,CAAAA,CAAIxC,GAAJwC,EAAlBP,CAAbA,EACJO,CAAAA,CAAIgB,SAAJhB,CAAcZ,EAAdY,EAAcZ,CAAAA,CAAAA,EAAAA,EAAaY,CAAAA,CAAIxC,GAAJwC,EAAbZ,CAAdY,CADIP;AAC2BjC,KAHrBxK,CADqC;AAnBrC,GAmB4BA,CAnB5B,OAAA,CAAA,EAAA;AAAA,WAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA,CAAR8M,EAAQ,EAAA,CAAA,gBAAA,GAAA,UAyBeE,CAzBf,EAyBoBQ,CAzBpB,EAyBoBA;AAAAA,MAAAA;AAAW,WACzCR,CAAAA,CAAIC,KAAJD,CAAU9P,IAAAA,CAAKC,KAALD,CAAWoP,EAAXpP,CAAV8P,GAAqBV,OAAAA,CAAAA,OAAAA,CACC5P,CAAAA,CAAOyQ,KAAPzQ,CAAa,CAAC,aAAD,EAAgB,qBAAhB,CAAbA,CADD4P,EAC8B,IAD9BA,CAC8B,UAA7CG,CAA6C,EAA7CA;AACFA,MAAAA,CAAAA,CAAQwB,GAARxB,IAAaA,CAAAA,CAAQnP,GAARmP,CAAYG,EAAZH,EAAkBO,CAAAA,CAAIxC,GAAJwC,EAAlBP,CAAbA,EACJO,CAAAA,CAAIkB,SAAJlB,CAAcZ,EAAdY,EAAcZ,CAAAA,CAAAA,EAAAA,EAAaY,CAAAA,CAAIxC,GAAJwC,EAAbZ,CAAdY,CADIP;AAC2BjC,KAHV8B,CADoB;AAzB/B,GAyBoBkB,CAzBpB,OAAA,CAAA,EAAA;AAAA,WAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA,CAARV,EAAQ,EAARA,CA1BN;AAAA,IA2DMqB,EAAAA,GAAmB,YAAA;AAAA,SAAMC,CAAAA,CAAMtB,EAANsB,EAAgBxB,EAAhBwB,CAAN;AAAsBxB,CA3D/C;;AA6DA,SAASU,EAAT,CAAoBF,CAApB,EAAoBA;AAClB,SACoB,QAAlBA,CAAAA,CAAKzK,SAAa,IACC,MAAnByK,CAAAA,CAAKzK,SADa,IAElByK,CAAAA,CAAKzK,SAALyK,GAAiBiB,IAAAA,CAAKC,GAALD,EAHnB;AAoDF;;AAAA,SAASO,EAAT,GAASA;AACPT,EAAAA,EAAAA,IACAvP,CAAAA,CAAKgO,EAALhO,EAhHuB,kBAgHvBA,CADAuP;AAYF;;AAAA,SAASa,EAAT,CAAyBxO,CAAzB,EAAyBA;AACvB,MAAMJ,CAAAA,GAT0B,UAAA,CAAA,EAAA;AAAA,WAAU;AAC1Cf,MAAAA,MAAAA,EAAQ,kBADkC;AAE1CC,MAAAA,KAAAA,EAAO,OAFmC;AAG1CuP,MAAAA,QAAAA,EAAAA,CAAWrO,CAAAA,IAAS,EAApBqO,EAAwBA,QAHkB;AAI1CC,MAAAA,KAAAA,EAAAA,CAAQtO,CAAAA,IAAS,EAAjBsO,EAAqBA,KAArBA,IAA8B,EAJY;AAK1CC,MAAAA,aAAAA,EAAAA,CAAgBvO,CAAAA,IAAS,EAAzBuO,EAA6BA,aAA7BA,IAA8C;AALJ,KAAV;AASnBE,GATmB,CASOzO,CATP,CAShC;AAAA,MACM0O,CAAAA,GAAM,EADZ;;AAGqB,UAAjB9O,CAAAA,CAAKyO,QAAY,IAAMK,CAAAA,CAAItE,IAAJsE,CAAS,CAAC,UAAD,EAAa9O,CAAAA,CAAKyO,QAAlB,CAATK,CAAN;;AACrB,OAAA,IAAA,CAAA,EAAA,CAAA,GAAA,CAAA,CAAe9O,CAAAA,CAAK0O,KAAL1O,IAAc,EAA7B,CAAA,EAA6B,CAAA,CAAA,CAAA,GAAA,CAAA,EAAA,EAAA,IAA7B,GAAiC8O,CAAAA,CAAItE,IAAJsE,CAAS,CAAC,OAAD,EAAC,CAAA,CAAA,KAAD,CAATA;;AACjC,OAAA,IAAA,CAAA,EAAA,CAAA,GAAA,CAAA,CAAe9O,CAAAA,CAAK2O,aAAL3O,IAAsB,EAArC,CAAA,EAAqC,CAAA,CAAA,CAAA,GAAA,CAAA,EAAA,EAAA,IAArC,GAAyC8O,CAAAA,CAAItE,IAAJsE,CAAS,CAAC,YAAD,EAAC,CAAA,CAAA,KAAD,CAATA;;AAezC,SAbaA,CAAAA,CAAItS,GAAJsS,CAAQ,UAAA,CAAA,EAAA;AAAA,QAAEC,CAAAA,GAAAA,CAAAA,CAAAA,CAAAA,CAAF;AAAA,QAAQC,CAAAA,GAAAA,CAAAA,CAAAA,CAAAA,CAAR;AAAQA,WAAS;AACpCC,MAAAA,MAAAA,EAAQ,CAACD,CAAAA,CAAGlO,QAAHkO,CAAYjO,OAAb,EAAsBiO,CAAAA,CAAGlO,QAAHkO,CAAY9N,KAAlC,EAAyCgO,IAAzC,CAA8C,GAA9C,CAD4B;AAEpCjO,MAAAA,IAAAA,EAAM+N,CAAAA,CAAGlO,QAAHkO,CAAYjO,OAFkB;AAGpCG,MAAAA,KAAAA,EAAO8N,CAAAA,CAAGlO,QAAHkO,CAAY9N,KAHiB;AAIpCiO,MAAAA,eAAAA,EAAAA,UAAgBlI,CAAhBkI,EAAgBlI;AACd,eAAO+B,EAAAA,CAAY;AAACxJ,UAAAA,OAAAA,EAASwP,CAAV;AAAczG,UAAAA,GAAAA,EAAKtB;AAAnB,SAAZ+B,CAAP;AAAsC/B,OALJ;AAOpC8H,MAAAA,IAAAA,EAAM;AACJN,QAAAA,QAAAA,EAAmB,eAATM,CADN;AAEJL,QAAAA,KAAAA,EAAgB,YAATK,CAFH;AAGJK,QAAAA,UAAAA,EAAqB,iBAATL;AAHR;AAP8B,KAATC;AAUbD,GAVHD,CAab;AA2CF;;AAAA,SAASzB,EAAT,CAAmBxB,CAAnB,EAAmBA;AACjBkC,EAAAA,EAAAA;AACA,MAAMyB,CAAAA,GAAO,OAAb;AAAA,MACMC,CAAAA,GAAOzB,CAAAA,CAAAA,UAAYpB,CAAZoB,EAAYpB;AAAAA,QAAAA;AAAAA,UAAAA,CAAAA;AAAO,aAC9BA,CAAAA,CAAIpO,IAAJoO,CAASJ,EAATI,EAAeO,CAAfP,GAAeO,OAAAA,CAAAA,OAAAA,CAiDZ,UAActD,CAAd,EAAoBqG,CAApB,EAA4B/M,CAA5B,EAA4BA;AAElC,aADA,IAAIgN,CACJ,IAAS;AACR,cAAIC,CAAAA,GAAiBvG,CAAAA,EAArB;AAIA,cAHIgE,EAAAA,CAAeuC,CAAfvC,CAAAA,KACHuC,CAAAA,GAAiBA,CAAAA,CAAerE,CAD7B8B,GAC6B9B,CAE5BqE,CAAL,EACC,OAAO5G,CAAP;;AAED,cAAI4G,CAAAA,CAAevR,IAAnB,EAAyB;AACxBsR,YAAAA,CAAAA,GAAQ,CAARA;AACA;AAED;;AAAA,cAAI3G,CAAAA,GAASrG,CAAAA,EAAb;;AACA,cAAIqG,CAAAA,IAAUA,CAAAA,CAAO3K,IAArB,EAA2B;AAC1B,gBAAA,CAAIgP,EAAAA,CAAerE,CAAfqE,CAAJ,EAEO;AACN,cAAA,CAAA,GAAQ,CAAR;AACA;AAHArE;;AAAAA,YAAAA,CAAAA,GAASA,CAAAA,CAAOoC,CAAhBpC;AAAgBoC;AAcnB;;AAAA,YAAIkB,CAAAA,GAAO,IAAIxB,EAAJ,EAAX;AAAA,YACIpC,CAAAA,GAAS4C,EAAAA,CAAQyB,IAARzB,CAAa,IAAbA,EAAmBgB,CAAnBhB,EAAyB,CAAzBA,CADb;AAGA,eAAA,CADW,MAAVqE,CAAU,GAAIC,CAAAA,CAAevR,IAAfuR,CAAoBI,CAApBJ,CAAJ,GAAsD,MAAVD,CAAU,GAAI3G,CAAAA,CAAO3K,IAAP2K,CAAYiH,CAAZjH,CAAJ,GAAgBiH,CAAAA,KAT3EF,CAS2EE,EAAgC5R,IAAhC4R,CAwCjF,YAAA;AAAA,WACKL,CAAAA,GAAiBvG,CAAAA,EADtB,IAEMuG,CAAAA,CAAevR,IAAfuR,GACHA,CAAAA,CAAevR,IAAfuR,CAAoBI,CAApBJ,EAAsCvR,IAAtCuR,CAAsCvR,KAAK,CAA3CuR,EAAmDlH,CAAnDkH,CADGA,GAGHI,CAAAA,CAAiBJ,CAAjBI,CALH,GAQE1E,EAAAA,CAAQgB,CAARhB,EAAc,CAAdA,EAAiBtC,CAAjBsC,CARF;AAQmBtC,SAhD8DiH,CACjF,EAD2I5R,IAC3I,CAD2IA,KAAK,CAChJ,EADwJqK,CACxJ,GAAO4D,CAAP;;AACA,iBAAS2D,CAAT,CAA0BhU,CAA1B,EAA0BA;AACzB+M,UAAAA,CAAAA,GAAS/M,CAAT+M;;AACA,aAAG;AASF,gBAAA,EADA4G,CAAAA,GAAiBvG,CAAAA,EACjB,KAAwBgE,EAAAA,CAAeuC,CAAfvC,CAAAA,IAAeuC,CAAoBA,CAAAA,CAAerE,CAA1E,EAEC,OAAA,KADAD,EAAAA,CAAQgB,CAARhB,EAAc,CAAdA,EAAiBtC,CAAjBsC,CACA;AAED,gBAAIsE,CAAAA,CAAevR,IAAnB,EAEC,OAAA,KADAuR,CAAAA,CAAevR,IAAfuR,CAAoBI,CAApBJ,EAAsCvR,IAAtCuR,CAAsCvR,KAAK,CAA3CuR,EAAmDlH,CAAnDkH,CACA;AAGGvC,YAAAA,EAAAA,CADJrE,CAAAA,GAASrG,CAAAA,EACL0K,CAAAA,KACHrE,CAAAA,GAASA,CAAAA,CAAOuC,CADb8B;AACa9B,WAnBlB,QAmBkBA,CAERvC,CAFQuC,IAERvC,CAAWA,CAAAA,CAAO3K,IArB5B;;AAsBA2K,UAAAA,CAAAA,CAAO3K,IAAP2K,CAAYiH,CAAZjH,EAA8B3K,IAA9B2K,CAA8B3K,KAAK,CAAnC2K,EAA2CN,CAA3CM;AAED;;AAAA,iBAASgH,CAAT,CAA0BJ,CAA1B,EAA0BA;AACrBA,UAAAA,CAAAA,GAAAA,CACH5G,CAAAA,GAASrG,CAAAA,EADNiN,KAEW5G,CAAAA,CAAO3K,IAFlBuR,GAGF5G,CAAAA,CAAO3K,IAAP2K,CAAYiH,CAAZjH,EAA8B3K,IAA9B2K,CAA8B3K,KAAK,CAAnC2K,EAA2CN,CAA3CM,CAHE4G,GAKFK,CAAAA,CAAiBjH,CAAjBiH,CALEL,GAQHtE,EAAAA,CAAQgB,CAARhB,EAAc,CAAdA,EAAiBtC,CAAjBsC,CARGsE;AAQc5G;AAAAA,OAtEb,CAsEaA,YAAAA;AAAAA,eAAAA,CAAAA,CAAAA,IAtHT,CAsHSA;AAtHT,OAgDJ,EAhDI,CAgDJ,EAhDI,YAAA;AAAA,eAAA,OAAA,CAAA,OAAA,CACgBoD,CAAAA,CAAI8C,OAAJ9C,EADhB,EACoB8C,IADpB,CACoBA,UAAnBtC,CAAmBsC,EAAnBtC;AACN,cAAIA,CAAAA,CAAOuC,GAAPvC,KAAeoC,CAAnB,EAAmBA,OACjB5C,CAAAA,CAAIpO,IAAJoO,CAASJ,EAATI,EAAeY,CAAfZ,GAAeY,MADQoC,CAAAA,GAAAA,CACRpC,CADEgC;AAInB3D,UAAAA,CAAAA,CAASuB,CAAAA,CAAOxN,IAAhBiM,CAAAA;AAAgBjM,SANX,CAAA;AAMWA,OA0Cf,CAjDYuN,CADe;AAAd,KAAOP,CAAP,OAAA,CAAA,EAAA;AAAA,aAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA,GAALoB,CADb;AAYA,SAAA,YAAA;AAAA,WAAaxP,CAAAA,CAAKiR,CAALjR,EAAWgR,CAAXhR,CAAb;AAAwBgR,GAAxB;AAGF;;AAAA,SAASpB,EAAT,GAASA;AAEP,SADAL,EAAAA,IACOvP,CAAAA,CAAKgO,EAALhO,EAhNQ,UAgNRA,EAAqB,IAArBA,EAA2B;AAACqR,IAAAA,WAAAA,EAAAA,CAAa,CAAd;AAAoBC,IAAAA,OAAAA,EAAS;AAA7B,GAA3BtR,CAAP;AAUF;;AAAA,IAAA,EAAA;AAAA,IAAMuR,EAAAA,GAAe,UAAA,CAAA,EAAA;AAGnB,SAFAhR,CAAAA,CAAU,eAAe8K,IAAf,CAAoBtB,CAApB,CAAVxJ,EAAoC,8BAApCA,CAAAA,EAEO;AACLuK,IAAAA,OAAAA,EAASf;AADJ,GAAP;AACWA,CAJb;AAAA,IAgDI+H,EAAAA,GAAc,YAAA;AAChB,SAAO;AACLnC,IAAAA,YAAAA,EAAAA,EADK;AAELK,IAAAA,cAAAA,EAAAA,EAFK;AAGLG,IAAAA,aAAAA,EAAAA,EAHK;AAILqB,IAAAA,eAAAA,EAAAA,EAJK;AAKLrG,IAAAA,oBAAAA,EAAAA,EALK;AAML0D,IAAAA,SAAAA,EAAAA,EANK;AAOLe,IAAAA,QAAAA,EAAAA;AAPK,GAAP;AAOEA,CAxDJ;;AA4DAkC,EAAAA,CAAYnC,YAAZmC,GAA2BnC,EAA3BmC,EACAA,EAAAA,CAAY9B,cAAZ8B,GAA6B9B,EAD7B8B,EAEAA,EAAAA,CAAY3B,aAAZ2B,GAA4B3B,EAF5B2B,EAGAA,EAAAA,CAAYN,eAAZM,GAA8BN,EAH9BM,EAIAA,EAAAA,CAAY3G,oBAAZ2G,GAAmC3G,EAJnC2G,EAKAA,EAAAA,CAAYjD,SAAZiD,GAAwBjD,EALxBiD,EAMAA,EAAAA,CAAYlC,QAAZkC,GAAuBlC,EANvBkC;;AGrRA,IAGMU,EAAAA,GAAAA,UAAsBC,CAAtBD,EAAsBC;AAAAA,MAAAA;AAC1B,WAAA,OAAA,CAAA,OAAA,CAAOC,CAAAA,CAAQ,CAACC,CAAAA,CAAqBF,CAArBE,CAAD,CAARD,CAAAA,CAA+CrS,IAA/CqS,CAAoDpS,CAApDoS,CAAP,CAAA;AADiB,GAASD,CAAT,OAAA,CAAA,EAAA;AAAA,WAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA,CAHnB;AAAA,IAQMI,EAAAA,GAAW,UAAA,CAAA,EAAA;AAAA,SAAMD,CAAAA,CAAG1N,MAAH0N,IAAa,CAAnB;AAAmB,CARpC;AAAA,IASME,EAAAA,GAAa,UAAA,CAAA,EAAA;AAAA,SAAMF,CAAAA,CAAG1N,MAAH0N,IAAa,CAAnB;AAAmB,CATtC;AAAA,IAUMG,EAAAA,GAAc,UAAA,CAAA,EAAA;AAAA,SAAMH,CAAAA,CAAG1N,MAAH0N,IAAa,CAAnB;AAAmB,CAVvC;AAAA,IAkBM1E,EAAAA,IAAAA,CAAAA,EAAAA,GAAAA,EAAAA,EACHC,CADGD,IACHC,UAAaC,CAAbD,EAAaC;AAAAA,MAAAA;AAAAA,WAAAA,OAAAA,CAAAA,OAAAA,CACKoE,EAAAA,CAAcpE,CAAAA,CAAI6C,IAAJ7C,EAAdoE,CADLpE,EACuB6C,IADvB7C,CACuB6C,UAA7B2B,CAA6B3B,EAA7B2B;AACDC,MAAAA,EAAAA,CAASD,CAATC,CAAAA,IAAc9M,UAAAA,CAAW,YAAA;AAAA,eAAMqI,CAAAA,CAAI8E,QAAJ9E,CApB3B,MAoB2BA,CAAN;AApBrB,OAoBUrI,EArBV,IAqBUA,CAAd8M,EACLzE,CAAAA,CAAIC,KAAJD,CAAUwE,CAAVxE,CADKyE;AACKD,KAHExE,CAAAA;AADF,GACEA,CADF,OAAA,CAAA,EAAA;AAAA,WAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA,CAARF,EAAQ,EAAA,CAMXS,CANW,CAAA,GAMC,UAACP,CAAD,EAAMQ,CAAN,EAAMA;AACjBR,EAAAA,CAAAA,CAAIS,SAAJT,CAAcQ,CAAAA,CAAOE,IAArBV,GACAA,CAAAA,CAAIpO,IAAJoO,CAASQ,CAAAA,CAAOE,IAAhBV,EAAsBZ,CAAtBY,EAA+BA,CAAAA,CAAIxC,GAAJwC,EAA/BA,CADAA;AACmCxC,CARjCsC,EAQiCtC,EAAAA,CAEpCoD,CAFoCpD,CAAAA,GAEtB,UAACwC,CAAD,EAAMQ,CAAN,EAAMA;AACnBR,EAAAA,CAAAA,CAAIa,WAAJb,CAAgBQ,CAAAA,CAAOE,IAAvBV;AAAuBU,CAXrBZ,EAWqBY,EAAAA,CAExBqE,CAFwBrE,CAAAA,GAExBqE,UAAkB/E,CAAlB+E,EAAuBvE,CAAvBuE,EAAuBvE;AAAAA,MAAAA;AAAW,WACjCA,CAAAA,CAAOM,KAAPN,CAAaR,CAAAA,CAAIxC,GAAJwC,EAAbQ,GAAiBhD,OAAAA,CAAAA,OAAAA,EADgB;AAbvB,GAaYgD,CAbZ,OAAA,CAAA,EAAA;AAAA,WAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA,CAARV,EAAQ,EAAA,CAAA,IAAA,GAAA,UAgBEE,CAhBF,EAgBEA;AAAAA,MAAAA;AAAAA,WAAAA,OAAAA,CAAAA,OAAAA,CACKoE,EAAAA,CAAcpE,CAAAA,CAAI6C,IAAJ7C,EAAdoE,CADLpE,EACuB6C,IADvB7C,CACuB6C,UAA7B2B,CAA6B3B,EAA7B2B;AArBK,UAACI,CAAD,EAAMC,CAAN;AAsBNJ,MAAAA,EAAAA,CAASD,CAATC,CAAAA,IAAc9M,UAAAA,CAAW,YAAA;AAAA,eAAMqI,CAAAA,CAAI8E,QAAJ9E,CAnC3B,MAmC2BA,CAAN;AAnCrB,OAmCUrI,EApCV,IAoCUA,CAAd8M,EAtBOG,CAAAA,GAuBD5E,CAAAA,CAAIxC,GAAJwC,EADNyE,EAtBYI,CAAAA,GAuBKL,CADjBC,EArBAvU,IAAAA,CAAKM,SAALN,CAAe0U,CAAf1U,MAAwBA,IAAAA,CAAKM,SAALN,CAAe2U,CAAf3U,CAAxBA,IAsBsB8P,CAAAA,CAAIgB,SAAJhB,CAAcZ,CAAdY,EAAuBwE,CAAvBxE,CADtByE,EAELzE,CAAAA,CAAIC,KAAJD,CAAUwE,CAAVxE,CAFKyE;AAEKD,KAJExE,CAAAA;AAhBF,GAgBEA,CAhBF,OAAA,CAAA,EAAA;AAAA,WAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA,CAARF,EAAQ,EAARA,CAlBN;AAAA,IA0CMkF,EAAAA,GAAS,UAAA,CAAA,EAAA;AAGb,MAF6B,YAAA,OAAlBX,CAAkB,KAC3BA,CAAAA,GAAgBA,CAAAA,CAAcA,aADH,GAER,QAAjBA,CAAJ,EAA2B,MAAA,IAAU1P,KAAV,CAAgB,wBAAhB,CAAA;AAC3B,SAAO0P,CAAP;AAAOA,CA9CT;AAAA,IAiDMY,EAAAA,GAAmB,UAAA,CAAA,EAAA;AACvB,SAAO7D,CAAAA,CAAMtB,EAANsB,EAAgB4D,EAAAA,CAAOX,CAAPW,CAAhB5D,CAAP;AAA8BiD,CAlDhC;;AAkDgCA,SAGhBa,EAHgBb,CAGJA,CAHIA,EAGJA;AAK1B,WAAS5D,CAAT,CAAmBxB,CAAnB,EAAmBA;AACjB,WAAOmG,CAAAA,CAAWJ,EAAAA,CAAOX,CAAPW,CAAXI,EAAkCH,EAAlCG,EAAoDnG,CAApDmG,CAAP;AAGF;;AAAA,WAASC,CAAT,CAAcC,CAAd,EAAcA;AACZ,WAAA,UAA0B5T,CAA1B,EAA0BA;AAAAA,WAAAA,CAAAA,KAAAA,CAAAA,KAAAA,CAAAA,GAAO,EAAPA;AACxB,UAAM6T,CAAAA,GAAW7T,CAAAA,CAAK6T,QAAL7T,IAAK6T,CAAY,CAAlC;AACA,aAAA,IAAW7N,OAAX,CAAmB,UAAC2E,CAAD,EAAUC,CAAV,EAAUA;AAC3B,YAAMkJ,CAAAA,GAAQ/E,CAAAA,CAAU,UAAA,CAAA,EAAA;AAClBgF,UAAAA,CAAAA,CAASC,UAATD,IAASC,CAAeH,CAAxBE,IACFnJ,CAAAA,CAAOmJ,CAAAA,CAASE,YAAhBrJ,CAAAA,EACAkJ,CAAAA,EAFEC,IAGOH,CAAAA,CAAUG,CAAVH,CAAAA,KACTjJ,CAAAA,CAAQoJ,CAARpJ,CAAAA,EACAmJ,CAAAA,EAFSF,CAHPG;AAKFD,SANU/E,CAAd;AAMI+E,OAPN,CAAA;AAOMA,KATR;AAgBF;;AAAA,SAAO;AACLhE,IAAAA,QAAAA,EA1BF,YAAA;AACE,aAAO2D,CAAAA,CAAWd,CAAXc,EAA0BF,EAA1BE,CAAP;AAAiCF,KAwB5B;AAELxE,IAAAA,SAAAA,EAAAA,CAFK;AAGLmF,IAAAA,aAAAA,EAAeP,CAAAA,CAAKV,EAALU,CAHV;AAILQ,IAAAA,YAAAA,EAAcR,CAAAA,CAAKX,EAALW,CAJT;AAKLS,IAAAA,UAAAA,EAAYT,CAAAA,CAAKZ,EAALY;AALP,GAAP;AASFH;;AAAAA,EAAAA,CAAYa,SAAZb,GA5EkB,UAAA,CAAA,EAAA;AAAA,SAAMV,CAAAA,CAAG1N,MAAH0N,IAAa,CAAnB;AAAmB,CA4ErCU,EACAA,EAAAA,CAAYc,SAAZd,GA9EkB,UAAA,CAAA,EAAA;AAAA,SAAMV,CAAAA,CAAG1N,MAAH0N,IAAa,CAAnB;AAAmB,CA6ErCU,EAEAA,EAAAA,CAAYP,WAAZO,GAA0BP,EAF1BO,EAGAA,EAAAA,CAAYR,UAAZQ,GAAyBR,EAHzBQ,EAIAA,EAAAA,CAAYT,QAAZS,GAAuBT,EAJvBS,EAKAA,EAAAA,CAAYe,SAAZf,GAtFkB,UAAA,CAAA,EAAA;AAAA,SAAoB,MAAdV,CAAAA,CAAG1N,MAAT;AAASA,CAiF3BoO;;AAjF2BpO,IAAAA,EAAAA;AAAAA,ICuCLoP,EAAAA,GAAAA,UAAOxU,CAAPwU,EAAOxU;AAAAA,OAAAA,CAAAA,KAAAA,CAAAA,KAAAA,CAAAA,GAAO,EAAPA;;AAAO,MAAA;AAAI,WAAA,OAAA,CAAA,OAAA,CAsfjC,UAAgB6E,CAAhB,EAAsBsG,CAAtB,EAAsBA;AAC5B,UAAA;AACC,YAAID,CAAAA,GAAAA,OAAAA,CAAAA,OAAAA,CAAAA,UAvdsBlL,CAudtBkL,EAvdsBlL;AAAAA,cAAAA;AAAM,mBAEhCS,CAAAA,CAAUpB,CAAAA,CAAWW,CAAXX,CAAVoB,EAA4B,kCAA5BA,CAAAA,EAEAA,CAAAA,CAAUnB,CAAAA,CAASU,CAATV,CAAVmB,EAA0B,wCAA1BA,CAFAA,EAIAA,CAAAA,CAAUpB,CAAAA,CAAWW,CAAAA,CAAKI,OAAhBf,CAAVoB,EAAoC,4CAApCA,CAJAA,EAMAA,CAAAA,CAAUlB,CAAAA,CAASS,CAAAA,CAAKI,OAAdb,CAAVkB,EAAkC,iDAAlCA,CANAA,EAMkC,OAAA,CAAA,OAAA,CAG1Bb,CAAAA,CAAI5B,MAAJ4B,CAAWtB,GAAXsB,CAAe,gBAAfA,CAH0B,EAGX,IAHW,CAGX,UAAA,CAAA,EAAA;AADvBa,cAAAA,CAAAA,CAAAA,CAAAA,EAAAA,gKAAAA,CAAAA;AAAAA,aAFkC,CARF;AAUhCA,WAV0BT,CAU1BS,OAAAA,CAAAA,EAAAA;AAAAA,mBAAAA,OAAAA,CAAAA,MAAAA,CAAAA,CAAAA,CAAAA;AAAAA;AAxCQgU,SAqfJvJ,CArfiBlL,CAqfjBkL,CAAAA,EArfiBlL,IAqfjBkL,CArfiBlL,YAAAA;AAAAA,iBAAAA,OAAAA,CAAAA,OAAAA,CAICJ,CAAAA,CAAI5B,MAAJ4B,GAAatB,GAAbsB,CAAiB,WAAjBA,EAA8BoS,EAAAA,GAAc3B,aAA5CzQ,CAJDI,EAI6CqQ,IAJ7CrQ,CAI6CqQ,UAA1DvO,CAA0DuO,EAA1DvO;AAoBN,mBAjBOlC,CAAAA,CAAIM,IAAJN,CAAS,CACdA,CAAAA,CAAI4T,WAAJ5T,CAAgBI,CAAAA,CAAKI,OAArBR,CADc,EAGdA,CAAAA,CAAIS,IAAJT,CAASF,CAAAA,CAAcM,CAAAA,CAAKK,IAALL,IAAa,EAA3BN,CAATE,CAHc,EAKdI,CAAAA,CAAKM,KAALN,IAAcP,CAAAA,CAASO,CAAAA,CAAKM,KAAdb,CAAdO,IAAsCJ,CAAAA,CAAIU,KAAJV,CAAUI,CAAAA,CAAKM,KAAfV,CALxB,EAQdA,CAAAA,CAAIuQ,QAAJvQ,CAAaI,CAAAA,CAAKmQ,QAALnQ,IAAiBA,CAAAA,CAAK8B,KAAtB9B,IAA+B8B,CAA5ClC,CARc,EAWdA,CAAAA,CAAIwQ,KAAJxQ,CAAUI,CAAAA,CAAKoQ,KAALpQ,IAAcA,CAAAA,CAAK8B,KAAnB9B,IAA4B8B,CAAtClC,CAXc,EAcdA,CAAAA,CAAI2S,cAAJ3S,CAAmBI,CAAAA,CAAKuS,cAALvS,IAAuB,CAACA,CAAAA,CAAK8B,KAAL9B,IAAc8B,CAAf,CAA1ClC,CAdc,CAATA,EAeJW,IAfIX,CAeCA,CAAAA,CAAIY,MAfLZ,CAiBP;AAFYY,WAtBOR,CAAAA;AAsBPQ,SA+dV0K,CAAJ;AACC,OAFF,CAEE,OAAMjC,CAAN,EAAMA;AACP,eAAOkC,CAAAA,CAAQlC,CAARkC,CAAP;AAED;;AAAA,aAAID,CAAAA,IAAUA,CAAAA,CAAO3K,IAAjB2K,GACIA,CAAAA,CAAO3K,IAAP2K,CAAO3K,KAAK,CAAZ2K,EAAoBC,CAApBD,CADJA,GAGGA,CAHP;AAGOA,KATD,CASCA,CATD,EASCA,UAneG9I,CAmeH8I,EAneG9I;AACP,YAAMA,CAAN;AAAMA,KAydH,CAtfiC,CAAA;AAAxC,GAAoC,CAApC,OAAA,CAAA,EAAA;AAAA,WAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA,CDvC2BgD;AAAAA,IEjBdsP,EAAAA,GAAAA,UAAmBrU,CAAnBqU,EAA8B1U,CAA9B0U,EAA8B1U;AAAAA,OAAAA,CAAAA,KAAXK,CAAWL,KAAXK,CAAAA,GAAO,EAAIL,GAAJ,KAAA,CAAA,KAAIA,CAAJ,KAAIA,CAAAA,GAAO,EAAX,CAAIA;;AAAO,MAAA;AAAA,WAAA,OAAA,CAAA,OAAA,CAClBhC,CAAAA,CAAOyQ,KAAPzQ,CAC5B,CAAC,aAAD,CAD4BA,EAE5BgC,CAAAA,CAAK2K,OAAL3K,IAAgB4U,CAFY5W,CADkB,EAG9B4W,IAH8B,CAG9BA,UAFZD,CAEYC,EAFZD;AAAAA,eAAAA,CAAAA,GAAAA;AAAAA,eAAAA,OAAAA,CAAAA,OAAAA,CAQwBA,CAAAA,CAAgBtU,CAAhBsU,CARxBA,EAQwCtU,IARxCsU,CAQwCtU,UAAAA,CAAAA,EAAAA;AAD9C,iBAAO7B,IAAAA,CAAKM,SAALN,CACLuW,CAAAA,CAAAA,CAAAA,CADKvW,EAEL,IAFKA,EAGL,CAHKA,CAAP;AAGE,SAVImW,CAAAA;AAUJ;;AAAA,UAAA,CAAA,GAAA,YAAA;AALF,YAAInJ,KAAAA,CAAMC,OAAND,CAAcnL,CAAdmL,CAAJ,EAAkBnL,OAAAA,OAAAA,CAAAA,OAAAA,CAAoBwU,CAAAA,CAAKC,CAAAA,EAALD,EAAoBxU,CAApBwU,CAApBxU,EAAwCA,IAAxCA,CAAwCA,UAAAA,CAAAA,EAAAA;AAAjCA,UAAAA,CAAAA,GAAAA,CAAAA;AAAAA,SAAPA,CAAAA;AAAOA,OAKvB,EAAA;;AALuBA,aAAAA,CAAAA,IAAAA,CAAAA,CAAAA,IAAAA,GAAAA,CAAAA,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,GAAAA,CAAAA,EAAAA;AAAAA,KANuB,CAAA;AAA5B,GAA4B,CAA5B,OAAA,CAAA,EAAA;AAAA,WAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA,CFiBK+E;AAAAA,IGXrB4P,EAAAA,GAAAA,UAAqB1G,CAArB0G,EAAqB1G;AAAAA,MAAAA;AAAAA,QAAAA,CAAAA,GAClBrI,UADkBqI;AAClBrI,WAAAA,OAAAA,CAAAA,OAAAA,CAECjI,CAAAA,GAASM,GAATN,CAAa,mBAAbA,EAPG,GAOHA,CAFDiI,EALI,IAKJA,CALI,UAAA,CAAA,EAAA;AAKX,aAAA,CAAA,CACE,YAAA;AAAA,eAAMqI,CAAAA,CAAI8E,QAAJ9E,CAJG,MAIHA,CAAN;AAJS,OAGX,EAHW,CAGX,CAAA;AAHW,KAGJrI,CAAAA;AADS,GAASqI,CAAT,OAAA,CAAA,EAAA;AAAA,WAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA,CHWSlJ;AAAAA,IGJrBgJ,EAAAA,IAAAA,CAAAA,EAAAA,GAAAA,EAAAA,EAAQ,IAARA,GAAQ,UACEE,CADF,EACEA;AAAAA,MAAAA;AACZ,QAAA,CAAKA,CAAAA,CAAI2G,OAAJ3G,EAAL,EAAoB,OAAA,OAAA,CAAA,OAAA,EAAA;;AACpB,QAAI4G,CAAAA,GAAM5G,CAAAA,CAAIhQ,GAAJgQ,CAAQ,KAARA,CAAV;AAAA,QAAkB,CAAA,GAAA,YAAA;AAAA,UACP,QAAP4G,CADc,EACdA;AAAAA,YAAAA,CAAAA,GACF5G,CAAAA,CAAI1P,GADFsW;AACEtW,eAAAA,OAAAA,CAAAA,OAAAA,CAAiBuW,CAAAA,EAAjBvW,EAAiBuW,IAAjBvW,CAAiBuW,UAAAA,CAAAA,EAAAA;AAArB7G,UAAAA,CAAAA,CAAAA,IAAAA,CAAAA,CAAAA,EAAQ,KAARA,EAAQ,CAARA;AAJiB,cAAA,CAAA,GAKjBA,CAAAA,CAAI1P,GALa;AAKbA,iBAAAA,OAAAA,CAAAA,OAAAA,CAAkBoW,EAAAA,CAAa1G,CAAb0G,CAAlBpW,EAA+B0P,IAA/B1P,CAA+B0P,UAAAA,CAAAA,EAAAA;AAAnCA,YAAAA,CAAAA,CAAAA,IAAAA,CAAAA,CAAAA,EAAQ,MAARA,EAAQ,CAARA;AAAQ,WAAJ1P,CAAAA;AAAI,SADJA,CAAAA;AACI;;AAAA,aAAA,OAAA,CAAA,OAAA,CAESuW,CAAAA,EAFT,EAESA,IAFT,CAESA,UAAbhC,CAAagC,EAAbhC;AAPa,eAQjB7E,CAAAA,CAAI1P,GAAJ0P,CAAQ,KAARA,EAAe6E,CAAf7E,GAAe6E,OAAAA,CAAAA,OAAAA,CACIjT,CAAAA,CAAK,CACtBkV,SAAAA,CAAU9G,CAAAA,CAAI6C,IAAJ7C,EAAV8G,EAAsBF,CAAAA,CAAIG,MAA1BD,EAAkCjC,CAAAA,CAAKkC,MAALlC,GAAc,CAAhDiC,CADsB,CAALlV,CAAAA,CAEhBK,IAFgBL,CAEXM,CAFWN,CADJiT,EAGP3S,IAHO2S,CAGP3S,UAFFc,CAEEd,EAFFc;AAGN,eAAA,IAAA,CAAA,EAAA,CAAA,GAAA,CAAA,CAAcA,CAAd,CAAA,EAAcA,CAAAA,CAAAA,CAAAA,GAAAA,CAAAA,EAAAA,EAAAA,IAAd,GAAoBgN,CAAAA,CAAIgB,SAAJhB,CAvBV,SAuBUA,EAvBV,CAAA,CAAA,KAAA,CAuBmChN,IAAzBgN;;AAZH,cAAA,CAAA,GAajBA,CAAAA,CAAI1P,GAba;AAabA,iBAAAA,OAAAA,CAAAA,OAAAA,CAAkBoW,EAAAA,CAAa1G,CAAb0G,CAAlBpW,EAA+B0P,IAA/B1P,CAA+B0P,UAAAA,CAAAA,EAAAA;AAAnCA,YAAAA,CAAAA,CAAAA,IAAAA,CAAAA,CAAAA,EAAQ,MAARA,EAAQ,CAARA;AAAQ,WAAJ1P,CAAAA;AAAI,SALOuU,CARE;AAaT,OARA,CAAA;AAQA,KAXQ,EAAlB;;AAWU,WAAA,OAAA,CAAA,OAAA,CAAA,CAAA,IAAA,CAAA,CAAA,IAAA,GAAA,CAAA,CAAA,IAAA,CAAA,YAAA,CAAA,CAAA,CAAA,GAAA,KAAA,CAAA,CAAA;AAdA,GACE7E,CADF,OAAA,CAAA,EAAA;AAAA,WAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA,CAARF,EAAQ,EAAA,CAiBXS,CAjBW,CAAA,GAiBXA,UAAmBP,CAAnBO,EAAwBC,CAAxBD,EAAwBC;AAAAA,MAAAA;AAAAA,QAAAA,CAAAA,GAAAA,YAAAA;AAIvBR,MAAAA,CAAAA,CAAIS,SAAJT,CAAcQ,CAAAA,CAAOE,IAArBV;AAAqBU,KAJEF;AAAAA,QAIFE,CAAAA,GAAAA,YAAAA;AAAAA,UAAAA,CAHhBV,CAAAA,CAAI2G,OAAJ3G,EAGgBU,EAHZiG;AAAAA,YAAAA,CAAAA,GACP3G,CAAAA,CAAI1P,GADGqW;AACHrW,eAAAA,OAAAA,CAAAA,OAAAA,CAAkBoW,EAAAA,CAAa1G,CAAb0G,CAAlBpW,EAA+B0P,IAA/B1P,CAA+B0P,UAAAA,CAAAA,EAAAA;AAAnCA,UAAAA,CAAAA,CAAAA,IAAAA,CAAAA,CAAAA,EAAQ,MAARA,EAAQ,CAARA;AAAQ,SAAJ1P,CAAAA;AAAI;AAAA,KAEWoQ,EAJEF;;AAEb,WAAA,OAAA,CAAA,OAAA,CAAA,CAAA,IAAA,CAAA,CAAA,IAAA,GAAA,CAAA,CAAA,IAAA,CAAA,CAAA,CAAA,GAAA,CAAA,EAAA,CAAA;AAnBA,GAiBaA,CAjBb,OAAA,CAAA,EAAA;AAAA,WAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA;AAAA,CAARV,EAAQ,EAAA,CAuBXc,CAvBW,CAAA,GAuBG,UAACZ,CAAD,EAAMQ,CAAN,EAAMA;AACnBR,EAAAA,CAAAA,CAAIa,WAAJb,CAAgBQ,CAAAA,CAAOE,IAAvBV,GACKA,CAAAA,CAAI2G,OAAJ3G,OACHgH,YAAAA,CAAahH,CAAAA,CAAIhQ,GAAJgQ,CAAQ,MAARA,CAAbgH,CAAAA,EACAhH,CAAAA,CAAAA,MAAAA,CAAW,MAAXA,CADAgH,EAEAhH,CAAAA,CAAAA,MAAAA,CAAW,KAAXA,CAHGA,CADLA;AAIa,CA5BXF,EA4BW,EA5BXA,CHIqBhJ;AAAAA,IG6BrBmQ,EAAAA,GAAc,UAAA,CAAA,EAAA;AAAA,SAAO7F,CAAAA,CAAMtB,EAANsB,EAAgBnR,CAAhBmR,CAAP;AAAuBnR,CH7BhB6G;;AG6BgB7G,SAE3BiX,EAF2BjX,CAEpBA,CAFoBA,EAEpBA;AACrB,SAAO;AACLwQ,IAAAA,SAAAA,EAAW,UAAA,CAAA,EAAA;AAAA,aAAY2E,CAAAA,CAAWnV,CAAXmV,EAAgB6B,EAAhB7B,EAA6BnG,CAA7BmG,CAAZ;AAAyCnG;AAD/C,GAAP;AACsDA;;AAAAA,ICtD3CkI,EAAAA,GAAe,UAACrW,CAAD,EAAO6K,CAAP,EAAOA;AAAAA,OAAAA,CAAAA,KAAAA,CAAAA,KAAAA,CAAAA,GAAM,EAANA,GAC7BxF,MAAAA,CAAOC,QAAPD,KAAoBA,MAAAA,CAAOiR,MAAPjR,CAAcC,QAAlCD,GACFA,MAAAA,CAAOiR,MAAPjR,CAAcyF,WAAdzF,CAAcyF,CAAAA,CAAAA,EAAAA,EAAgBD,CAAhBC,EAAgBD;AAAK7K,IAAAA,IAAAA,EAAAA;AAAL6K,GAAhBC,CAAdzF,EAA0C,GAA1CA,CADEA,GAGFA,MAAAA,CAAOkR,MAAPlR,CAAcyF,WAAdzF,CAAcyF,CAAAA,CAAAA,EAAAA,EAAgBD,CAAhBC,EAAgBD;AAAK7K,IAAAA,IAAAA,EAAAA;AAAL6K,GAAhBC,CAAdzF,EAA0C,GAA1CA,CAJ+BwF;AAIW,CDkDUsD;AAAAA,IClDV,EAAA,GAAA;AAAA,EAAA,SAAA,EAAA,IAAA;AAAA,EAAA,YAAA,EAAA,EAAA;AAAA,EAAA,KAAA,EAIzB,YAAA;AACnBkI,IAAAA,EAAAA,CAAa,gBAAbA,CAAAA;AAAa,GAL+B;AAK/B,EAAA,OAAA,EAGQ,UAAA,CAAA,EAAA;AACrBA,IAAAA,EAAAA,CAAa,mBAAbA,EAAkC;AAChC9U,MAAAA,MAAAA,EAAQ,iBADwB;AAEhCC,MAAAA,KAAAA,EAAO,OAFyB;AAGhCwE,MAAAA,MAAAA,EAAQ,UAHwB;AAIhCC,MAAAA,MAAAA,EAAQ,IAJwB;AAKhC/D,MAAAA,IAAAA,EAAMA;AAL0B,KAAlCmU,CAAAA;AAKQnU,GAdoC;AAcpCA,EAAAA,OAAAA,EAIa,UAAA,CAAA,EAAA;AACrBmU,IAAAA,EAAAA,CAAa,mBAAbA,EAAkC;AAChC9U,MAAAA,MAAAA,EAAQ,iBADwB;AAEhCC,MAAAA,KAAAA,EAAO,OAFyB;AAGhCwE,MAAAA,MAAAA,EAAQ,UAHwB;AAIhCC,MAAAA,MAAAA,EAAQA,CAJwB;AAKhC/D,MAAAA,IAAAA,EAAM;AAL0B,KAAlCmU,CAAAA;AAKQ,GAxBoC;AAwBpC,EAAA,gBAAA,EC5BsB,UAACG,CAAD,EAAcC,CAAd,EAAcA;AAAAA,SAAAA,CAAAA,KAAAA,CAAAA,KAAAA,CAAAA,GAAK,YAAA,CAAA,CAALA;;AAC5C,QAQM/L,CAAAA,GAAW,UAAA,CAAA,EAAA;AACf,UAAOxI,CAAAA,GAAQ2H,CAAAA,CAAR3H,IAAP;AACoB,kBAAA,OAATA,CAAS,IACD,QAAA,OAARA,CADS,IAEhBA,CAAAA,CAAKlC,IAALkC,KAAcsU,CAFE,IAIpBC,CAAAA,CAdgB,UAAA,CAAA,EAAA;AAAA,YAAA,CAAA;AAKhB,eAJIvU,CAAAA,CAAKyJ,UAALzJ,IACFe,OAAAA,CAAQiH,IAARjH,CAAa,oBAAbA,EAAmCf,CAAAA,CAAKyJ,UAALzJ,CAAgB0J,OAAnD3I,CADEf,EACiD0J,QAC9C1J,CAD8C0J,IAC9C1J,SAAAA,CAAAA,GAAAA,CAAAA,CAAMuD,IAANvD,CAD8C0J,IACxCnG,OAAAA,CAAAA,CAAMiQ,WAFfxT,EAIGA,CAAP;AASGwU,OAda,CAcHxU,CAdG,CAchBuU,CAJoB;AAIPvU,KAdf;;AAkBA,WADAmD,MAAAA,CAAOoF,gBAAPpF,CAAwB,SAAxBA,EAAmCqF,CAAnCrF,GAAmCqF,YAAAA;AAAAA,aACtBrF,MAAAA,CAAOuF,mBAAPvF,CAA2B,SAA3BA,EAAsCqF,CAAtCrF,CADsBqF;AACgBA,KAAnD;AAAmDA,GDfP;ACeOA,EAAAA,yBAAAA,EAAAA,CDfP;ACeOA,EAAAA,kBAAAA,EAAAA,UChBlBnH,CDgBkBmH,EChBZlH,CDgBYkH,EChBLkC,CDgBKlC,EChBLkC;AAC9CqB,SAAK1M,MAAL0M,GAAcrM,CAAAA,CAA2BL,MAAzC0M,EACAA,KAAKzM,KAALyM,GAAarM,CAAAA,CAA2BJ,KADxCyM,EAEAA,KAAK1K,IAAL0K,GAAY3K,CAAAA,CAAWC,CAAXD,CAFZ2K,EAGAA,KAAKzK,KAALyK,GAAa0I,MAAAA,CAAOnT,CAAPmT,CAHb1I,EAIAA,KAAKrB,SAALqB,GAAiBrB,CAJjBqB;AAIiBrB;AFJ2B,CDkDUuB;AAAAA,II1C3CsC,EAAAA,GAAe,YAAA;AAAA,SAAMmC,EAAAA,GAAcnC,YAAdmC,EAAN;AAAoBnC,CJ0CQtC;AAAAA,IIzC3C2C,EAAAA,GAAiB,YAAA;AAAA,SAAM8B,EAAAA,GAAc9B,cAAd8B,EAAN;AAAoB9B,CJyCM3C;AAAAA,IIxC3CyI,EAAAA,GAAiB,YAAA;AAE5B,SADAhE,EAAAA,GAAc9B,cAAd8B,IACOA,EAAAA,GAAcnC,YAAdmC,EAAP;AAAqBnC,CJsCiCtC;AAAAA,IIpC3C0I,EAAAA,GAAS,YAAA;AAAA,SAAMjE,EAAAA,GAAcnC,YAAdmC,EAAN;AAAoBnC,CJoCctC;AAAAA,IInC3C2I,EAAAA,GAAQ,YAAA;AAAA,SAAMlE,EAAAA,GAAcnC,YAAdmC,EAAN;AAAoBnC,CJmCetC;AAAAA,IIjC3CzL,EAAAA,GAAQkQ,EAAAA,GAAc3B,aJiCqB9C;AAAAA,II9B3CzN,EAAAA,GAAIqW,CJ8BuC5I;;AI9BvC4I,SAAAA,CAAAA,IAAAA,OAAAA,EAAAA,EAAAA,IAAAA,WAAAA,EAAAA,EAAAA,IAAAA,YAAAA,EAAAA,EAAAA,IAAAA,KAAAA,EAAAA,EAAAA,IAAAA,WAAAA,EAAAA,EAAAA,IAAAA,MAAAA,EAAAA,EAAAA,IAAAA,KAAAA,EAAAA,EAAAA,IAAAA,MAAAA,EAAAA,CAAAA,IAAAA,KAAAA,EAAAA,EAAAA,IAAAA,cAAAA,EAAAA,EAAAA,IAAAA,SAAAA,EAAAA,EAAAA,IAAAA,MAAAA,EAAAA,EAAAA,IAAAA,CAAAA,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,IAAAA,cAAAA,EAAAA,EAAAA,IAAAA,oBAAAA","sourcesContent":["import {config} from \"@onflow/sdk\"\n\nexport async function configLens(regex) {\n  return Object.fromEntries(\n    Object.entries(await config().where(regex)).map(([key, value]) => [\n      key.replace(regex, \"\"),\n      value,\n    ])\n  )\n}\n\nexport const SESSION_STORAGE = {\n  can: true,\n  get: async key => JSON.parse(sessionStorage.getItem(key)),\n  put: async (key, value) => sessionStorage.setItem(key, JSON.stringify(value)),\n}\n\nexport const LOCAL_STORAGE = {\n  can: true,\n  get: async key => JSON.parse(localStorage.getItem(key)),\n  put: async (key, value) => localStorage.setItem(key, JSON.stringify(value)),\n}\n\nexport const NO_STORAGE = {\n  can: false,\n}\n","import {config} from \"@onflow/sdk\"\nimport {SESSION_STORAGE} from \"./config-utils\"\n\nconfig({\n  \"discovery.wallet.method.default\": \"IFRAME/RPC\",\n  \"fcl.storage.default\": SESSION_STORAGE,\n})\n","export const VERSION = \"0.0.77\"\n","const is = type => d => typeof d === type\n\nexport const isRequired = d => d != null\nexport const isObject = is(\"object\")\nexport const isString = is(\"string\")\nexport const isFunc = is(\"function\")\nexport const isNumber = is(\"number\")\n","import {isFunc} from \"./is\"\nimport * as sdk from \"@onflow/sdk\"\nimport * as t from \"@onflow/types\"\n\nexport function normalizeArgs(ax) {\n  if (isFunc(ax)) return ax(sdk.arg, t)\n  return []\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport * as sdk from \"@onflow/sdk\"\nimport * as t from \"@onflow/types\"\nimport {isRequired, isObject, isString, isFunc} from \"./utils/is\"\nimport {normalizeArgs} from \"./utils/normalize-args\"\n\n/** Query the Flow Blockchain\n *\n *  @arg {Object} opts         - Query Options and configuration\n *  @arg {string} opts.cadence - Cadence Script used to query Flow\n *  @arg {ArgsFn} opts.args    - Arguments passed to cadence script\n *  @arg {number} opts.limit   - Compute Limit for Query\n *  @returns {Promise<Response>}\n *\n *  Where:\n *    @callback ArgsFn\n *    @arg {ArgFn}  arg - Argument function to define a single argument\n *    @arg {Object} t   - Cadence Types object used to define the type\n *    @returns {args[]}\n *\n *    @callback ArgFn\n *    @arg {Any}  value - the value of the argument\n *    @arg {Type} type  - the cadence type of the value\n *    @returns {arg}\n *\n *  Example:\n *    const cadence = `\n *      cadence: `\n *        pub fun main(a: Int, b: Int, c: Address): Int {\n *          log(c)\n *          return a + b\n *        }\n *    `.trim()\n *\n *    const args = (arg, t) => [\n *      arg(5, t.Int),\n *      arg(7, t.Int),\n *      arg(\"0xb2db43ad6bc345fec9\", t.Address),\n *    ]\n *\n *    await query({ cadence, args })\n */\nexport async function query(opts = {}) {\n  await preQuery(opts)\n\n  // prettier-ignore\n  return sdk.send([\n    sdk.script(opts.cadence),\n    sdk.args(normalizeArgs(opts.args || [])),\n    opts.limit && typeof opts.limit === \"number\" && sdk.limit(opts.limit)\n  ]).then(sdk.decode)\n}\n\nasync function preQuery(opts) {\n  invariant(\n    isRequired(opts.cadence),\n    \"query({ cadence }) -- cadence is required\"\n  )\n\n  invariant(\n    isString(opts.cadence),\n    \"query({ cadence }) -- cadence must be a string\"\n  )\n\n  invariant(\n    await sdk.config.get(\"accessNode.api\"),\n    `Required value for \"accessNode.api\" not defined in config. See: ${\"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration\"}`\n  )\n}\n","export const SERVICE_PRAGMA = {\n  f_type: \"Service\",\n  f_vsn: \"1.0.0\",\n}\n\nexport const IDENTITY_PRAGMA = {\n  f_type: \"Identity\",\n  f_vsn: \"1.0.0\",\n}\n\nexport const PROVIDER_PRAGMA = {\n  f_type: \"Provider\",\n  f_vsn: \"1.0.0\",\n}\n\nexport const USER_PRAGMA = {\n  f_type: \"USER\",\n  f_vsn: \"1.0.0\",\n}\n\nexport const POLLING_RESPONSE_PRAGMA = {\n  f_type: \"PollingResponse\",\n  f_vsn: \"1.0.0\",\n}\n\nexport const COMPOSITE_SIGNATURE_PRAGMA = {\n  f_type: \"CompositeSignature\",\n  f_vsn: \"1.0.0\",\n}\n\nexport const OPEN_ID_PRAGMA = {\n  f_type: \"OpenId\",\n  f_vsn: \"1.0.0\",\n}\n","import {SERVICE_PRAGMA} from \"./__vsn\"\n\n// {\n//    \"f_type\": \"Service\",\n//    \"f_vsn\": \"1.0.0\",\n//    \"type\": \"frame\",\n//    \"endpoint\": \"https://rawr\",\n//    \"data\": {},   // Sent to frame when ready\n//    \"params\": {}, // include in query params on frame\n// }\nexport function normalizeFrame(service) {\n  if (service == null) return null\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service\n\n    default:\n      return {\n        old: service,\n        ...SERVICE_PRAGMA,\n        type: \"frame\",\n        endpoint: service.endpoint,\n        params: service.params || {},\n        data: service.data || {},\n      }\n  }\n}\n","import {SERVICE_PRAGMA} from \"./__vsn\"\n\n// {\n//    \"f_type\": \"Service\",\n//    \"f_vsn\": \"1.0.0\",\n//    \"type\": \"back-channel-rpc\",\n//    \"endpoint\": \"https://rawr\",\n//    \"method\": \"HTTP/GET\", // HTTP/GET | HTTP/POST\n//    \"data\": {},           // included in body of rpc\n//    \"params\": {},         // included as query params on endpoint url\n// }\nexport function normalizeBackChannelRpc(service) {\n  if (service == null) return null\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service\n\n    default:\n      return {\n        ...SERVICE_PRAGMA,\n        type: \"back-channel-rpc\",\n        endpoint: service.endpoint,\n        method: service.method,\n        params: service.params || {},\n        data: service.data || {},\n      }\n  }\n}\n","import {SERVICE_PRAGMA} from \"./__vsn\"\n\n// {\n//    \"f_type\": \"Service\",\n//    \"f_vsn\": \"1.0.0\",\n//    type: \"local-view\",\n//    method: \"VIEW/IFRAME\",\n//    endpoint: \"https://woot.org/authz/local\",\n//    data: {},\n//    params: {},\n// }\nexport function normalizeLocalView(resp) {\n  if (resp == null) return null\n  if (resp.method == null) {\n    resp = {...resp, type: \"local-view\", method: \"VIEW/IFRAME\"}\n  }\n\n  switch (resp[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return resp\n\n    default:\n      return {\n        ...SERVICE_PRAGMA,\n        type: resp.type || \"local-view\",\n        method: resp.method,\n        endpoint: resp.endpoint,\n        data: resp.data || {},\n        params: resp.params || {},\n      }\n  }\n}\n","import {normalizeAuthn} from \"./authn\"\nimport {normalizeAuthz} from \"./authz\"\nimport {normalizePreAuthz} from \"./pre-authz\"\nimport {normalizeFrame} from \"./frame\"\nimport {normalizeBackChannelRpc} from \"./back-channel-rpc\"\nimport {normalizeOpenId} from \"./open-id\"\nimport {normalizeUserSignature} from \"./user-signature\"\nimport {normalizeLocalView} from \"./local-view\"\n\nexport function normalizeServices(services, data) {\n  return services.map(service => normalizeService(service, data))\n}\n\nconst serviceNormalizers = {\n  \"back-channel-rpc\": normalizeBackChannelRpc,\n  \"pre-authz\": normalizePreAuthz,\n  authz: normalizeAuthz,\n  authn: normalizeAuthn,\n  frame: normalizeFrame,\n  \"open-id\": normalizeOpenId,\n  \"user-signature\": normalizeUserSignature,\n  \"local-view\": normalizeLocalView,\n}\n\nexport function normalizeService(service, data) {\n  try {\n    var normalized = serviceNormalizers[service.type](service, data)\n    return normalized\n  } catch (error) {\n    console.error(\n      `Unrecognized FCL Service Type [${service.type}]`,\n      service,\n      error\n    )\n    return service\n  }\n}\n","import {withPrefix} from \"@onflow/util-address\"\nimport {SERVICE_PRAGMA, IDENTITY_PRAGMA} from \"./__vsn\"\n\n// {\n//   \"f_type\": \"service\",\n//   \"f_vsn\": \"1.0.0\",\n//   \"type\": \"pre-authz\",\n//   \"uid\": \"uniqueDedupeKey\",\n//   \"endpoint\": \"https://rawr\",\n//   \"method\": \"HTTP/POST\", // HTTP/POST | IFRAME/RPC | HTTP/RPC\n//   \"identity\": {\n//      \"address\": \"0x______\",\n//      \"keyId\": 0,\n//   },\n//   \"data\": {}, // included in body of pre-authz request\n//   \"params\": {}, // included as query params on endpoint url\n// }\nexport function normalizePreAuthz(service) {\n  if (service == null) return null\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service\n\n    default:\n      return {\n        ...SERVICE_PRAGMA,\n        type: service.type,\n        uid: service.id,\n        endpoint: service.endpoint,\n        method: service.method,\n        identity: {\n          ...IDENTITY_PRAGMA,\n          address: withPrefix(service.addr),\n          keyId: service.keyId,\n        },\n        params: service.params,\n        data: service.data,\n      }\n  }\n}\n","import {withPrefix} from \"@onflow/util-address\"\nimport {SERVICE_PRAGMA, IDENTITY_PRAGMA} from \"./__vsn\"\n\n// {\n//   \"f_type\": \"service\",\n//   \"f_vsn\": \"1.0.0\",\n//   \"type\": \"authz\",\n//   \"uid\": \"uniqueDedupeKey\",\n//   \"endpoint\": \"https://rawr\",\n//   \"method\": \"HTTP/POST\", // HTTP/POST | IFRAME/RPC | HTTP/RPC\n//   \"identity\": {\n//      \"address\": \"0x______\",\n//      \"keyId\": 0,\n//   },\n//   \"data\": {}, // included in body of authz request\n//   \"params\": {}, // included as query params on endpoint url\n// }\nexport function normalizeAuthz(service) {\n  if (service == null) return null\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service\n\n    default:\n      return {\n        ...SERVICE_PRAGMA,\n        type: service.type,\n        uid: service.id,\n        endpoint: service.endpoint,\n        method: service.method,\n        identity: {\n          ...IDENTITY_PRAGMA,\n          address: withPrefix(service.addr),\n          keyId: service.keyId,\n        },\n        params: service.params,\n        data: service.data,\n      }\n  }\n}\n","import {withPrefix} from \"@onflow/util-address\"\nimport {SERVICE_PRAGMA} from \"./__vsn\"\n\n// {\n//   \"f_type\": \"Service\",\n//   \"f_vsn\": \"1.0.0\",\n//   \"type\": \"authn\",\n//   \"uid\": \"uniqueDedupeKey\",\n//   \"endpoint\": \"https://rawr\",\n//   \"id\": \"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\", // wallets internal id for the user\n//   \"identity\": {\n//     \"address\": \"0x____\"\n//   },\n//   \"provider\": {\n//     \"address\": \"0x____\",\n//     \"name\": \"Best Wallet\",\n//     \"description\": \"The Best Wallet\"\n//     \"icon\": \"https://\",\n//   }\n// }\nexport function normalizeAuthn(service) {\n  if (service == null) return null\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service\n\n    default:\n      return {\n        ...SERVICE_PRAGMA,\n        type: service.type,\n        uid: service.id,\n        endpoint: service.authn,\n        id: service.pid,\n        provider: {\n          address: withPrefix(service.addr),\n          name: service.name,\n          icon: service.icon,\n        },\n      }\n  }\n}\n","import {SERVICE_PRAGMA, OPEN_ID_PRAGMA} from \"./__vsn\"\n\n// {\n//   \"f_type\": \"Service\",\n//   \"f_vsn\": \"1.0.0\",\n//   \"type\": \"open-id\",\n//   \"uid\": \"uniqueDedupeKey\",\n//   \"method: \"data\",\n//   \"data\": {\n//      \"profile\": {\n//        \"name\": \"Bob\",\n//        \"family_name\": \"Builder\",\n//        \"given_name\": \"Robert\",\n//        \"middle_name\": \"the\",\n//        \"nickname\": \"Bob the Builder\",\n//        \"perferred_username\": \"bob\",\n//        \"profile\": \"https://www.bobthebuilder.com/\",\n//        \"picture\": \"https://avatars.onflow.org/avatar/bob\",\n//        \"gender\": \"...\",\n//        \"birthday\": \"2001-01-18\",\n//        \"zoneinfo\": \"America/Vancouver\",\n//        \"locale\": \"en-us\",\n//        \"updated_at\": \"1614970797388\"\n//      },\n//      \"email\": {\n//        \"email\": \"bob@bob.bob\",\n//        \"email_verified\": true\n//      },\n//      \"address\": {\n//        \"address\": \"One Apple Park Way, Cupertino, CA 95014, USA\"\n//      },\n//      \"phone\": {\n//        \"phone_number\": \"+1 (xxx) yyy-zzzz\",\n//        \"phone_number_verified\": true\n//      },\n//      \"social\": {\n//        \"twitter\": \"@_qvvg\",\n//        \"twitter_verified\": true\n//      },\n//   }\n// }\nexport function normalizeOpenId(service) {\n  if (service == null) return null\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service\n\n    default:\n      return null\n  }\n}\n","// {\n//   \"f_type\": \"Service\",\n//   \"f_vsn\": \"1.0.0\",\n//   \"type\": \"user-signature\",\n//   \"uid\": \"uniqueDedupeKey\",\n//   \"endpoint\": \"https://rawr\",\n//   \"method\": \"IFRAME/RPC\", // HTTP/POST | IFRAME/RPC | HTTP/RPC\n//   \"id\": \"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\", // wallets internal id for the user\n//   \"data\": {}, // included in body of user-signature request\n//   \"params\": {}, // included as query params on endpoint url\n// }\nexport function normalizeUserSignature(service) {\n  if (service == null) return null\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service\n\n    default:\n      throw new Error(\"Invalid user-signature service\")\n  }\n}\n","import {withPrefix} from \"@onflow/util-address\"\nimport * as rlp from \"@onflow/rlp\"\nimport {fetchServices} from \"./fetch-services\"\nimport {mergeServices} from \"./merge-services\"\nimport {USER_PRAGMA} from \"./normalize/__vsn\"\nimport {normalizeService} from \"./normalize/service\"\n\nfunction deriveCompositeId(authn) {\n  return rlp\n    .encode([\n      authn.provider.address || authn.provider.name || \"UNSPECIFIED\",\n      authn.id,\n    ])\n    .toString(\"hex\")\n}\n\nfunction normalizeData(data) {\n  data.addr = data.addr ? withPrefix(data.addr) : null\n  data.paddr = data.paddr ? withPrefix(data.paddr) : null\n  return data\n}\n\nfunction findService(type, services) {\n  return services.find(d => d.type === type)\n}\n\nexport async function buildUser(data) {\n  data = normalizeData(data)\n\n  var services = mergeServices(\n    data.services || [],\n    await fetchServices(data.hks, data.code)\n  ).map(service => normalizeService(service, data))\n\n  const authn = findService(\"authn\", services)\n\n  return {\n    ...USER_PRAGMA,\n    addr: withPrefix(data.addr),\n    cid: deriveCompositeId(authn),\n    loggedIn: true,\n    services: services,\n    expiresAt: data.exp,\n  }\n}\n","export function serviceOfType(services = [], type) {\n  return services.find(service => service.type === type)\n}\n","export function serviceEndpoint(service) {\n  const url = new URL(service.endpoint)\n  url.searchParams.append(\"l6n\", window.location.origin)\n  if (service.params != null) {\n    for (let [key, value] of Object.entries(service.params || {})) {\n      url.searchParams.append(key, value)\n    }\n  }\n  return url\n}\n","import {serviceEndpoint} from \"./service-endpoint\"\n\nexport function fetchService(service, opts = {}) {\n  const method = opts.method || \"POST\"\n  const body =\n    method === \"GET\"\n      ? undefined\n      : JSON.stringify(opts.data || service.data || {})\n\n  return fetch(serviceEndpoint(service), {\n    method: method,\n    headers: {\n      ...(service.headers || {}),\n      ...(opts.headers || {}),\n      \"Content-Type\": \"application/json\",\n    },\n    body: body,\n  }).then((d) => d.json())\n}\n","import {POLLING_RESPONSE_PRAGMA} from \"./__vsn\"\nimport {normalizeBackChannelRpc} from \"./back-channel-rpc\"\nimport {normalizeFrame} from \"./frame\"\n\n// {\n//    \"f_type\": \"PollingResponse\",\n//    \"f_vsn\": \"1.0.0\",\n//    \"status\": \"PENDING\", // PENDING | APPROVED | DECLINED\n//    \"reason\": null,      // Reason for Declining Transaction\n//    \"data\": null,        // Return value for APPROVED\n//    \"updates\": BackChannelRpc,\n//    \"local\": Frame,\n// }\nexport function normalizePollingResponse(resp) {\n  if (resp == null) return null\n  if (!!resp.addr || !!resp.services) {\n    resp = {status: \"APPROVED\", data: {...resp}}\n  }\n\n  switch (resp[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return resp\n\n    default:\n      return {\n        ...POLLING_RESPONSE_PRAGMA,\n        status: resp.status,\n        reason: resp.reason ?? null,\n        data: resp.compositeSignature || resp.data || {},\n        updates: normalizeBackChannelRpc(resp.authorizationUpdates),\n        local: normalizeFrame((resp.local || [])[0]),\n      }\n  }\n}\n","import {normalizePollingResponse} from \"../../../normalize/polling-response\"\nimport {serviceEndpoint} from \"./service-endpoint\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {fetchService} from \"./fetch-service\"\n\nconst OPTIONS = {\n  \"HTTP/GET\": \"GET\",\n  \"HTTP/POST\": \"POST\",\n}\n\nconst serviceMethod = service => {\n  invariant(\n    OPTIONS[service.method],\n    \"Invalid Service Method for type back-channel-rpc\",\n    {service}\n  )\n  return OPTIONS[service.method]\n}\n\nconst serviceBody = service => {\n  if (service.method === \"HTTP/GET\") return undefined\n  if (service.method === \"HTTP/POST\" && service.data != null)\n    return JSON.stringify(service.data)\n  return undefined\n}\n\nexport async function poll(service, canContinue = () => true) {\n  invariant(service, \"Missing Polling Service\", {service})\n  if (!canContinue()) throw new Error(\"Externally Halted\")\n\n  const resp = await fetchService(service, {\n    method: serviceMethod(service),\n  }).then(normalizePollingResponse)\n\n  switch (resp.status) {\n    case \"APPROVED\":\n      return resp.data\n    case \"DECLINED\":\n      throw new Error(`Declined: ${resp.reason || \"No reason supplied.\"}`)\n    default:\n      await new Promise(r => setTimeout(r, 500))\n      return poll(resp.updates, canContinue)\n  }\n}\n","import {invariant} from \"@onflow/util-invariant\"\n\nconst FRAME = \"FCL_IFRAME\"\n\nconst FRAME_STYLES = `\n  position:fixed;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  height: 100vh;\n  width: 100vw;\n  display:block;\n  background:rgba(0,0,0,0.25);\n  z-index: 2147483647;\n  box-sizing: border-box;\n`\n\nexport function renderFrame(src) {\n  invariant(\n    !document.getElementById(FRAME),\n    \"Attempt at triggering multiple Frames\",\n    {src}\n  )\n\n  const $frame = document.createElement(\"iframe\")\n  $frame.src = src\n  $frame.id = FRAME\n  $frame.allow = \"usb *; hid *\"\n  $frame.frameBorder = \"0\"\n  $frame.style.cssText = FRAME_STYLES\n  document.body.append($frame)\n\n  const unmount = () => {\n    if (document.getElementById(FRAME)) {\n      document.getElementById(FRAME).remove()\n    }\n  }\n\n  return [$frame.contentWindow, unmount]\n}\n","const POP = \"FCL_POP\"\n\nlet popup = null\nlet previousUrl = null\n\nfunction popupWindow(url, windowName, win, w, h) {\n  const y = win.top.outerHeight / 2 + win.top.screenY - h / 2\n  const x = win.top.outerWidth / 2 + win.top.screenX - w / 2\n  return win.open(\n    url,\n    windowName,\n    `toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=${w}, height=${h}, top=${y}, left=${x}`\n  )\n}\n\nexport function renderPop(src) {\n  if (popup == null || popup?.closed) {\n    popup = popupWindow(src, POP, window, 640, 600)\n  } else if (previousUrl !== src) {\n    popup = popupWindow(src, POP, window, 640, 600)\n    popup.focus()\n  } else {\n    popup.focus()\n  }\n\n  previousUrl = src\n\n  var timer = setInterval(function () {\n    if (popup && popup.closed) {\n      clearInterval(timer)\n      popup = null\n    }\n  }, 1000)\n\n  const unmount = () => {\n    if (popup && !popup.closed) {\n      popup.close()\n      popup = null\n    }\n  }\n\n  return [popup, unmount]\n}\n","const TAB = \"FCL_TAB\"\n\nlet tab = null\nlet previousUrl = null\n\nexport function renderTab(src) {\n  if (tab == null || tab?.closed) {\n    tab = window.open(src, \"_blank\")\n  } else if (previousUrl !== src) {\n    tab = window.open(src, \"_blank\")\n    tab.focus()\n  } else {\n    tab.focus()\n  }\n\n  previousUrl = src\n\n  var timer = setInterval(function () {\n    if (tab && tab.closed) {\n      clearInterval(timer)\n      tab = null\n    }\n  }, 1000)\n\n  const unmount = () => {\n    if (tab && !tab.closed) {\n      tab.close()\n      tab = null\n    }\n  }\n\n  return [tab, unmount]\n}\n","import {renderFrame} from \"./strategies/utils/render-frame\"\nimport {renderPop} from \"./strategies/utils/render-pop\"\nimport {renderTab} from \"./strategies/utils/render-tab\"\nimport {serviceEndpoint} from \"./strategies/utils/service-endpoint\"\n\nconst VIEWS = {\n  \"VIEW/IFRAME\": renderFrame,\n  \"VIEW/POP\": renderPop,\n  \"VIEW/TAB\": renderTab,\n}\n\nexport async function execLocal(service, opts = {}) {\n  try {\n    return VIEWS[service.method](serviceEndpoint(service), opts)\n  } catch (error) {\n    console.error(\"execLocal({service, opts = {}})\", error, {service, opts})\n    throw error\n  }\n}\n","import {fetchService} from \"./utils/fetch-service\"\nimport {normalizePollingResponse} from \"../../normalize/polling-response\"\nimport {normalizeLocalView} from \"../../normalize/local-view\"\nimport {poll} from \"./utils/poll\"\nimport {execLocal} from \"../exec-local\"\n\nexport async function execHttpPost(service, signable, opts = {}) {\n  signable.data = service.data\n  const resp = await fetchService(service, {\n    data: signable,\n  }).then(normalizePollingResponse)\n\n  if (resp.status === \"APPROVED\") {\n    return resp.data\n  } else if (resp.status === \"DECLINED\") {\n    throw new Error(`Declined: ${resp.reason || \"No reason supplied.\"}`)\n  } else if (resp.status === \"PENDING\") {\n    var canContinue = true\n    const [_, unmount] = await execLocal(normalizeLocalView(resp.local))\n\n    const close = () => {\n      try {\n        unmount()\n        canContinue = false\n      } catch (error) {\n        console.error(\"Frame Close Error\", error)\n      }\n    }\n\n    return poll(resp.updates, () => canContinue)\n      .then(serviceResponse => {\n        close()\n        return serviceResponse\n      })\n      .catch(error => {\n        console.error(error)\n        close()\n        throw error\n      })\n  } else {\n    console.error(`Auto Decline: Invalid Response`, {service, resp})\n    throw new Error(`Auto Decline: Invalid Response`)\n  }\n}\n","import {renderFrame} from \"./render-frame\"\nimport {serviceEndpoint} from \"./service-endpoint\"\n\nconst CLOSE_EVENT = \"FCL:VIEW:CLOSE\"\nconst READY_EVENT = \"FCL:VIEW:READY\"\nconst RESPONSE_EVENT = \"FCL:VIEW:RESPONSE\"\n\nconst noop = () => {}\nconst _ = e => typeof e === \"string\" && e.toLowerCase()\nconst deprecate = (was, want) =>\n  console.warn(\n    \"DEPRECATION NOTICE\",\n    `Received ${was}, please use ${want} for this and future versions of FCL`\n  )\n\nconst IGNORE = new Set([\n  \"monetizationstart\",\n  \"monetizationpending\",\n  \"monetizationprogress\",\n  \"monetizationstop\",\n])\n\nexport function frame(service, opts = {}) {\n  if (service == null) return {send: noop, close: noop}\n\n  var tab = null\n  const onClose = opts.onClose || noop\n  const onMessage = opts.onMessage || noop\n  const onReady = opts.onReady || noop\n  const onResponse = opts.onResponse || noop\n\n  window.addEventListener(\"message\", internal)\n  const [$frame, unmount] = renderFrame(serviceEndpoint(service))\n  return {send, close}\n\n  function internal(e) {\n    try {\n      if (typeof e.data !== \"object\") return\n      if (IGNORE.has(e.data.type)) return\n      if (_(e.data.type) === _(CLOSE_EVENT)) close()\n      if (_(e.data.type) === _(READY_EVENT)) onReady(e, {send, close})\n      if (_(e.data.type) === _(RESPONSE_EVENT)) onResponse(e, {send, close})\n      onMessage(e, {send, close})\n\n      // Backwards Compatible\n      if (_(e.data.type) === _(\"FCL:FRAME:READY\")) {\n        deprecate(e.data.type, READY_EVENT)\n        onReady(e, {send, close})\n      }\n      if (_(e.data.type) === _(\"FCL:FRAME:RESPONSE\")) {\n        deprecate(e.data.type, RESPONSE_EVENT)\n        onResponse(e, {send, close})\n      }\n      if (_(e.data.type) === _(\"FCL:FRAME:CLOSE\")) {\n        deprecate(e.data.type, CLOSE_EVENT)\n        close()\n      }\n      //\n      if (_(e.data.type) === _(\"FCL::CHALLENGE::RESPONSE\")) {\n        deprecate(e.data.type, RESPONSE_EVENT)\n        onResponse(e, {send, close})\n      }\n      if (_(e.data.type) === _(\"FCL::AUTHZ_READY\")) {\n        deprecate(e.data.type, READY_EVENT)\n        onReady(e, {send, close})\n      }\n      if (_(e.data.type) === _(\"FCL::CHALLENGE::CANCEL\")) {\n        deprecate(e.data.type, CLOSE_EVENT)\n        close()\n      }\n      if (_(e.data.type) === _(\"FCL::CANCEL\")) {\n        deprecate(e.data.type, CLOSE_EVENT)\n        close()\n      }\n    } catch (error) {\n      console.error(\"Frame Callback Error\", error)\n      close()\n    }\n  }\n\n  function close() {\n    try {\n      window.removeEventListener(\"message\", internal)\n      if (tab != null) tab.close()\n      unmount()\n      onClose()\n    } catch (error) {\n      console.error(\"Frame Close Error\", error)\n    }\n  }\n\n  function send(msg) {\n    try {\n      $frame.postMessage(JSON.parse(JSON.stringify(msg || {})), \"*\")\n    } catch (error) {\n      console.error(\"Frame Send Error\", msg, error)\n    }\n  }\n}\n","import {renderPop} from \"./render-pop\"\nimport {serviceEndpoint} from \"./service-endpoint\"\n\nconst CLOSE_EVENT = \"FCL:VIEW:CLOSE\"\nconst READY_EVENT = \"FCL:VIEW:READY\"\nconst RESPONSE_EVENT = \"FCL:VIEW:RESPONSE\"\n\nconst noop = () => {}\nconst _ = e => typeof e === \"string\" && e.toLowerCase()\nconst deprecate = (was, want) =>\n  console.warn(\n    \"DEPRECATION NOTICE\",\n    `Received ${was}, please use ${want} for this and future versions of FCL`\n  )\n\nconst IGNORE = new Set([\n  \"monetizationstart\",\n  \"monetizationpending\",\n  \"monetizationprogress\",\n  \"monetizationstop\",\n])\n\nexport function pop(service, opts = {}) {\n  if (service == null) return {send: noop, close: noop}\n\n  var tab = null\n  const onClose = opts.onClose || noop\n  const onMessage = opts.onMessage || noop\n  const onReady = opts.onReady || noop\n  const onResponse = opts.onResponse || noop\n\n  window.addEventListener(\"message\", internal)\n  const [$pop, unmount] = renderPop(serviceEndpoint(service))\n  return {send, close}\n\n  function internal(e) {\n    try {\n      if (typeof e.data !== \"object\") return\n      if (IGNORE.has(e.data.type)) return\n      if (_(e.data.type) === _(CLOSE_EVENT)) close()\n      if (_(e.data.type) === _(READY_EVENT)) onReady(e, {send, close})\n      if (_(e.data.type) === _(RESPONSE_EVENT)) onResponse(e, {send, close})\n      onMessage(e, {send, close})\n\n      // Backwards Compatible\n      if (_(e.data.type) === _(\"FCL:FRAME:READY\")) {\n        deprecate(e.data.type, READY_EVENT)\n        onReady(e, {send, close})\n      }\n      if (_(e.data.type) === _(\"FCL:FRAME:RESPONSE\")) {\n        deprecate(e.data.type, RESPONSE_EVENT)\n        onResponse(e, {send, close})\n      }\n      if (_(e.data.type) === _(\"FCL:FRAME:CLOSE\")) {\n        deprecate(e.data.type, CLOSE_EVENT)\n        close()\n      }\n      //\n      if (_(e.data.type) === _(\"FCL::CHALLENGE::RESPONSE\")) {\n        deprecate(e.data.type, RESPONSE_EVENT)\n        onResponse(e, {send, close})\n      }\n      if (_(e.data.type) === _(\"FCL::AUTHZ_READY\")) {\n        deprecate(e.data.type, READY_EVENT)\n        onReady(e, {send, close})\n      }\n      if (_(e.data.type) === _(\"FCL::CHALLENGE::CANCEL\")) {\n        deprecate(e.data.type, CLOSE_EVENT)\n        close()\n      }\n      if (_(e.data.type) === _(\"FCL::CANCEL\")) {\n        deprecate(e.data.type, CLOSE_EVENT)\n        close()\n      }\n    } catch (error) {\n      console.error(\"Popup Callback Error\", error)\n      close()\n    }\n  }\n\n  function close() {\n    try {\n      window.removeEventListener(\"message\", internal)\n      if (tab != null) tab.close()\n      unmount()\n      onClose()\n    } catch (error) {\n      console.error(\"Popup Close Error\", error)\n    }\n  }\n\n  function send(msg) {\n    try {\n      $pop.postMessage(JSON.parse(JSON.stringify(msg || {})), \"*\")\n    } catch (error) {\n      console.error(\"Popup Send Error\", msg, error)\n    }\n  }\n}\n","import {renderTab} from \"./render-tab\"\nimport {serviceEndpoint} from \"./service-endpoint\"\n\nconst CLOSE_EVENT = \"FCL:VIEW:CLOSE\"\nconst READY_EVENT = \"FCL:VIEW:READY\"\nconst RESPONSE_EVENT = \"FCL:VIEW:RESPONSE\"\n\nconst noop = () => {}\nconst _ = e => typeof e === \"string\" && e.toLowerCase()\nconst deprecate = (was, want) =>\n  console.warn(\n    \"DEPRECATION NOTICE\",\n    `Received ${was}, please use ${want} for this and future versions of FCL`\n  )\n\nconst IGNORE = new Set([\n  \"monetizationstart\",\n  \"monetizationpending\",\n  \"monetizationprogress\",\n  \"monetizationstop\",\n])\n\nexport function tab(service, opts = {}) {\n  if (service == null) return {send: noop, close: noop}\n\n  var tab = null\n  const onClose = opts.onClose || noop\n  const onMessage = opts.onMessage || noop\n  const onReady = opts.onReady || noop\n  const onResponse = opts.onResponse || noop\n\n  window.addEventListener(\"message\", internal)\n  const [$tab, unmount] = renderTab(serviceEndpoint(service))\n  return {send, close}\n\n  function internal(e) {\n    try {\n      if (typeof e.data !== \"object\") return\n      if (IGNORE.has(e.data.type)) return\n      if (_(e.data.type) === _(CLOSE_EVENT)) close()\n      if (_(e.data.type) === _(READY_EVENT)) onReady(e, {send, close})\n      if (_(e.data.type) === _(RESPONSE_EVENT)) onResponse(e, {send, close})\n      onMessage(e, {send, close})\n\n      // Backwards Compatible\n      if (_(e.data.type) === _(\"FCL:FRAME:READY\")) {\n        deprecate(e.data.type, READY_EVENT)\n        onReady(e, {send, close})\n      }\n      if (_(e.data.type) === _(\"FCL:FRAME:RESPONSE\")) {\n        deprecate(e.data.type, RESPONSE_EVENT)\n        onResponse(e, {send, close})\n      }\n      if (_(e.data.type) === _(\"FCL:FRAME:CLOSE\")) {\n        deprecate(e.data.type, CLOSE_EVENT)\n        close()\n      }\n      //\n      if (_(e.data.type) === _(\"FCL::CHALLENGE::RESPONSE\")) {\n        deprecate(e.data.type, RESPONSE_EVENT)\n        onResponse(e, {send, close})\n      }\n      if (_(e.data.type) === _(\"FCL::AUTHZ_READY\")) {\n        deprecate(e.data.type, READY_EVENT)\n        onReady(e, {send, close})\n      }\n      if (_(e.data.type) === _(\"FCL::CHALLENGE::CANCEL\")) {\n        deprecate(e.data.type, CLOSE_EVENT)\n        close()\n      }\n      if (_(e.data.type) === _(\"FCL::CANCEL\")) {\n        deprecate(e.data.type, CLOSE_EVENT)\n        close()\n      }\n    } catch (error) {\n      console.error(\"Tab Callback Error\", error)\n      close()\n    }\n  }\n\n  function close() {\n    try {\n      window.removeEventListener(\"message\", internal)\n      if (tab != null) tab.close()\n      unmount()\n      onClose()\n    } catch (error) {\n      console.error(\"Tab Close Error\", error)\n    }\n  }\n\n  function send(msg) {\n    try {\n      $tab.postMessage(JSON.parse(JSON.stringify(msg || {})), \"*\")\n    } catch (error) {\n      console.error(\"Tab Send Error\", msg, error)\n    }\n  }\n}\n","import {execHttpPost} from \"./strategies/http-post\"\nimport {execIframeRPC} from \"./strategies/iframe-rpc\"\nimport {execPopRPC} from \"./strategies/pop-rpc\"\nimport {execTabRPC} from \"./strategies/tab-rpc\"\n\nconst STRATEGIES = {\n  \"HTTP/RPC\": execHttpPost,\n  \"HTTP/POST\": execHttpPost,\n  \"IFRAME/RPC\": execIframeRPC,\n  \"POP/RPC\": execPopRPC,\n  \"TAB/RPC\": execTabRPC,\n}\n\nexport async function execService({service, msg = {}, opts = {}}) {\n  try {\n    return STRATEGIES[service.method](service, msg, opts)\n  } catch (error) {\n    console.error(\"execService({service, msg = {}, opts = {}})\", error, {service, msg, opts})\n    throw error\n  }\n}","import {uid} from \"@onflow/util-uid\"\nimport {frame} from \"./utils/frame\"\nimport {normalizePollingResponse} from \"../../normalize/polling-response\"\nimport {configLens} from \"../../../config-utils\"\n\nexport function execIframeRPC(service, body, opts) {\n  return new Promise((resolve, reject) => {\n    const id = uid()\n    const includeOlderJsonRpcCall = opts.includeOlderJsonRpcCall\n\n    body.data = service.data\n\n    frame(service, {\n      async onReady(_, {send}) {\n        try {\n          send({\n            type: \"FCL:VIEW:READY:RESPONSE\",\n            body,\n            service: {\n              params: service.params,\n              data: service.data,\n            },\n            config: {\n              services: await configLens(/^service\\./),\n              app: await configLens(/^app\\.detail\\./),\n            },\n          })\n          send({\n            type: \"FCL:FRAME:READY:RESPONSE\",\n            body,\n            service: {\n              params: service.params,\n              data: service.data,\n            },\n            config: {\n              services: await configLens(/^service\\./),\n              app: await configLens(/^app\\.detail\\./),\n            },\n            deprecated: {\n              message:\n                \"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE\",\n            },\n          })\n          if (includeOlderJsonRpcCall) {\n            send({\n              jsonrpc: \"2.0\",\n              id: id,\n              method: \"fcl:sign\",\n              params: [body, service.params],\n              deprecated: {\n                message:\n                  \"jsonrpc is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE\",\n              },\n            })\n          }\n        } catch (error) {\n          throw error\n        }\n      },\n\n      onResponse(e, {close}) {\n        try {\n          if (typeof e.data !== \"object\") return\n          const resp = normalizePollingResponse(e.data)\n\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data)\n              close()\n              break\n\n            case \"DECLINED\":\n              reject(`Declined: ${resp.reason || \"No reason supplied\"}`)\n              close()\n              break\n\n            default:\n              reject(`Declined: No reason supplied`)\n              close()\n              break\n          }\n        } catch (error) {\n          console.error(\"execIframeRPC onResponse error\", error)\n          throw error\n        }\n      },\n\n      onMessage(e, {close}) {\n        try {\n          if (typeof e.data !== \"object\") return\n          if (e.data.jsonrpc !== \"2.0\") return\n          if (e.data.id !== id) return\n          const resp = normalizePollingResponse(e.data.result)\n\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data)\n              close()\n              break\n\n            case \"DECLINED\":\n              reject(`Declined: ${resp.reason || \"No reason supplied\"}`)\n              close()\n              break\n\n            default:\n              reject(`Declined: No reason supplied`)\n              close()\n              break\n          }\n        } catch (error) {\n          console.error(\"execIframeRPC onMessage error\", error)\n          throw error\n        }\n      },\n\n      onClose() {\n        reject(`Declined: Externally Halted`)\n      },\n    })\n  })\n}\n","import {uid} from \"@onflow/util-uid\"\nimport {pop} from \"./utils/pop\"\nimport {normalizePollingResponse} from \"../../normalize/polling-response\"\nimport {configLens} from \"../../../config-utils\"\n\nexport function execPopRPC(service, body, opts) {\n  return new Promise((resolve, reject) => {\n    const id = uid()\n    const includeOlderJsonRpcCall = opts.includeOlderJsonRpcCall\n\n    body.data = service.data\n\n    pop(service, {\n      async onReady(_, {send}) {\n        try {\n          send({\n            type: \"FCL:VIEW:READY:RESPONSE\",\n            body,\n            service: {\n              params: service.params,\n              data: service.data,\n            },\n            config: {\n              services: await configLens(/^service\\./),\n              app: await configLens(/^app\\.detail\\./),\n            },\n          })\n          send({\n            type: \"FCL:FRAME:READY:RESPONSE\",\n            body,\n            service: {\n              params: service.params,\n              data: service.data,\n            },\n            config: {\n              services: await configLens(/^service\\./),\n              app: await configLens(/^app\\.detail\\./),\n            },\n            deprecated: {\n              message:\n                \"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE\",\n            },\n          })\n          if (includeOlderJsonRpcCall) {\n            send({\n              jsonrpc: \"2.0\",\n              id: id,\n              method: \"fcl:sign\",\n              params: [body, service.params],\n            })\n          }\n        } catch (error) {\n          throw error\n        }\n      },\n\n      onResponse(e, {close}) {\n        try {\n          if (typeof e.data !== \"object\") return\n          const resp = normalizePollingResponse(e.data)\n\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data)\n              close()\n              break\n\n            case \"DECLINED\":\n              reject(`Declined: ${resp.reason || \"No reason supplied\"}`)\n              close()\n              break\n\n            default:\n              reject(`Declined: No reason supplied`)\n              close()\n              break\n          }\n        } catch (error) {\n          console.error(\"execPopRPC onResponse error\", error)\n          throw error\n        }\n      },\n\n      onMessage(e, {close}) {\n        try {\n          if (typeof e.data !== \"object\") return\n          if (e.data.jsonrpc !== \"2.0\") return\n          if (e.data.id !== id) return\n          const resp = normalizePollingResponse(e.data.result)\n\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data)\n              close()\n              break\n\n            case \"DECLINED\":\n              reject(`Declined: ${resp.reason || \"No reason supplied\"}`)\n              close()\n              break\n\n            default:\n              reject(`Declined: No reason supplied`)\n              close()\n              break\n          }\n        } catch (error) {\n          console.error(\"execPopRPC onMessage error\", error)\n          throw error\n        }\n      },\n\n      onClose() {\n        reject(`Declined: Externally Halted`)\n      },\n    })\n  })\n}\n","import {uid} from \"@onflow/util-uid\"\nimport {tab} from \"./utils/tab\"\nimport {normalizePollingResponse} from \"../../normalize/polling-response\"\nimport {configLens} from \"../../../config-utils\"\n\nexport function execTabRPC(service, body, opts) {\n  return new Promise((resolve, reject) => {\n    const id = uid()\n    const includeOlderJsonRpcCall = opts.includeOlderJsonRpcCall\n\n    body.data = service.data\n\n    tab(service, {\n      async onReady(_, {send}) {\n        try {\n          send({\n            type: \"FCL:VIEW:READY:RESPONSE\",\n            body,\n            service: {\n              params: service.params,\n              data: service.data,\n            },\n            config: {\n              services: await configLens(/^service\\./),\n              app: await configLens(/^app\\.detail\\./),\n            },\n          })\n          send({\n            type: \"FCL:FRAME:READY:RESPONSE\",\n            body,\n            service: {\n              params: service.params,\n              data: service.data,\n            },\n            config: {\n              services: await configLens(/^service\\./),\n              app: await configLens(/^app\\.detail\\./),\n            },\n            deprecated: {\n              message:\n                \"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE\",\n            },\n          })\n          if (includeOlderJsonRpcCall) {\n            send({\n              jsonrpc: \"2.0\",\n              id: id,\n              method: \"fcl:sign\",\n              params: [body, service.params],\n            })\n          }\n        } catch (error) {\n          throw error\n        }\n      },\n\n      onResponse(e, {close}) {\n        try {\n          if (typeof e.data !== \"object\") return\n          const resp = normalizePollingResponse(e.data)\n\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data)\n              close()\n              break\n\n            case \"DECLINED\":\n              reject(`Declined: ${resp.reason || \"No reason supplied\"}`)\n              close()\n              break\n\n            default:\n              reject(`Declined: No reason supplied`)\n              close()\n              break\n          }\n        } catch (error) {\n          console.error(\"execPopRPC onResponse error\", error)\n          throw error\n        }\n      },\n\n      onMessage(e, {close}) {\n        try {\n          if (typeof e.data !== \"object\") return\n          if (e.data.jsonrpc !== \"2.0\") return\n          if (e.data.id !== id) return\n          const resp = normalizePollingResponse(e.data.result)\n\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data)\n              close()\n              break\n\n            case \"DECLINED\":\n              reject(`Declined: ${resp.reason || \"No reason supplied\"}`)\n              close()\n              break\n\n            default:\n              reject(`Declined: No reason supplied`)\n              close()\n              break\n          }\n        } catch (error) {\n          console.error(\"execPopRPC onMessage error\", error)\n          throw error\n        }\n      },\n\n      onClose() {\n        reject(`Declined: Externally Halted`)\n      },\n    })\n  })\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport {query} from \"../exec/query\"\nimport {account} from \"@onflow/sdk\"\n\nexport async function verifyUserSignatures(msg, compSigs) {\n  invariant(/^[0-9a-f]+$/i.test(msg), \"Message must be a hex string\")\n  invariant(\n    Array.isArray(compSigs),\n    \"Must include an Array of composite signatures\"\n  )\n\n  let weights = []\n  let signAlgos = []\n  let signatures = []\n  const rawPubKeys = await Promise.all(\n    compSigs.map(async cs => {\n      invariant(typeof cs.addr === \"string\", \"addr must be a string\")\n      invariant(typeof cs.keyId === \"number\", \"keyId must be a number\")\n      invariant(typeof cs.signature === \"string\", \"signature must be a string\")\n\n      try {\n        const account = await account(cs.addr)\n        weights.push(account.keys[cs.keyId].weight.toFixed(1))\n        signAlgos.push(account.keys[cs.keyId].signAlgo)\n        signatures.push(cs.signature)\n        return account.keys[cs.keyId].publicKey\n      } catch (err) {\n        throw err\n      }\n    })\n  )\n\n  return await query({\n    cadence: `${VERIFY_SIG_SCRIPT}`,\n    args: (arg, t) => [\n      arg(msg, t.String),\n      arg(rawPubKeys, t.Array([t.String])),\n      arg(weights, t.Array(t.UFix64)),\n      arg(signAlgos, t.Array([t.UInt])),\n      arg(signatures, t.Array([t.String])),\n    ],\n  })\n}\n\nconst VERIFY_SIG_SCRIPT = `\nimport Crypto\n    \npub fun main(\n  message: String,\n  rawPublicKeys: [String],\n  weights: [UFix64],\n  signAlgos: [UInt],\n  signatures: [String],\n): Bool {\n\n  let keyList = Crypto.KeyList()\n  \n  var i = 0\n  for rawPublicKey in rawPublicKeys {\n    keyList.add(\n      PublicKey(\n        publicKey: rawPublicKey.decodeHex(),\n        signatureAlgorithm: signAlgos[i] == 2 ? SignatureAlgorithm.ECDSA_P256 : SignatureAlgorithm.ECDSA_secp256k1 \n      ),\n      hashAlgorithm: HashAlgorithm.SHA3_256,\n      weight: weights[i],\n    )\n    i = i + 1\n  }\n\n  let signatureSet: [Crypto.KeyListSignature] = []\n\n  var j = 0\n  for signature in signatures {\n    signatureSet.append(\n      Crypto.KeyListSignature(\n        keyIndex: j,\n        signature: signature.decodeHex()\n      )\n    )\n    j = j + 1\n  }\n    \n  let signedData = message.decodeHex()\n  \n  return keyList.verify(\n    signatureSet: signatureSet,\n    signedData: signedData\n  )\n}\n`\n","import {COMPOSITE_SIGNATURE_PRAGMA} from \"./__vsn\"\nimport {sansPrefix} from \"@onflow/util-address\"\n\n// {\n//    \"f_type\": \"CompositeSignature\",\n//    \"f_vsn\": \"1.0.0\",\n//    \"addr\": \"_____\",         // sans-prefix\n//    \"signature\": \"adfe1234\", // hex\n//    \"keyId\": 3,\n// }\nexport function normalizeCompositeSignature(resp) {\n  if (resp == null) return null\n\n  switch (resp[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return resp\n\n    default:\n      return {\n        ...COMPOSITE_SIGNATURE_PRAGMA,\n        addr: sansPrefix(resp.addr || resp.address),\n        signature: resp.signature || resp.sig,\n        keyId: resp.keyId,\n      }\n  }\n}\n","import \"../default-config\"\nimport {account, config} from \"@onflow/sdk\"\nimport {spawn, send, INIT, SUBSCRIBE, UNSUBSCRIBE} from \"@onflow/util-actor\"\nimport {sansPrefix} from \"@onflow/util-address\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {buildUser} from \"./build-user\"\nimport {serviceOfType} from \"./service-of-type\"\nimport {execService} from \"./exec-service\"\nimport {verifyUserSignatures as verify} from \"../exec/verify\"\nimport {normalizeCompositeSignature} from \"./normalize/composite-signature\"\n\nconst NAME = \"CURRENT_USER\"\nconst UPDATED = \"CURRENT_USER/UPDATED\"\nconst SNAPSHOT = \"SNAPSHOT\"\nconst SET_CURRENT_USER = \"SET_CURRENT_USER\"\nconst DEL_CURRENT_USER = \"DEL_CURRENT_USER\"\n\nconst DATA = `{\n  \"f_type\": \"User\",\n  \"f_vsn\": \"1.0.0\",\n  \"addr\":null,\n  \"cid\":null,\n  \"loggedIn\":null,\n  \"expiresAt\":null,\n  \"services\":[]\n}`\n\nconst getStoredUser = async storage => {\n  const fallback = JSON.parse(DATA)\n  const stored = await storage.get(NAME)\n  if (stored != null && fallback[\"f_vsn\"] !== stored[\"f_vsn\"]) {\n    storage.removeItem(NAME)\n    return fallback\n  }\n  return stored || fallback\n}\n\nconst HANDLERS = {\n  [INIT]: async ctx => {\n    ctx.merge(JSON.parse(DATA))\n    const storage = await config.first([\"fcl.storage\", \"fcl.storage.default\"])\n    if (storage.can) {\n      const user = await getStoredUser(storage)\n      if (notExpired(user)) ctx.merge(user)\n    }\n  },\n  [SUBSCRIBE]: (ctx, letter) => {\n    ctx.subscribe(letter.from)\n    ctx.send(letter.from, UPDATED, {...ctx.all()})\n  },\n  [UNSUBSCRIBE]: (ctx, letter) => {\n    ctx.unsubscribe(letter.from)\n  },\n  [SNAPSHOT]: async (ctx, letter) => {\n    letter.reply({...ctx.all()})\n  },\n  [SET_CURRENT_USER]: async (ctx, letter, data) => {\n    ctx.merge(data)\n    const storage = await config.first([\"fcl.storage\", \"fcl.storage.default\"])\n    if (storage.can) storage.put(NAME, ctx.all())\n    ctx.broadcast(UPDATED, {...ctx.all()})\n  },\n  [DEL_CURRENT_USER]: async (ctx, letter) => {\n    ctx.merge(JSON.parse(DATA))\n    const storage = await config.first([\"fcl.storage\", \"fcl.storage.default\"])\n    if (storage.can) storage.put(NAME, ctx.all())\n    ctx.broadcast(UPDATED, {...ctx.all()})\n  },\n}\n\nconst spawnCurrentUser = () => spawn(HANDLERS, NAME)\n\nfunction notExpired(user) {\n  return (\n    user.expiresAt == null ||\n    user.expiresAt === 0 ||\n    user.expiresAt > Date.now()\n  )\n}\n\nasync function authenticate() {\n  return new Promise(async (resolve, reject) => {\n    spawnCurrentUser()\n    const user = await snapshot()\n    if (user.loggedIn && notExpired(user)) return resolve(user)\n\n    const discoveryWallet = await config.first([\n      \"discovery.wallet\",\n      \"challenge.handshake\",\n    ])\n\n    try {\n      if (discoveryWallet == null) {\n        console.warn(\n          `Required value for \"discovery.wallet\" not defined in config. See: ${\"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration\"}`\n        )\n        throw new Error(\n          `Required config value \"discovery.wallet\" is not defined`\n        )\n      }\n    } catch (error) {\n      console.error(error)\n    }\n\n    const method = await config.first(\n      [\"discovery.wallet.method\", \"discovery.wallet.method.default\"],\n      \"IFRAME/RPC\"\n    )\n\n    try {\n      const response = await execService({\n        service: {\n          endpoint: discoveryWallet,\n          method: method,\n        },\n      })\n      send(NAME, SET_CURRENT_USER, await buildUser(response))\n    } catch (e) {\n      console.error(\"Error while authenticating\", e)\n    } finally {\n      resolve(await snapshot())\n    }\n  })\n}\n\nfunction unauthenticate() {\n  spawnCurrentUser()\n  send(NAME, DEL_CURRENT_USER)\n}\n\nconst normalizePreAuthzResponse = authz => ({\n  f_type: \"PreAuthzResponse\",\n  f_vsn: \"1.0.0\",\n  proposer: (authz || {}).proposer,\n  payer: (authz || {}).payer || [],\n  authorization: (authz || {}).authorization || [],\n})\n\nfunction resolvePreAuthz(authz) {\n  const resp = normalizePreAuthzResponse(authz)\n  const axs = []\n\n  if (resp.proposer != null) axs.push([\"PROPOSER\", resp.proposer])\n  for (let az of resp.payer || []) axs.push([\"PAYER\", az])\n  for (let az of resp.authorization || []) axs.push([\"AUTHORIZER\", az])\n\n  var result = axs.map(([role, az]) => ({\n    tempId: [az.identity.address, az.identity.keyId].join(\"|\"),\n    addr: az.identity.address,\n    keyId: az.identity.keyId,\n    signingFunction(signable) {\n      return execService({service: az, msg: signable})\n    },\n    role: {\n      proposer: role === \"PROPOSER\",\n      payer: role === \"PAYER\",\n      authorizer: role === \"AUTHORIZER\",\n    },\n  }))\n  return result\n}\n\nasync function authorization(account) {\n  spawnCurrentUser()\n  const user = await authenticate()\n  const authz = serviceOfType(user.services, \"authz\")\n\n  const preAuthz = serviceOfType(user.services, \"pre-authz\")\n  if (preAuthz) {\n    return {\n      ...account,\n      tempId: \"CURRENT_USER\",\n      async resolve(account, preSignable) {\n        return resolvePreAuthz(\n          await execService({service: preAuthz, msg: preSignable})\n        )\n      },\n    }\n  }\n\n  return {\n    ...account,\n    tempId: \"CURRENT_USER\",\n    resolve: null,\n    addr: sansPrefix(authz.identity.address),\n    keyId: authz.identity.keyId,\n    sequenceNum: null,\n    signature: null,\n    async signingFunction(signable) {\n      return normalizeCompositeSignature(\n        await execService({\n          service: authz,\n          msg: signable,\n          opts: {\n            includeOlderJsonRpcCall: true,\n          },\n        })\n      )\n    },\n  }\n}\n\nfunction subscribe(callback) {\n  spawnCurrentUser()\n  const EXIT = \"@EXIT\"\n  const self = spawn(async ctx => {\n    ctx.send(NAME, SUBSCRIBE)\n    while (1) {\n      const letter = await ctx.receive()\n      if (letter.tag === EXIT) {\n        ctx.send(NAME, UNSUBSCRIBE)\n        return\n      }\n      callback(letter.data)\n    }\n  })\n  return () => send(self, EXIT)\n}\n\nfunction snapshot() {\n  spawnCurrentUser()\n  return send(NAME, SNAPSHOT, null, {expectReply: true, timeout: 0})\n}\n\nasync function info() {\n  spawnCurrentUser()\n  const {addr} = await snapshot()\n  if (addr == null) throw new Error(\"No Flow Address for Current User\")\n  return account(addr)\n}\n\nconst makeSignable = msg => {\n  invariant(/^[0-9a-f]+$/i.test(msg), \"Message must be a hex string\")\n\n  return {\n    message: msg,\n  }\n}\n\nasync function signUserMessage(msg) {\n  spawnCurrentUser()\n  const user = await authenticate()\n  const signingService = serviceOfType(user.services, \"user-signature\")\n\n  invariant(\n    signingService,\n    \"Current user must have authorized a signing service.\"\n  )\n\n  try {\n    const response = await execService({\n      service: signingService,\n      msg: makeSignable(msg),\n    })\n    if (Array.isArray(response)) {\n      return response.map(compSigs => normalizeCompositeSignature(compSigs))\n    } else {\n      return [normalizeCompositeSignature(response)]\n    }\n  } catch (error) {\n    return error\n  }\n}\n\n// Deprecated\nasync function verifyUserSignatures(msg, compSigs) {\n  console.warn(\n    `\n    %cFCL/SDK Deprecation Notice\n    ============================\n    verifyUserSignatures is no longer exported as fcl.currentUser().verifyUserSignatures\n    and is now available as fcl.verifyUserSignatures\n    ============================\n    `,\n    \"font-weight:bold;font-family:monospace;\"\n  )\n  return verify(msg, compSigs)\n}\n\nlet currentUser = () => {\n  return {\n    authenticate,\n    unauthenticate,\n    authorization,\n    signUserMessage,\n    verifyUserSignatures,\n    subscribe,\n    snapshot\n  }\n}\n\ncurrentUser.authenticate = authenticate\ncurrentUser.unauthenticate = unauthenticate\ncurrentUser.authorization = authorization\ncurrentUser.signUserMessage = signUserMessage\ncurrentUser.verifyUserSignatures = verifyUserSignatures\ncurrentUser.subscribe = subscribe\ncurrentUser.snapshot = snapshot\n\nexport {currentUser}","export async function fetchServices(servicesURL, code) {\n  if (servicesURL == null || code == null) return []\n\n  const url = new URL(servicesURL)\n  url.searchParams.append(\"code\", code)\n\n  const resp = await fetch(url, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  }).then(d => d.json())\n\n  if (Array.isArray(resp)) return resp\n\n  // Backwards compatibility for First-Gen Wallet Providers\n  const services = []\n\n  // Convert authorizations into authz services\n  if (Array.isArray(resp.authorizations)) {\n    for (let service of resp.authorizations) {\n      services.push({\n        type: \"authz\",\n        keyId: resp.keyId,\n        ...service,\n      })\n    }\n  }\n\n  // Convert Provider info into an authn service\n  if (resp.provider != null) {\n    services.push({\n      type: \"authn\",\n      id: \"wallet-provider#authn\",\n      ...resp.provider,\n    })\n  }\n\n  return services\n}\n","import {withPrefix} from \"@onflow/util-address\"\n\nexport function mergeServices(sx1 = [], sx2 = []) {\n  // TODO: Make this smarter\n  return [...sx1, ...sx2]\n}\n","import \"../default-config\"\nimport {\n  spawn,\n  send,\n  subscriber,\n  snapshoter,\n  UPDATED,\n  SNAPSHOT,\n  INIT,\n  SUBSCRIBE,\n  UNSUBSCRIBE,\n} from \"@onflow/util-actor\"\nimport {send as fclSend, decode, getTransactionStatus} from \"@onflow/sdk\"\n\nconst RATE = 2500\nconst POLL = \"POLL\"\n\nconst fetchTxStatus = async transactionId => {\n  return fclSend([getTransactionStatus(transactionId)]).then(decode)\n}\n\nconst isExpired = tx => tx.status === 5\nconst isSealed = tx => tx.status >= 4\nconst isExecuted = tx => tx.status >= 3\nconst isFinalized = tx => tx.status >= 2\nconst isPending = tx => tx.status >= 1\nconst isUnknown = tx => tx.status >= 0\n\nconst isDiff = (cur, next) => {\n  return JSON.stringify(cur) !== JSON.stringify(next)\n}\n\nconst HANDLERS = {\n  [INIT]: async ctx => {\n    const tx = await fetchTxStatus(ctx.self())\n    if (!isSealed(tx)) setTimeout(() => ctx.sendSelf(POLL), RATE)\n    ctx.merge(tx)\n  },\n  [SUBSCRIBE]: (ctx, letter) => {\n    ctx.subscribe(letter.from)\n    ctx.send(letter.from, UPDATED, ctx.all())\n  },\n  [UNSUBSCRIBE]: (ctx, letter) => {\n    ctx.unsubscribe(letter.from)\n  },\n  [SNAPSHOT]: async (ctx, letter) => {\n    letter.reply(ctx.all())\n  },\n  [POLL]: async ctx => {\n    const tx = await fetchTxStatus(ctx.self())\n    if (!isSealed(tx)) setTimeout(() => ctx.sendSelf(POLL), RATE)\n    if (isDiff(ctx.all(), tx)) ctx.broadcast(UPDATED, tx)\n    ctx.merge(tx)\n  },\n}\n\nconst scoped = transactionId => {\n  if (typeof transactionId === \"object\")\n    transactionId = transactionId.transactionId\n  if (transactionId == null) throw new Error(\"transactionId required\")\n  return transactionId\n}\n\nconst spawnTransaction = transactionId => {\n  return spawn(HANDLERS, scoped(transactionId))\n}\n\nexport function transaction(transactionId) {\n  function snapshot() {\n    return snapshoter(transactionId, spawnTransaction)\n  }\n\n  function subscribe(callback) {\n    return subscriber(scoped(transactionId), spawnTransaction, callback)\n  }\n\n  function once(predicate) {\n    return function innerOnce(opts = {}) {\n      const suppress = opts.suppress || false\n      return new Promise((resolve, reject) => {\n        const unsub = subscribe(txStatus => {\n          if (txStatus.statusCode && !suppress) {\n            reject(txStatus.errorMessage)\n            unsub()\n          } else if (predicate(txStatus)) {\n            resolve(txStatus)\n            unsub()\n          }\n        })\n      })\n    }\n  }\n\n  return {\n    snapshot,\n    subscribe,\n    onceFinalized: once(isFinalized),\n    onceExecuted: once(isExecuted),\n    onceSealed: once(isSealed),\n  }\n}\n\ntransaction.isUnknown = isUnknown\ntransaction.isPending = isPending\ntransaction.isFinalized = isFinalized\ntransaction.isExecuted = isExecuted\ntransaction.isSealed = isSealed\ntransaction.isExpired = isExpired\n","import {invariant} from \"@onflow/util-invariant\"\nimport * as sdk from \"@onflow/sdk\"\nimport {isRequired, isObject, isString, isFunc, isNumber} from \"./utils/is\"\nimport {normalizeArgs} from \"./utils/normalize-args\"\nimport {currentUser} from \"../current-user\"\nimport {transaction} from \"../transaction\"\n\n/** As the current user Mutate the Flow Blockchain\n *\n *  @arg {Object} opts - Mutation Options and configuration\n *  @arg {string} opts.cadence - Cadence Transaction used to mutate Flow\n *  @arg {ArgsFn} opts.args - Arguments passed to cadence transaction\n *  @arg {number} opts.limit - Compute Limit for transaction\n *  @returns {string} Transaction Id\n *\n *  Where:\n *    @callback ArgsFn\n *    @arg {ArgFn}  arg - Argument function to define a single argument\n *    @arg {Object} t   - Cadence Types object used to define the type\n *    @returns {args[]}\n *\n *    @callback ArgFn\n *    @arg {Any}  value - the value of the argument\n *    @arg {Type} type  - the cadence type of the value\n *    @returns {arg}\n *\n *  Example:\n *    fcl.mutate({\n *      cadence: `\n *        transaction(a: Int, b: Int, c: Address) {\n *          prepare(acct: AuthAccount) {\n *            log(acct)\n *            log(a)\n *            log(b)\n *            log(c)\n *          }\n *        }\n *      `,\n *      args: (arg, t) => [\n *        arg(6, t.Int),\n *        arg(7, t.Int),\n *        arg(\"0xba1132bc08f82fe2\", t.Address),\n *      ],\n *    })\n *\n *\n *  Options:\n *    type Options = {\n *      cadence: String!,\n *      args: (arg, t) => Array<Arg>,\n *      limit: Number,\n *      authz: AuthzFn, // will overload the trinity of signatory roles\n *      proposer: AuthzFn, // will overload the proposer signatory role\n *      payer: AuthzFn, // will overload the payer signatory role\n *      authorizations: [AuthzFn], // an array of authorization functions used as authorizations signatory roles\n *    }\n */\n\nconst noop = () => {}\n\nexport async function mutate(opts = {}) {\n  var txid\n  try {\n    await prepMutation(opts)\n\n    // Allow for a config to overwrite the authorization function.\n    // prettier-ignore\n    const authz = await sdk.config().get(\"fcl.authz\", currentUser().authorization)\n\n    // prettier-ignore\n    txid = sdk.send([\n      sdk.transaction(opts.cadence),\n\n      sdk.args(normalizeArgs(opts.args || [])),\n\n      opts.limit && isNumber(opts.limit) && sdk.limit(opts.limit),\n\n      // opts.proposer > opts.authz > authz\n      sdk.proposer(opts.proposer || opts.authz || authz),\n\n      // opts.payer > opts.authz > authz\n      sdk.payer(opts.payer || opts.authz || authz),\n\n      // opts.authorizations > [opts.authz > authz]\n      sdk.authorizations(opts.authorizations || [opts.authz || authz]),\n    ]).then(sdk.decode)\n\n    return txid\n  } catch (error) {\n    throw error\n  }\n}\n\nasync function prepMutation(opts) {\n  // prettier-ignore\n  invariant(isRequired(opts), \"mutate(opts) -- opts is required\")\n  // prettier-ignore\n  invariant(isObject(opts), \"mutate(opts) -- opts must be an object\")\n  // prettier-ignore\n  invariant(isRequired(opts.cadence), \"mutate({ cadence }) -- cadence is required\")\n  // prettier-ignore\n  invariant(isString(opts.cadence), \"mutate({ cadence }) -- cadence must be a string\")\n  // prettier-ignore\n  invariant(\n    await sdk.config.get(\"accessNode.api\"),\n    `Required value for \"accessNode.api\" not defined in config. See: ${\"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration\"}`\n  )\n}\n","import {interaction, pipe} from \"@onflow/sdk\"\nimport {resolve as defaultResolve} from \"@onflow/sdk\"\nimport {config, createSignableVoucher} from \"@onflow/sdk\"\n\nexport const serialize = async (args = [], opts = {}) => {\n  const resolveFunction = await config.first(\n    [\"sdk.resolve\"],\n    opts.resolve || defaultResolve\n  )\n\n  if (Array.isArray(args)) args = await pipe(interaction(), args)\n\n  return JSON.stringify(\n    createSignableVoucher(await resolveFunction(args)),\n    null,\n    2\n  )\n}\n","import {spawn, subscriber, SUBSCRIBE, UNSUBSCRIBE} from \"@onflow/util-actor\"\nimport {config, latestBlock} from \"@onflow/sdk\"\nexport {getEvents} from \"@onflow/sdk\"\nimport {send} from \"@onflow/sdk\"\nimport {decode} from \"@onflow/sdk\"\n\nconst RATE = 10000\nconst UPDATED = \"UPDATED\"\nconst TICK = \"TICK\"\n\nconst scheduleTick = async ctx => {\n  return setTimeout(\n    () => ctx.sendSelf(TICK),\n    await config().get(\"fcl.eventPollRate\", RATE)\n  )\n}\n\nconst HANDLERS = {\n  [TICK]: async ctx => {\n    if (!ctx.hasSubs()) return\n    let hwm = ctx.get(\"hwm\")\n    if (hwm == null) {\n      ctx.put(\"hwm\", await latestBlock())\n      ctx.put(\"tick\", await scheduleTick(ctx))\n    } else {\n      let next = await latestBlock()\n      ctx.put(\"hwm\", next)\n      const data = await send([\n        getEvents(ctx.self(), hwm.height, next.height - 1),\n      ]).then(decode)\n      for (let d of data) ctx.broadcast(UPDATED, d.data)\n      ctx.put(\"tick\", await scheduleTick(ctx))\n    }\n  },\n  [SUBSCRIBE]: async (ctx, letter) => {\n    if (!ctx.hasSubs()) {\n      ctx.put(\"tick\", await scheduleTick(ctx))\n    }\n    ctx.subscribe(letter.from)\n  },\n  [UNSUBSCRIBE]: (ctx, letter) => {\n    ctx.unsubscribe(letter.from)\n    if (!ctx.hasSubs()) {\n      clearTimeout(ctx.get(\"tick\"))\n      ctx.delete(\"tick\")\n      ctx.delete(\"hwm\")\n    }\n  },\n}\n\nconst spawnEvents = key => spawn(HANDLERS, key)\n\nexport function events(key) {\n  return {\n    subscribe: callback => subscriber(key, spawnEvents, callback),\n  }\n}\n","export const sendMsgToFCL = (type, msg = {}) => {\n  if (window.location !== window.parent.location) {\n    window.parent.postMessage({...msg, type}, \"*\")\n  } else {\n    window.opener.postMessage({...msg, type}, \"*\")\n  }\n}\n\nexport const close = () => {\n  sendMsgToFCL(\"FCL:VIEW:CLOSE\")\n}\n\nexport const approve = data => {\n  sendMsgToFCL(\"FCL:VIEW:RESPONSE\", {\n    f_type: \"PollingResponse\",\n    f_vsn: \"1.0.0\",\n    status: \"APPROVED\",\n    reason: null,\n    data: data,\n  })\n}\n\nexport const decline = reason => {\n  sendMsgToFCL(\"FCL:VIEW:RESPONSE\", {\n    f_type: \"PollingResponse\",\n    f_vsn: \"1.0.0\",\n    status: \"DECLINED\",\n    reason: reason,\n    data: null,\n  })\n}\n","export const onMessageFromFCL = (messageType, cb = () => {}) => {\n  const buildData = data => {\n    if (data.deprecated)\n      console.warn(\"DEPRECATION NOTICE\", data.deprecated.message)\n    delete data?.body?.interaction\n\n    return data\n  }\n\n  const internal = e => {\n    const {data} = e\n    if (typeof data !== \"object\") return\n    if (typeof data == null) return\n    if (data.type !== messageType) return\n\n    cb(buildData(data))\n  }\n\n  window.addEventListener(\"message\", internal)\n  return () => window.removeEventListener(\"message\", internal)\n}\n","import {withPrefix} from \"@onflow/util-address\"\nimport {COMPOSITE_SIGNATURE_PRAGMA} from \"../current-user/normalize/__vsn\"\n\nexport function CompositeSignature(addr, keyId, signature) {\n  this.f_type = COMPOSITE_SIGNATURE_PRAGMA.f_type\n  this.f_vsn = COMPOSITE_SIGNATURE_PRAGMA.f_vsn\n  this.addr = withPrefix(addr)\n  this.keyId = Number(keyId)\n  this.signature = signature\n}\n","import \"./default-config\"\nexport {VERSION} from \"./VERSION\"\nexport {query} from \"./exec/query\"\nexport {mutate} from \"./exec/mutate\"\nexport {verifyUserSignatures} from \"./exec/verify\"\nexport {serialize} from \"./serialize\"\nexport {transaction as tx} from \"./transaction\"\nexport {events} from \"./events\"\n\nimport {currentUser} from \"./current-user\"\nexport {currentUser}\n\nexport const authenticate = () => currentUser().authenticate()\nexport const unauthenticate = () => currentUser().unauthenticate()\nexport const reauthenticate = () => {\n  currentUser().unauthenticate()\n  return currentUser().authenticate()\n}\nexport const signUp = () => currentUser().authenticate()\nexport const logIn = () => currentUser().authenticate()\n\nexport const authz = currentUser().authorization\n\nimport * as types from \"@onflow/types\"\nexport const t = types\n\nimport * as WalletUtils from \"./wallet-utils\"\nexport {WalletUtils}\n\nexport {TestUtils} from \"@onflow/sdk\"\nexport {config} from \"@onflow/sdk\"\nexport {send} from \"@onflow/sdk\"\nexport {decode} from \"@onflow/sdk\"\nexport {account} from \"@onflow/sdk\"\nexport {latestBlock} from \"@onflow/sdk\"\nexport {isOk, isBad, why, pipe, build} from \"@onflow/sdk\"\nexport {withPrefix, sansPrefix, display} from \"@onflow/util-address\"\nexport {template as cadence} from \"@onflow/util-template\"\nexport {template as cdc} from \"@onflow/util-template\"\nexport {createSignableVoucher} from \"@onflow/sdk\"\n\n// builders\nexport {transaction} from \"@onflow/sdk\"\nexport {script} from \"@onflow/sdk\"\nexport {ping} from \"@onflow/sdk\"\nexport {atBlockHeight} from \"@onflow/sdk\"\nexport {atBlockId} from \"@onflow/sdk\"\nexport {getAccount} from \"@onflow/sdk\"\nexport {getEvents} from \"@onflow/sdk\"\nexport {getEventsAtBlockHeightRange} from \"@onflow/sdk\"\nexport {getEventsAtBlockIds} from \"@onflow/sdk\"\nexport {getLatestBlock} from \"@onflow/sdk\"\nexport {getBlock} from \"@onflow/sdk\"\nexport {getBlockHeader} from \"@onflow/sdk\"\nexport {getBlockById} from \"@onflow/sdk\"\nexport {getBlockByHeight} from \"@onflow/sdk\"\nexport {getCollection} from \"@onflow/sdk\"\nexport {getTransactionStatus} from \"@onflow/sdk\"\nexport {getTransaction} from \"@onflow/sdk\"\nexport {authorizations, authorization} from \"@onflow/sdk\"\nexport {args, arg} from \"@onflow/sdk\"\nexport {proposer} from \"@onflow/sdk\"\nexport {payer} from \"@onflow/sdk\"\nexport {limit} from \"@onflow/sdk\"\nexport {ref} from \"@onflow/sdk\"\nexport {params, param} from \"@onflow/sdk\"\nexport {validator} from \"@onflow/sdk\"\nexport {invariant} from \"@onflow/sdk\"\n"]},"metadata":{},"sourceType":"module"}