{"ast":null,"code":"var _jsxFileName = \"/home/prakash/nftdapp-tutorial/src/App.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport Collection from \"./Collection.js\";\nimport SaleCollection from \"./SaleCollection.js\";\nimport * as fcl from \"@onflow/fcl\";\nimport * as t from \"@onflow/types\";\nimport { useState, useEffect } from 'react';\nimport { create } from 'ipfs-http-client';\nimport { mintNFT } from \"./cadence/transactions/mint_nft.js\";\nimport { setupUserTx } from \"./cadence/transactions/setup_user.js\";\nimport { listForSaleTx } from \"./cadence/transactions/list_for_sale.js\";\nimport { unlistFromSaleTx } from \"./cadence/transactions/unlist_from_sale.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst client = create('https://ipfs.infura.io:5001/api/v0');\nfcl.config().put(\"accessNode.api\", \"https://access-testnet.onflow.org\").put(\"discovery.wallet\", \"https://fcl-discovery.onflow.org/testnet/authn\");\n\nfunction App() {\n  _s();\n\n  const [user, setUser] = useState();\n  const [nameOfNFT, setNameOfNFT] = useState('');\n  const [file, setFile] = useState();\n  useEffect(() => {\n    // sets the `user` variable to the person that is logged in through Blocto\n    fcl.currentUser().subscribe(setUser);\n  }, []);\n\n  const logIn = () => {\n    // log in through Blocto\n    fcl.authenticate();\n  };\n\n  const mint = async () => {\n    try {\n      const added = await client.add(file);\n      const hash = added.path;\n      const transactionId = await fcl.send([fcl.transaction(mintNFT), fcl.args([fcl.arg(hash, t.String), fcl.arg(nameOfNFT, t.String)]), fcl.payer(fcl.authz), fcl.proposer(fcl.authz), fcl.authorizations([fcl.authz]), fcl.limit(9999)]).then(fcl.decode);\n      console.log(transactionId);\n      return fcl.tx(transactionId).onceSealed();\n    } catch (error) {\n      console.log('Error uploading file: ', error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Account address: \", user && user.addr ? user.addr : '']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => logIn(),\n      children: \"Log In\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => fcl.unauthenticate(),\n      children: \"Log Out\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        onChange: e => setNameOfNFT(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: e => setFile(e.target.files[0])\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => mint(),\n        children: \"Mint\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), user && user.addr && officialAddress && officialAddress !== '' ? /*#__PURE__*/_jsxDEV(SaleCollection, {\n      address: officialAddress\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"QiTS4l5Chmvk1+KFHEY0mJEU4tI=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/prakash/nftdapp-tutorial/src/App.js"],"names":["Collection","SaleCollection","fcl","t","useState","useEffect","create","mintNFT","setupUserTx","listForSaleTx","unlistFromSaleTx","client","config","put","App","user","setUser","nameOfNFT","setNameOfNFT","file","setFile","currentUser","subscribe","logIn","authenticate","mint","added","add","hash","path","transactionId","send","transaction","args","arg","String","payer","authz","proposer","authorizations","limit","then","decode","console","log","tx","onceSealed","error","addr","unauthenticate","e","target","value","files","officialAddress"],"mappings":"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","sourcesContent":["import './App.css';\n\nimport Collection from \"./Collection.js\";\nimport SaleCollection from \"./SaleCollection.js\";\n\nimport * as fcl from \"@onflow/fcl\";\nimport * as t from \"@onflow/types\";\nimport {useState, useEffect} from 'react';\nimport {create} from 'ipfs-http-client';\nimport {mintNFT} from \"./cadence/transactions/mint_nft.js\";\nimport {setupUserTx} from \"./cadence/transactions/setup_user.js\";\nimport {listForSaleTx} from \"./cadence/transactions/list_for_sale.js\";\nimport {unlistFromSaleTx} from \"./cadence/transactions/unlist_from_sale.js\";\n\nconst client = create('https://ipfs.infura.io:5001/api/v0');\n\nfcl.config()\n  .put(\"accessNode.api\", \"https://access-testnet.onflow.org\")\n  .put(\"discovery.wallet\", \"https://fcl-discovery.onflow.org/testnet/authn\")\n\nfunction App() {\n  const [user, setUser] = useState();\n  const [nameOfNFT, setNameOfNFT] = useState('');\n  const [file, setFile] = useState();\n \n\n  useEffect(() => {\n    // sets the `user` variable to the person that is logged in through Blocto\n    fcl.currentUser().subscribe(setUser);\n  }, [])\n\n  const logIn = () => {\n    // log in through Blocto\n    fcl.authenticate();\n  }\n\n  const mint = async () => {\n\n    try {\n      const added = await client.add(file)\n      const hash = added.path;\n\n      const transactionId = await fcl.send([\n        fcl.transaction(mintNFT),\n        fcl.args([\n          fcl.arg(hash, t.String),\n          fcl.arg(nameOfNFT, t.String)\n        ]),\n        fcl.payer(fcl.authz),\n        fcl.proposer(fcl.authz),\n        fcl.authorizations([fcl.authz]),\n        fcl.limit(9999)\n      ]).then(fcl.decode);\n  \n      console.log(transactionId);\n      return fcl.tx(transactionId).onceSealed();\n    } catch(error) {\n      console.log('Error uploading file: ', error);\n    }\n  }\n\n  \n\n  \n \n\n  return (\n    <div className=\"App\">\n      <h1>Account address: {user && user.addr ? user.addr : ''}</h1>\n      <button onClick={() => logIn()}>Log In</button>\n      <button onClick={() => fcl.unauthenticate()}>Log Out</button>\n      \n\n\n      <div>\n        <input type=\"text\" onChange={(e) => setNameOfNFT(e.target.value)} />\n        <input type=\"file\" onChange={(e) => setFile(e.target.files[0])} />\n        <button onClick={() => mint()}>Mint</button>\n      </div>\n\n     \n\n      \n\n      { user && user.addr && officialAddress && officialAddress !== ''\n        ?\n        <SaleCollection address={officialAddress}></SaleCollection>\n        :\n        null\n      }\n      \n      \n    </div>\n  );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}